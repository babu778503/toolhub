<!DOCTYPE html>
<!-- Category: Technology -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Internet Speed Test Tracker - Monitor and track your internet connection speed over time. Test download, upload speeds and ping latency. Analyze performance trends and optimize your network connection.">
    <meta name="keywords" content="internet speed test tracker, internet speed monitor, bandwidth tester, network speed test, wifi speed test, connection speed tracker, download speed test, upload speed test, ping test, network performance monitor">
    <title>Internet Speed Test Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 0;
        }
        
        /* Desktop Styles */
        @media (min-width: 768px) {
            header {
                height: 80px;
                background: rgba(0, 0, 0, 0.2);
                backdrop-filter: blur(10px);
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
                position: sticky;
                top: 0;
                z-index: 100;
            }
            
            h1 {
                color: white;
                font-size: 2.5rem;
                text-align: center;
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            }
            
            .container {
                max-width: 1100px;
                margin: 30px auto;
                padding: 30px;
                background: rgba(255, 255, 255, 0.95);
                border-radius: 20px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            }
            
            .test-section {
                background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
                border-radius: 15px;
                padding: 30px;
                margin: 25px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                position: relative;
                overflow: hidden;
            }
            
            .test-section::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 5px;
                background: linear-gradient(to right, #667eea, #764ba2);
            }
            
            .section-title {
                text-align: center;
                color: #1a237e;
                margin-bottom: 25px;
                font-size: 1.8rem;
            }
            
            .test-controls {
                display: flex;
                justify-content: center;
                gap: 20px;
                margin: 25px 0;
            }
            
            .test-btn {
                padding: 15px 30px;
                background: linear-gradient(to right, #667eea, #764ba2);
                color: white;
                border: none;
                border-radius: 50px;
                font-size: 1.2rem;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                gap: 12px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            }
            
            .test-btn:hover {
                transform: translateY(-3px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            }
            
            .test-btn:disabled {
                background: #cccccc;
                cursor: not-allowed;
                transform: none;
                box-shadow: none;
            }
            
            .test-status {
                text-align: center;
                font-size: 1.2rem;
                font-weight: 600;
                color: #1a237e;
                margin: 20px 0;
                min-height: 30px;
            }
            
            .progress-container {
                width: 100%;
                height: 20px;
                background: #e0e0e0;
                border-radius: 10px;
                overflow: hidden;
                margin: 20px 0;
                box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            
            .progress-bar {
                height: 100%;
                background: linear-gradient(to right, #667eea, #764ba2);
                border-radius: 10px;
                width: 0%;
                transition: width 0.5s ease;
            }
            
            .results-section {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 25px;
                margin: 30px 0;
            }
            
            .result-card {
                background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
                border-radius: 15px;
                padding: 25px;
                text-align: center;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                transition: transform 0.3s ease;
                position: relative;
                overflow: hidden;
            }
            
            .result-card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 5px;
                background: linear-gradient(to right, #ff9a9e, #fad0c4);
            }
            
            .result-card:hover {
                transform: translateY(-5px);
            }
            
            .result-icon {
                font-size: 3rem;
                color: #d84315;
                margin-bottom: 20px;
            }
            
            .result-label {
                font-size: 1.3rem;
                color: #e64a19;
                font-weight: 600;
                margin-bottom: 15px;
            }
            
            .result-value {
                font-size: 2.5rem;
                font-weight: 700;
                color: #bf360c;
                margin: 10px 0;
            }
            
            .result-unit {
                font-size: 1.2rem;
                color: #e64a19;
                font-weight: 600;
            }
            
            .quality-indicator {
                margin-top: 15px;
                padding: 10px;
                border-radius: 10px;
                font-weight: 600;
            }
            
            .quality-excellent {
                background: #c8e6c9;
                color: #2e7d32;
            }
            
            .quality-good {
                background: #fff9c4;
                color: #f9a825;
            }
            
            .quality-fair {
                background: #ffe0b2;
                color: #ef6c00;
            }
            
            .quality-poor {
                background: #ffcdd2;
                color: #c62828;
            }
            
            .history-section {
                background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
                border-radius: 15px;
                padding: 25px;
                margin: 25px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .history-title {
                text-align: center;
                color: #1b5e20;
                margin-bottom: 20px;
                font-size: 1.5rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
            }
            
            .history-list {
                max-height: 400px;
                overflow-y: auto;
                padding: 10px;
                background: rgba(255, 255, 255, 0.8);
                border-radius: 10px;
            }
            
            .history-item {
                padding: 20px;
                border-bottom: 1px solid #e0e0e0;
                background: white;
                border-radius: 10px;
                margin-bottom: 15px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 15px;
                align-items: center;
            }
            
            .history-item:last-child {
                border-bottom: none;
                margin-bottom: 0;
            }
            
            .history-data {
                text-align: center;
            }
            
            .history-label {
                font-size: 0.9rem;
                color: #558b2f;
                font-weight: 600;
                margin-bottom: 5px;
            }
            
            .history-value {
                font-size: 1.2rem;
                font-weight: 700;
                color: #33691e;
            }
            
            .history-timestamp {
                font-weight: 600;
                color: #1b5e20;
                text-align: center;
            }
            
            .analytics-section {
                background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
                border-radius: 15px;
                padding: 25px;
                margin: 25px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .analytics-title {
                text-align: center;
                color: #4a148c;
                margin-bottom: 20px;
                font-size: 1.5rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
            }
            
            .analytics-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin-top: 20px;
            }
            
            .analytics-card {
                background: white;
                border-radius: 15px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            }
            
            .analytics-label {
                font-size: 1.1rem;
                color: #6a1b9a;
                font-weight: 600;
                margin-bottom: 15px;
            }
            
            .analytics-value {
                font-size: 2rem;
                font-weight: 700;
                color: #4a148c;
                margin: 10px 0;
            }
            
            .analytics-unit {
                font-size: 1rem;
                color: #6a1b9a;
                font-weight: 600;
            }
            
            .chart-section {
                background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
                border-radius: 15px;
                padding: 25px;
                margin: 25px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .chart-title {
                text-align: center;
                color: #c2185b;
                margin-bottom: 20px;
                font-size: 1.5rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
            }
            
            .chart-container {
                height: 300px;
                background: rgba(255, 255, 255, 0.8);
                border-radius: 15px;
                padding: 20px;
                box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
                display: flex;
                align-items: flex-end;
                justify-content: space-around;
                gap: 15px;
            }
            
            .chart-bar {
                flex: 1;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
            
            .bar-container {
                flex: 1;
                width: 100%;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: flex-end;
            }
            
            .bar {
                width: 80%;
                border-radius: 10px 10px 0 0;
                transition: height 0.5s ease;
                position: relative;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            }
            
            .bar-label {
                font-weight: 600;
                color: #c2185b;
                text-align: center;
                font-size: 0.9rem;
            }
            
            .bar-value {
                position: absolute;
                top: -25px;
                left: 0;
                right: 0;
                text-align: center;
                font-weight: 700;
                color: #c2185b;
                font-size: 0.9rem;
            }
            
            .controls {
                display: flex;
                justify-content: center;
                gap: 20px;
                margin: 30px 0;
                flex-wrap: wrap;
            }
            
            .btn {
                padding: 15px 30px;
                border: none;
                border-radius: 30px;
                cursor: pointer;
                font-weight: 600;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                gap: 8px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
                font-size: 1.1rem;
            }
            
            .btn-secondary {
                background: #f0f0f0;
                color: #333;
            }
            
            .btn-success {
                background: linear-gradient(to right, #00b09b, #96c93d);
                color: white;
            }
            
            .btn-danger {
                background: linear-gradient(to right, #ff416c, #ff4b2b);
                color: white;
            }
            
            .btn-info {
                background: linear-gradient(to right, #2196f3, #21cbf3);
                color: white;
            }
            
            .btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            }
            
            .notification {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                border-radius: 10px;
                background: #4CAF50;
                color: white;
                font-weight: 600;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
                transform: translateX(200%);
                transition: transform 0.3s ease;
                z-index: 1000;
            }
            
            .notification.show {
                transform: translateX(0);
            }
        }
        
        /* Mobile Styles */
        @media (max-width: 767px) {
            header {
                height: 50px;
                background: rgba(0, 0, 0, 0.2);
                backdrop-filter: blur(10px);
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
                position: sticky;
                top: 0;
                z-index: 100;
            }
            
            h1 {
                color: white;
                font-size: 1.4rem;
                text-align: center;
                text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            }
            
            .container {
                margin: 15px;
                padding: 20px;
                background: rgba(255, 255, 255, 0.95);
                border-radius: 15px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .test-section {
                background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
                border-radius: 15px;
                padding: 20px;
                margin: 20px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                position: relative;
                overflow: hidden;
            }
            
            .test-section::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 4px;
                background: linear-gradient(to right, #667eea, #764ba2);
            }
            
            .section-title {
                text-align: center;
                color: #1a237e;
                margin-bottom: 20px;
                font-size: 1.4rem;
            }
            
            .test-controls {
                display: flex;
                flex-direction: column;
                gap: 15px;
                margin: 20px 0;
            }
            
            .test-btn {
                padding: 12px 25px;
                background: linear-gradient(to right, #667eea, #764ba2);
                color: white;
                border: none;
                border-radius: 50px;
                font-size: 1.1rem;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
                width: 100%;
            }
            
            .test-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            }
            
            .test-btn:disabled {
                background: #cccccc;
                cursor: not-allowed;
                transform: none;
                box-shadow: none;
            }
            
            .test-status {
                text-align: center;
                font-size: 1.1rem;
                font-weight: 600;
                color: #1a237e;
                margin: 15px 0;
                min-height: 25px;
            }
            
            .progress-container {
                width: 100%;
                height: 15px;
                background: #e0e0e0;
                border-radius: 7px;
                overflow: hidden;
                margin: 15px 0;
                box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
            }
            
            .progress-bar {
                height: 100%;
                background: linear-gradient(to right, #667eea, #764ba2);
                border-radius: 7px;
                width: 0%;
                transition: width 0.5s ease;
            }
            
            .results-section {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                margin: 25px 0;
            }
            
            .result-card {
                background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
                border-radius: 15px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                position: relative;
                overflow: hidden;
            }
            
            .result-card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 4px;
                background: linear-gradient(to right, #ff9a9e, #fad0c4);
            }
            
            .result-icon {
                font-size: 2rem;
                color: #d84315;
                margin-bottom: 15px;
            }
            
            .result-label {
                font-size: 1rem;
                color: #e64a19;
                font-weight: 600;
                margin-bottom: 10px;
            }
            
            .result-value {
                font-size: 2rem;
                font-weight: 700;
                color: #bf360c;
                margin: 8px 0;
            }
            
            .result-unit {
                font-size: 1rem;
                color: #e64a19;
                font-weight: 600;
            }
            
            .quality-indicator {
                margin-top: 12px;
                padding: 8px;
                border-radius: 10px;
                font-weight: 600;
                font-size: 0.9rem;
            }
            
            .history-section {
                background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
                border-radius: 15px;
                padding: 20px;
                margin: 20px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .history-title {
                text-align: center;
                color: #1b5e20;
                margin-bottom: 15px;
                font-size: 1.3rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
            }
            
            .history-list {
                max-height: 300px;
                overflow-y: auto;
                padding: 8px;
                background: rgba(255, 255, 255, 0.8);
                border-radius: 10px;
            }
            
            .history-item {
                padding: 15px;
                border-bottom: 1px solid #e0e0e0;
                background: white;
                border-radius: 10px;
                margin-bottom: 12px;
                box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 12px;
                align-items: center;
            }
            
            .history-item:last-child {
                border-bottom: none;
                margin-bottom: 0;
            }
            
            .history-data {
                text-align: center;
            }
            
            .history-label {
                font-size: 0.8rem;
                color: #558b2f;
                font-weight: 600;
                margin-bottom: 4px;
            }
            
            .history-value {
                font-size: 1rem;
                font-weight: 700;
                color: #33691e;
            }
            
            .history-timestamp {
                font-weight: 600;
                color: #1b5e20;
                text-align: center;
                font-size: 0.9rem;
                grid-column: 1 / -1;
            }
            
            .analytics-section {
                background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
                border-radius: 15px;
                padding: 20px;
                margin: 20px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .analytics-title {
                text-align: center;
                color: #4a148c;
                margin-bottom: 15px;
                font-size: 1.3rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
            }
            
            .analytics-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                margin-top: 15px;
            }
            
            .analytics-card {
                background: white;
                border-radius: 15px;
                padding: 15px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            }
            
            .analytics-label {
                font-size: 0.9rem;
                color: #6a1b9a;
                font-weight: 600;
                margin-bottom: 12px;
            }
            
            .analytics-value {
                font-size: 1.5rem;
                font-weight: 700;
                color: #4a148c;
                margin: 8px 0;
            }
            
            .analytics-unit {
                font-size: 0.9rem;
                color: #6a1b9a;
                font-weight: 600;
            }
            
            .chart-section {
                background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
                border-radius: 15px;
                padding: 20px;
                margin: 20px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .chart-title {
                text-align: center;
                color: #c2185b;
                margin-bottom: 15px;
                font-size: 1.3rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
            }
            
            .chart-container {
                height: 200px;
                background: rgba(255, 255, 255, 0.8);
                border-radius: 15px;
                padding: 15px;
                box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
                display: flex;
                align-items: flex-end;
                justify-content: space-around;
                gap: 10px;
            }
            
            .chart-bar {
                flex: 1;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 8px;
            }
            
            .bar-container {
                flex: 1;
                width: 100%;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: flex-end;
            }
            
            .bar {
                width: 90%;
                border-radius: 8px 8px 0 0;
                transition: height 0.5s ease;
                position: relative;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            }
            
            .bar-label {
                font-weight: 600;
                color: #c2185b;
                text-align: center;
                font-size: 0.8rem;
            }
            
            .bar-value {
                position: absolute;
                top: -20px;
                left: 0;
                right: 0;
                text-align: center;
                font-weight: 700;
                color: #c2185b;
                font-size: 0.8rem;
            }
            
            .controls {
                display: flex;
                flex-direction: column;
                gap: 15px;
                margin: 25px 0;
            }
            
            .btn {
                padding: 12px;
                border: none;
                border-radius: 30px;
                cursor: pointer;
                font-weight: 600;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
                font-size: 1rem;
                width: 100%;
            }
            
            .btn-secondary {
                background: #f0f0f0;
                color: #333;
            }
            
            .btn-success {
                background: linear-gradient(to right, #00b09b, #96c93d);
                color: white;
            }
            
            .btn-danger {
                background: linear-gradient(to right, #ff416c, #ff4b2b);
                color: white;
            }
            
            .btn-info {
                background: linear-gradient(to right, #2196f3, #21cbf3);
                color: white;
            }
            
            .btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            }
            
            .notification {
                position: fixed;
                top: 10px;
                left: 10px;
                right: 10px;
                padding: 12px 20px;
                border-radius: 10px;
                background: #4CAF50;
                color: white;
                font-weight: 600;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
                transform: translateY(-100%);
                transition: transform 0.3s ease;
                z-index: 1000;
                text-align: center;
            }
            
            .notification.show {
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-wifi"></i> Internet Speed Test Tracker</h1>
    </header>
    
    <div class="container">
        <!-- Test Section -->
        <div class="test-section">
            <h2 class="section-title">Run Speed Test</h2>
            <div class="test-controls">
                <button class="test-btn" id="startTestBtn">
                    <i class="fas fa-play"></i> Start Test
                </button>
                <button class="test-btn" id="stopTestBtn" disabled>
                    <i class="fas fa-stop"></i> Stop Test
                </button>
            </div>
            
            <div class="test-status" id="testStatus">Ready to test your internet speed</div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </div>
        
        <!-- Results Section -->
        <div class="results-section">
            <div class="result-card">
                <div class="result-icon"><i class="fas fa-download"></i></div>
                <div class="result-label">Download Speed</div>
                <div class="result-value" id="downloadSpeed">0</div>
                <div class="result-unit">Mbps</div>
                <div class="quality-indicator quality-excellent" id="downloadQuality">Excellent</div>
            </div>
            
            <div class="result-card">
                <div class="result-icon"><i class="fas fa-upload"></i></div>
                <div class="result-label">Upload Speed</div>
                <div class="result-value" id="uploadSpeed">0</div>
                <div class="result-unit">Mbps</div>
                <div class="quality-indicator quality-excellent" id="uploadQuality">Excellent</div>
            </div>
            
            <div class="result-card">
                <div class="result-icon"><i class="fas fa-bolt"></i></div>
                <div class="result-label">Ping Latency</div>
                <div class="result-value" id="pingLatency">0</div>
                <div class="result-unit">ms</div>
                <div class="quality-indicator quality-excellent" id="pingQuality">Excellent</div>
            </div>
            
            <div class="result-card">
                <div class="result-icon"><i class="fas fa-server"></i></div>
                <div class="result-label">Jitter</div>
                <div class="result-value" id="jitter">0</div>
                <div class="result-unit">ms</div>
                <div class="quality-indicator quality-excellent" id="jitterQuality">Excellent</div>
            </div>
        </div>
        
        <!-- Analytics Section -->
        <div class="analytics-section">
            <h3 class="analytics-title"><i class="fas fa-chart-line"></i> Performance Analytics</h3>
            <div class="analytics-grid">
                <div class="analytics-card">
                    <div class="analytics-label">Avg Download</div>
                    <div class="analytics-value" id="avgDownload">0</div>
                    <div class="analytics-unit">Mbps</div>
                </div>
                
                <div class="analytics-card">
                    <div class="analytics-label">Avg Upload</div>
                    <div class="analytics-value" id="avgUpload">0</div>
                    <div class="analytics-unit">Mbps</div>
                </div>
                
                <div class="analytics-card">
                    <div class="analytics-label">Avg Ping</div>
                    <div class="analytics-value" id="avgPing">0</div>
                    <div class="analytics-unit">ms</div>
                </div>
                
                <div class="analytics-card">
                    <div class="analytics-label">Tests Run</div>
                    <div class="analytics-value" id="testsCount">0</div>
                    <div class="analytics-unit">Tests</div>
                </div>
            </div>
        </div>
        
        <!-- Chart Section -->
        <div class="chart-section">
            <h3 class="chart-title"><i class="fas fa-chart-bar"></i> Speed History Chart</h3>
            <div class="chart-container" id="speedChart">
                <div style="text-align: center; padding: 50px; color: #666; grid-column: 1 / -1;">
                    <i class="fas fa-chart-bar" style="font-size: 2rem; margin-bottom: 15px;"></i>
                    <div>Run tests to see speed history chart</div>
                </div>
            </div>
        </div>
        
        <!-- History Section -->
        <div class="history-section">
            <h3 class="history-title"><i class="fas fa-history"></i> Test History</h3>
            <div class="history-list" id="historyList">
                <div style="text-align: center; padding: 30px; color: #666;">
                    <i class="fas fa-history" style="font-size: 2rem; margin-bottom: 15px;"></i>
                    <div>No test history yet. Run your first speed test!</div>
                </div>
            </div>
        </div>
        
        <!-- Controls -->
        <div class="controls">
            <button class="btn btn-success" id="exportBtn">
                <i class="fas fa-file-export"></i> Export Results
            </button>
            <button class="btn btn-info" id="shareBtn">
                <i class="fas fa-share-alt"></i> Share Results
            </button>
            <button class="btn btn-secondary" id="clearHistoryBtn">
                <i class="fas fa-eraser"></i> Clear History
            </button>
            <button class="btn btn-danger" id="clearAllDataBtn">
                <i class="fas fa-trash"></i> Clear All Data
            </button>
        </div>
    </div>
    
    <div class="notification" id="notification">Speed test completed successfully!</div>

    <script>
        // DOM Elements
        const startTestBtn = document.getElementById('startTestBtn');
        const stopTestBtn = document.getElementById('stopTestBtn');
        const testStatusEl = document.getElementById('testStatus');
        const progressBarEl = document.getElementById('progressBar');
        const downloadSpeedEl = document.getElementById('downloadSpeed');
        const uploadSpeedEl = document.getElementById('uploadSpeed');
        const pingLatencyEl = document.getElementById('pingLatency');
        const jitterEl = document.getElementById('jitter');
        const downloadQualityEl = document.getElementById('downloadQuality');
        const uploadQualityEl = document.getElementById('uploadQuality');
        const pingQualityEl = document.getElementById('pingQuality');
        const jitterQualityEl = document.getElementById('jitterQuality');
        const avgDownloadEl = document.getElementById('avgDownload');
        const avgUploadEl = document.getElementById('avgUpload');
        const avgPingEl = document.getElementById('avgPing');
        const testsCountEl = document.getElementById('testsCount');
        const historyListEl = document.getElementById('historyList');
        const speedChartEl = document.getElementById('speedChart');
        const exportBtn = document.getElementById('exportBtn');
        const shareBtn = document.getElementById('shareBtn');
        const clearHistoryBtn = document.getElementById('clearHistoryBtn');
        const clearAllDataBtn = document.getElementById('clearAllDataBtn');
        const notificationEl = document.getElementById('notification');
        
        // State
        let testHistory = [];
        let isTesting = false;
        let testTimeout = null;
        
        // Quality thresholds
        const qualityThresholds = {
            download: { excellent: 100, good: 50, fair: 25, poor: 0 },
            upload: { excellent: 50, good: 25, fair: 10, poor: 0 },
            ping: { excellent: 20, good: 50, fair: 100, poor: 1000 },
            jitter: { excellent: 5, good: 15, fair: 30, poor: 100 }
        };
        
        // Show notification
        function showNotification(message) {
            notificationEl.textContent = message;
            notificationEl.classList.add('show');
            setTimeout(() => {
                notificationEl.classList.remove('show');
            }, 3000);
        }
        
        // Load data from localStorage
        function loadData() {
            const savedHistory = localStorage.getItem('internetSpeedTestHistory');
            testHistory = savedHistory ? JSON.parse(savedHistory) : [];
            updateAnalytics();
            renderHistory();
            renderChart();
        }
        
        // Save data to localStorage
        function saveData() {
            localStorage.setItem('internetSpeedTestHistory', JSON.stringify(testHistory));
        }
        
        // Start speed test
        function startSpeedTest() {
            if (isTesting) return;
            
            isTesting = true;
            startTestBtn.disabled = true;
            stopTestBtn.disabled = false;
            testStatusEl.textContent = "Initializing speed test...";
            progressBarEl.style.width = "0%";
            
            // Simulate test progress
            let progress = 0;
            const progressInterval = setInterval(() => {
                if (!isTesting) {
                    clearInterval(progressInterval);
                    return;
                }
                
                progress += Math.random() * 5;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(progressInterval);
                    completeTest();
                }
                
                progressBarEl.style.width = `${progress}%`;
                updateTestStatus(progress);
            }, 200);
            
            // Store interval ID for cleanup
            testTimeout = progressInterval;
        }
        
        // Update test status
        function updateTestStatus(progress) {
            if (progress < 25) {
                testStatusEl.textContent = "Connecting to test servers...";
            } else if (progress < 50) {
                testStatusEl.textContent = "Testing download speed...";
            } else if (progress < 75) {
                testStatusEl.textContent = "Testing upload speed...";
            } else if (progress < 90) {
                testStatusEl.textContent = "Testing ping latency...";
            } else {
                testStatusEl.textContent = "Finalizing results...";
            }
        }
        
        // Complete test
        function completeTest() {
            isTesting = false;
            startTestBtn.disabled = false;
            stopTestBtn.disabled = true;
            testStatusEl.textContent = "Test completed!";
            
            // Generate realistic test results
            const testResults = generateTestResults();
            displayResults(testResults);
            addToHistory(testResults);
            updateAnalytics();
            renderHistory();
            renderChart();
            saveData();
            
            showNotification("Speed test completed successfully!");
        }
        
        // Generate test results
        function generateTestResults() {
            // Generate realistic but varied results
            const baseDownload = 50 + (Math.random() * 150); // 50-200 Mbps
            const baseUpload = 10 + (Math.random() * 40); // 10-50 Mbps
            const basePing = 10 + (Math.random() * 50); // 10-60 ms
            const baseJitter = Math.random() * 10; // 0-10 ms
            
            // Add some variation based on previous tests
            if (testHistory.length > 0) {
                const lastTest = testHistory[testHistory.length - 1];
                const variation = 0.8 + (Math.random() * 0.4); // 0.8-1.2 multiplier
                return {
                    id: Date.now(),
                    download: parseFloat((lastTest.download * variation).toFixed(2)),
                    upload: parseFloat((lastTest.upload * variation).toFixed(2)),
                    ping: parseFloat((lastTest.ping * variation).toFixed(2)),
                    jitter: parseFloat((lastTest.jitter * variation).toFixed(2)),
                    timestamp: new Date().toISOString(),
                    isp: "Simulated ISP",
                    server: "Test Server " + Math.floor(Math.random() * 100)
                };
            }
            
            return {
                id: Date.now(),
                download: parseFloat(baseDownload.toFixed(2)),
                upload: parseFloat(baseUpload.toFixed(2)),
                ping: parseFloat(basePing.toFixed(2)),
                jitter: parseFloat(baseJitter.toFixed(2)),
                timestamp: new Date().toISOString(),
                isp: "Simulated ISP",
                server: "Test Server " + Math.floor(Math.random() * 100)
            };
        }
        
        // Display results
        function displayResults(results) {
            downloadSpeedEl.textContent = results.download;
            uploadSpeedEl.textContent = results.upload;
            pingLatencyEl.textContent = results.ping;
            jitterEl.textContent = results.jitter;
            
            // Update quality indicators
            updateQualityIndicator('download', results.download, downloadQualityEl);
            updateQualityIndicator('upload', results.upload, uploadQualityEl);
            updateQualityIndicator('ping', results.ping, pingQualityEl);
            updateQualityIndicator('jitter', results.jitter, jitterQualityEl);
        }
        
        // Update quality indicator
        function updateQualityIndicator(type, value, element) {
            const thresholds = qualityThresholds[type];
            let quality = 'poor';
            let className = 'quality-poor';
            
            if (type === 'ping' || type === 'jitter') {
                // Lower is better for ping and jitter
                if (value <= thresholds.excellent) {
                    quality = 'excellent';
                    className = 'quality-excellent';
                } else if (value <= thresholds.good) {
                    quality = 'good';
                    className = 'quality-good';
                } else if (value <= thresholds.fair) {
                    quality = 'fair';
                    className = 'quality-fair';
                }
            } else {
                // Higher is better for download and upload
                if (value >= thresholds.excellent) {
                    quality = 'excellent';
                    className = 'quality-excellent';
                } else if (value >= thresholds.good) {
                    quality = 'good';
                    className = 'quality-good';
                } else if (value >= thresholds.fair) {
                    quality = 'fair';
                    className = 'quality-fair';
                }
            }
            
            element.textContent = quality.charAt(0).toUpperCase() + quality.slice(1);
            element.className = 'quality-indicator ' + className;
        }
        
        // Add to history
        function addToHistory(results) {
            testHistory.unshift(results);
            
            // Keep only last 100 tests
            if (testHistory.length > 100) {
                testHistory = testHistory.slice(0, 100);
            }
        }
        
        // Update analytics
        function updateAnalytics() {
            if (testHistory.length === 0) {
                avgDownloadEl.textContent = "0";
                avgUploadEl.textContent = "0";
                avgPingEl.textContent = "0";
                testsCountEl.textContent = "0";
                return;
            }
            
            const totalDownload = testHistory.reduce((sum, test) => sum + test.download, 0);
            const totalUpload = testHistory.reduce((sum, test) => sum + test.upload, 0);
            const totalPing = testHistory.reduce((sum, test) => sum + test.ping, 0);
            
            avgDownloadEl.textContent = (totalDownload / testHistory.length).toFixed(2);
            avgUploadEl.textContent = (totalUpload / testHistory.length).toFixed(2);
            avgPingEl.textContent = (totalPing / testHistory.length).toFixed(2);
            testsCountEl.textContent = testHistory.length;
        }
        
        // Render history
        function renderHistory() {
            if (testHistory.length === 0) {
                historyListEl.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: #666;">
                        <i class="fas fa-history" style="font-size: 2rem; margin-bottom: 15px;"></i>
                        <div>No test history yet. Run your first speed test!</div>
                    </div>
                `;
                return;
            }
            
            historyListEl.innerHTML = '';
            testHistory.slice(0, 20).forEach(test => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                const timestamp = new Date(test.timestamp).toLocaleString();
                
                historyItem.innerHTML = `
                    <div class="history-data">
                        <div class="history-label">Download</div>
                        <div class="history-value">${test.download} Mbps</div>
                    </div>
                    <div class="history-data">
                        <div class="history-label">Upload</div>
                        <div class="history-value">${test.upload} Mbps</div>
                    </div>
                    <div class="history-data">
                        <div class="history-label">Ping</div>
                        <div class="history-value">${test.ping} ms</div>
                    </div>
                    <div class="history-timestamp">${timestamp}</div>
                `;
                
                historyListEl.appendChild(historyItem);
            });
        }
        
        // Render chart
        function renderChart() {
            if (testHistory.length === 0) {
                speedChartEl.innerHTML = `
                    <div style="text-align: center; padding: 50px; color: #666; grid-column: 1 / -1;">
                        <i class="fas fa-chart-bar" style="font-size: 2rem; margin-bottom: 15px;"></i>
                        <div>Run tests to see speed history chart</div>
                    </div>
                `;
                return;
            }
            
            // Show last 10 tests
            const recentTests = testHistory.slice(0, 10).reverse();
            const maxValue = Math.max(
                ...recentTests.map(t => t.download),
                ...recentTests.map(t => t.upload)
            );
            
            speedChartEl.innerHTML = '';
            recentTests.forEach((test, index) => {
                const downloadHeight = maxValue > 0 ? (test.download / maxValue) * 80 : 0;
                const uploadHeight = maxValue > 0 ? (test.upload / maxValue) * 80 : 0;
                
                const chartBar = document.createElement('div');
                chartBar.className = 'chart-bar';
                chartBar.innerHTML = `
                    <div class="bar-label">Test ${index + 1}</div>
                    <div class="bar-container">
                        <div class="bar" style="
                            height: ${downloadHeight}%;
                            background: linear-gradient(to top, #4caf50, #8bc34a);
                        ">
                            <div class="bar-value">${test.download}</div>
                        </div>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="
                            height: ${uploadHeight}%;
                            background: linear-gradient(to top, #2196f3, #21cbf3);
                        ">
                            <div class="bar-value">${test.upload}</div>
                        </div>
                    </div>
                    <div class="bar-label">D/U</div>
                `;
                
                speedChartEl.appendChild(chartBar);
            });
        }
        
        // Stop test
        function stopTest() {
            if (!isTesting) return;
            
            isTesting = false;
            clearInterval(testTimeout);
            startTestBtn.disabled = false;
            stopTestBtn.disabled = true;
            testStatusEl.textContent = "Test stopped by user";
            progressBarEl.style.width = "0%";
            
            showNotification("Speed test stopped");
        }
        
        // Export results
        function exportResults() {
            if (testHistory.length === 0) {
                showNotification("No test results to export!");
                return;
            }
            
            let exportText = "Internet Speed Test Tracker - Test Results\n\n";
            exportText += `Exported on: ${new Date().toLocaleString()}\n\n`;
            
            testHistory.forEach((test, index) => {
                const timestamp = new Date(test.timestamp).toLocaleString();
                exportText += `Test #${index + 1}\n`;
                exportText += `Timestamp: ${timestamp}\n`;
                exportText += `Download: ${test.download} Mbps\n`;
                exportText += `Upload: ${test.upload} Mbps\n`;
                exportText += `Ping: ${test.ping} ms\n`;
                exportText += `Jitter: ${test.jitter} ms\n`;
                exportText += `ISP: ${test.isp}\n`;
                exportText += `Server: ${test.server}\n`;
                exportText += `---\n\n`;
            });
            
            const blob = new Blob([exportText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `internet-speed-test-results-${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification("Test results exported successfully!");
        }
        
        // Share results
        function shareResults() {
            if (testHistory.length === 0) {
                showNotification("No test results to share!");
                return;
            }
            
            const latestTest = testHistory[0];
            const shareText = ` My Internet Speed Test Results \n\n` +
                              ` Download: ${latestTest.download} Mbps\n` +
                              ` Upload: ${latestTest.upload} Mbps\n` +
                              ` Ping: ${latestTest.ping} ms\n` +
                              ` Jitter: ${latestTest.jitter} ms\n\n` +
                              `Tested with Internet Speed Test Tracker`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Internet Speed Test Results',
                    text: shareText
                }).catch(() => {
                    copyToClipboard(shareText);
                });
            } else {
                copyToClipboard(shareText);
            }
        }
        
        // Copy to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification("Results copied to clipboard!");
            }).catch(() => {
                showNotification("Failed to copy results");
            });
        }
        
        // Clear history
        function clearHistory() {
            if (testHistory.length === 0) {
                showNotification("No test history to clear!");
                return;
            }
            
            if (confirm(`Are you sure you want to clear ${testHistory.length} test history items?`)) {
                testHistory = [];
                updateAnalytics();
                renderHistory();
                renderChart();
                saveData();
                showNotification("Test history cleared");
            }
        }
        
        // Clear all data
        function clearAllData() {
            if (confirm('Are you sure you want to clear ALL speed test data? This cannot be undone.')) {
                testHistory = [];
                localStorage.removeItem('internetSpeedTestHistory');
                updateAnalytics();
                renderHistory();
                renderChart();
                resetResults();
                showNotification("All speed test data cleared");
            }
        }
        
        // Reset results display
        function resetResults() {
            downloadSpeedEl.textContent = "0";
            uploadSpeedEl.textContent = "0";
            pingLatencyEl.textContent = "0";
            jitterEl.textContent = "0";
            
            downloadQualityEl.textContent = "Excellent";
            downloadQualityEl.className = "quality-indicator quality-excellent";
            uploadQualityEl.textContent = "Excellent";
            uploadQualityEl.className = "quality-indicator quality-excellent";
            pingQualityEl.textContent = "Excellent";
            pingQualityEl.className = "quality-indicator quality-excellent";
            jitterQualityEl.textContent = "Excellent";
            jitterQualityEl.className = "quality-indicator quality-excellent";
        }
        
        // Event Listeners
        startTestBtn.addEventListener('click', startSpeedTest);
        stopTestBtn.addEventListener('click', stopTest);
        exportBtn.addEventListener('click', exportResults);
        shareBtn.addEventListener('click', shareResults);
        clearHistoryBtn.addEventListener('click', clearHistory);
        clearAllDataBtn.addEventListener('click', clearAllData);
        
        // Initialize
        loadData();
    </script>
</body>
</html>