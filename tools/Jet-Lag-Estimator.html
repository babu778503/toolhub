<!DOCTYPE html>
<!-- Category: Health -->
<!-- SEO Keywords: jet lag estimator, jet lag calculator, travel fatigue calculator, time zone adjustment, circadian rhythm calculator, flight fatigue estimator, jet lag recovery time, international travel fatigue, jet lag symptoms, travel health calculator -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Jet Lag Estimator. Estimate fatigue levels, recovery days, and get personalized tips to minimize jet lag effects.">
    <meta name="keywords" content="jet lag estimator, jet lag calculator, travel fatigue calculator, time zone adjustment, circadian rhythm calculator, flight fatigue estimator, jet lag recovery time, international travel fatigue, jet lag symptoms, travel health calculator">
    <meta name="author" content="Jet Lag Estimator">
    <title>Jet Lag Estimator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Desktop Styles */
        @media (min-width: 769px) {
            header {
                background: rgba(255, 255, 255, 0.95);
                border-radius: 12px;
                padding: 25px;
                margin-bottom: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
                text-align: center;
                position: relative;
                overflow: hidden;
            }

            header::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 5px;
                background: linear-gradient(90deg, #3498db, #1e3c72, #2980b9);
            }

            h1 {
                color: #1e3c72;
                font-size: 2.8rem;
                margin-bottom: 10px;
                position: relative;
                display: inline-block;
            }

            h1::after {
                content: "";
                position: absolute;
                bottom: -10px;
                left: 25%;
                right: 25%;
                height: 3px;
                background: #3498db;
                border-radius: 3px;
            }

            .calculator-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
                gap: 30px;
                margin-bottom: 30px;
            }

            .input-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            }

            .input-section h2 {
                color: #1e3c72;
                margin-bottom: 25px;
                padding-bottom: 15px;
                border-bottom: 2px solid #e0e0e0;
                font-size: 1.8rem;
            }

            .form-group {
                margin-bottom: 20px;
            }

            .form-group label {
                display: block;
                margin-bottom: 8px;
                font-weight: 600;
                color: #1e3c72;
                font-size: 1.1rem;
            }

            .form-group input,
            .form-group select {
                width: 100%;
                padding: 14px;
                border: 2px solid #ddd;
                border-radius: 8px;
                font-size: 1.1rem;
                transition: border-color 0.3s ease;
            }

            .form-group input:focus,
            .form-group select:focus {
                border-color: #3498db;
                outline: none;
                box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
            }

            .btn-calculate {
                background: #1e3c72;
                color: white;
                border: none;
                padding: 15px 30px;
                font-size: 1.2rem;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                width: 100%;
                margin-top: 10px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            }

            .btn-calculate:hover {
                background: #152a54;
                transform: translateY(-3px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            }

            .result-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
                display: flex;
                flex-direction: column;
                justify-content: center;
            }

            .result-section h2 {
                color: #1e3c72;
                margin-bottom: 25px;
                padding-bottom: 15px;
                border-bottom: 2px solid #e0e0e0;
                font-size: 1.8rem;
                text-align: center;
            }

            .result-content {
                text-align: center;
            }

            .jetlag-display {
                font-size: 3.5rem;
                font-weight: 700;
                color: #1e3c72;
                margin: 20px 0;
            }

            .recovery-display {
                font-size: 1.5rem;
                color: #666;
                margin-bottom: 20px;
            }

            .severity-display {
                font-size: 1.3rem;
                font-weight: 600;
                padding: 10px 20px;
                border-radius: 8px;
                margin: 15px 0;
            }

            .severity-low {
                background: #e8f5e9;
                color: #2e7d32;
            }

            .severity-medium {
                background: #fff8e1;
                color: #f57f17;
            }

            .severity-high {
                background: #ffebee;
                color: #c62828;
            }

            .info-display {
                background: #e3f2fd;
                padding: 20px;
                border-radius: 10px;
                margin-top: 20px;
            }

            .info-display p {
                margin: 10px 0;
                font-size: 1.1rem;
            }

            .controls {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                text-align: center;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
                margin-bottom: 30px;
            }

            .controls h3 {
                color: #1e3c72;
                margin-bottom: 20px;
                font-size: 1.5rem;
            }

            .btn-group {
                display: flex;
                justify-content: center;
                gap: 20px;
            }

            .btn {
                background: #1e3c72;
                color: white;
                border: none;
                padding: 14px 28px;
                font-size: 1.1rem;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                display: flex;
                align-items: center;
                gap: 10px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            }

            .btn:hover {
                background: #152a54;
                transform: translateY(-3px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            }

            .btn:active {
                transform: translateY(-1px);
            }

            .btn-clear {
                background: #dc3545;
            }

            .btn-clear:hover {
                background: #c82333;
            }

            .btn-swap {
                background: #3498db;
            }

            .btn-swap:hover {
                background: #2980b9;
            }

            .history-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
                margin-top: 30px;
            }

            .history-section h2 {
                color: #1e3c72;
                margin-bottom: 20px;
                font-size: 1.8rem;
            }

            .history-list {
                max-height: 300px;
                overflow-y: auto;
            }

            .history-item {
                padding: 15px;
                border-bottom: 1px solid #eee;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .history-item:last-child {
                border-bottom: none;
            }

            .history-route {
                font-weight: 600;
            }

            .history-jetlag {
                color: #1e3c72;
                font-weight: 600;
                font-size: 1.2rem;
            }

            .history-details {
                font-size: 0.9rem;
                color: #666;
                margin-top: 5px;
            }

            .stats-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin: 20px 0;
            }

            .stat-card {
                background: #e3f2fd;
                border-radius: 10px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            }

            .stat-value {
                font-size: 2rem;
                font-weight: bold;
                color: #1e3c72;
            }

            .stat-label {
                font-size: 1rem;
                color: #666;
                margin-top: 5px;
            }

            .tip-container {
                background: #e3f2fd;
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
            }

            .tip-container h3 {
                color: #1e3c72;
                margin-bottom: 15px;
            }

            .tips {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 15px;
            }

            .tip {
                background: white;
                padding: 15px;
                border-radius: 8px;
                border-left: 4px solid #3498db;
            }

            .recovery-tips {
                background: #e3f2fd;
                border-radius: 10px;
                padding: 20px;
                margin-top: 20px;
            }

            .recovery-tips h3 {
                color: #1e3c72;
                margin-bottom: 15px;
            }

            .tips-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 15px;
            }

            .tip-card {
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            }

            .tip-card h4 {
                color: #1e3c72;
                margin-bottom: 10px;
                display: flex;
                align-items: center;
                gap: 10px;
            }
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            header {
                height: 50px;
                background: rgba(255, 255, 255, 0.95);
                border-radius: 8px;
                margin-bottom: 15px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
                display: flex;
                align-items: center;
                justify-content: center;
                position: relative;
            }

            h1 {
                color: #1e3c72;
                font-size: 1.4rem;
                text-align: center;
                padding: 0 10px;
            }

            .calculator-container {
                display: grid;
                grid-template-columns: 1fr;
                gap: 20px;
                margin-bottom: 20px;
            }

            .input-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            }

            .input-section h2 {
                color: #1e3c72;
                margin-bottom: 20px;
                padding-bottom: 10px;
                border-bottom: 1px solid #e0e0e0;
                font-size: 1.3rem;
            }

            .form-group {
                margin-bottom: 15px;
            }

            .form-group label {
                display: block;
                margin-bottom: 6px;
                font-weight: 600;
                color: #1e3c72;
                font-size: 1rem;
            }

            .form-group input,
            .form-group select {
                width: 100%;
                padding: 12px;
                border: 2px solid #ddd;
                border-radius: 6px;
                font-size: 1rem;
            }

            .btn-calculate {
                background: #1e3c72;
                color: white;
                border: none;
                padding: 14px 20px;
                font-size: 1.1rem;
                border-radius: 6px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                width: 100%;
                margin-top: 10px;
                box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
            }

            .btn-calculate:hover {
                background: #152a54;
                transform: translateY(-2px);
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            }

            .result-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            }

            .result-section h2 {
                color: #1e3c72;
                margin-bottom: 20px;
                padding-bottom: 10px;
                border-bottom: 1px solid #e0e0e0;
                font-size: 1.3rem;
                text-align: center;
            }

            .result-content {
                text-align: center;
            }

            .jetlag-display {
                font-size: 2.2rem;
                font-weight: 700;
                color: #1e3c72;
                margin: 15px 0;
            }

            .recovery-display {
                font-size: 1.2rem;
                color: #666;
                margin-bottom: 15px;
            }

            .severity-display {
                font-size: 1.1rem;
                font-weight: 600;
                padding: 8px 15px;
                border-radius: 6px;
                margin: 12px 0;
            }

            .severity-low {
                background: #e8f5e9;
                color: #2e7d32;
            }

            .severity-medium {
                background: #fff8e1;
                color: #f57f17;
            }

            .severity-high {
                background: #ffebee;
                color: #c62828;
            }

            .info-display {
                background: #e3f2fd;
                padding: 15px;
                border-radius: 8px;
                margin-top: 15px;
            }

            .info-display p {
                margin: 8px 0;
                font-size: 1rem;
            }

            .controls {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                margin-bottom: 20px;
            }

            .controls h3 {
                color: #1e3c72;
                margin-bottom: 15px;
                font-size: 1.3rem;
            }

            .btn-group {
                display: grid;
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .btn {
                background: #1e3c72;
                color: white;
                border: none;
                padding: 12px 20px;
                font-size: 1rem;
                border-radius: 6px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
                width: 100%;
            }

            .btn:hover {
                background: #152a54;
                transform: translateY(-1px);
                box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
            }

            .btn-clear {
                background: #dc3545;
            }

            .btn-clear:hover {
                background: #c82333;
            }

            .btn-swap {
                background: #3498db;
            }

            .btn-swap:hover {
                background: #2980b9;
            }

            .history-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                margin-top: 20px;
            }

            .history-section h2 {
                color: #1e3c72;
                margin-bottom: 15px;
                font-size: 1.3rem;
            }

            .history-list {
                max-height: 200px;
                overflow-y: auto;
            }

            .history-item {
                padding: 12px;
                border-bottom: 1px solid #eee;
                display: flex;
                justify-content: space-between;
                align-items: center;
                font-size: 0.9rem;
            }

            .history-item:last-child {
                border-bottom: none;
            }

            .history-route {
                font-weight: 600;
            }

            .history-jetlag {
                color: #1e3c72;
                font-weight: 600;
                font-size: 1.1rem;
            }

            .history-details {
                font-size: 0.8rem;
                color: #666;
                margin-top: 3px;
            }

            .stats-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
                gap: 15px;
                margin: 15px 0;
            }

            .stat-card {
                background: #e3f2fd;
                border-radius: 8px;
                padding: 15px;
                text-align: center;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }

            .stat-value {
                font-size: 1.5rem;
                font-weight: bold;
                color: #1e3c72;
            }

            .stat-label {
                font-size: 0.9rem;
                color: #666;
                margin-top: 3px;
            }

            .tip-container {
                background: #e3f2fd;
                border-radius: 8px;
                padding: 15px;
                margin: 15px 0;
            }

            .tip-container h3 {
                color: #1e3c72;
                margin-bottom: 12px;
                font-size: 1.1rem;
            }

            .tips {
                display: grid;
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .tip {
                background: white;
                padding: 12px;
                border-radius: 6px;
                border-left: 3px solid #3498db;
            }

            .tip h4 {
                font-size: 1rem;
                margin-bottom: 5px;
            }

            .tip p {
                font-size: 0.9rem;
            }

            .recovery-tips {
                background: #e3f2fd;
                border-radius: 8px;
                padding: 15px;
                margin: 15px 0;
            }

            .recovery-tips h3 {
                color: #1e3c72;
                margin-bottom: 12px;
                font-size: 1.1rem;
            }

            .tips-grid {
                display: grid;
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .tip-card {
                background: white;
                padding: 12px;
                border-radius: 6px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }

            .tip-card h4 {
                color: #1e3c72;
                margin-bottom: 8px;
                display: flex;
                align-items: center;
                gap: 8px;
                font-size: 1rem;
            }

            .tip-card p {
                font-size: 0.9rem;
            }
        }

        .hidden {
            display: none;
        }

        .swap-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 10px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .swap-btn:hover {
            background: #2980b9;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-globe-americas"></i> Jet Lag Estimator</h1>
        </header>

        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-value" id="total-estimates">0</div>
                <div class="stat-label">Estimates</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="avg-jetlag">0</div>
                <div class="stat-label">Avg Jet Lag</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="max-jetlag">0</div>
                <div class="stat-label">Max Jet Lag</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="min-jetlag">0</div>
                <div class="stat-label">Min Jet Lag</div>
            </div>
        </div>

        <div class="tip-container">
            <h3><i class="fas fa-lightbulb"></i> Jet Lag Recovery Tips</h3>
            <div class="tips">
                <div class="tip">
                    <h4>Light Exposure</h4>
                    <p>Get sunlight in the morning at your destination to help reset your circadian rhythm.</p>
                </div>
                <div class="tip">
                    <h4>Stay Hydrated</h4>
                    <p>Drink plenty of water during and after your flight to combat dehydration.</p>
                </div>
                <div class="tip">
                    <h4>Adjust Sleep Schedule</h4>
                    <p>Gradually shift your sleep schedule before traveling to minimize jet lag effects.</p>
                </div>
            </div>
        </div>

        <div class="calculator-container">
            <div class="input-section">
                <h2><i class="fas fa-calculator"></i> Travel Details</h2>
                <div class="form-group">
                    <label for="departure-city">Departure City:</label>
                    <input type="text" id="departure-city" placeholder="Enter departure city" list="popular-cities">
                </div>
                <div class="form-group">
                    <label for="arrival-city">Arrival City:</label>
                    <input type="text" id="arrival-city" placeholder="Enter arrival city" list="popular-cities">
                </div>
                <button class="swap-btn" id="swap-btn">
                    <i class="fas fa-exchange-alt"></i> Swap Cities
                </button>
                <div class="form-group">
                    <label for="departure-timezone">Departure Time Zone:</label>
                    <select id="departure-timezone">
                        <option value="-12">UTC-12</option>
                        <option value="-11">UTC-11</option>
                        <option value="-10">UTC-10</option>
                        <option value="-9">UTC-9</option>
                        <option value="-8">UTC-8</option>
                        <option value="-7">UTC-7</option>
                        <option value="-6">UTC-6</option>
                        <option value="-5">UTC-5</option>
                        <option value="-4">UTC-4</option>
                        <option value="-3">UTC-3</option>
                        <option value="-2">UTC-2</option>
                        <option value="-1">UTC-1</option>
                        <option value="0" selected>UTC+0 (GMT)</option>
                        <option value="1">UTC+1</option>
                        <option value="2">UTC+2</option>
                        <option value="3">UTC+3</option>
                        <option value="4">UTC+4</option>
                        <option value="5">UTC+5</option>
                        <option value="6">UTC+6</option>
                        <option value="7">UTC+7</option>
                        <option value="8">UTC+8</option>
                        <option value="9">UTC+9</option>
                        <option value="10">UTC+10</option>
                        <option value="11">UTC+11</option>
                        <option value="12">UTC+12</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="arrival-timezone">Arrival Time Zone:</label>
                    <select id="arrival-timezone">
                        <option value="-12">UTC-12</option>
                        <option value="-11">UTC-11</option>
                        <option value="-10">UTC-10</option>
                        <option value="-9">UTC-9</option>
                        <option value="-8">UTC-8</option>
                        <option value="-7">UTC-7</option>
                        <option value="-6">UTC-6</option>
                        <option value="-5">UTC-5</option>
                        <option value="-4">UTC-4</option>
                        <option value="-3">UTC-3</option>
                        <option value="-2">UTC-2</option>
                        <option value="-1">UTC-1</option>
                        <option value="0">UTC+0 (GMT)</option>
                        <option value="1" selected>UTC+1</option>
                        <option value="2">UTC+2</option>
                        <option value="3">UTC+3</option>
                        <option value="4">UTC+4</option>
                        <option value="5">UTC+5</option>
                        <option value="6">UTC+6</option>
                        <option value="7">UTC+7</option>
                        <option value="8">UTC+8</option>
                        <option value="9">UTC+9</option>
                        <option value="10">UTC+10</option>
                        <option value="11">UTC+11</option>
                        <option value="12">UTC+12</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="travel-direction">Travel Direction:</label>
                    <select id="travel-direction">
                        <option value="east">Eastward (e.g., New York → London)</option>
                        <option value="west">Westward (e.g., London → New York)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="age">Your Age:</label>
                    <input type="number" id="age" min="1" max="120" placeholder="Enter your age">
                </div>
                <div class="form-group">
                    <label for="sleep-hours">Usual Sleep Hours:</label>
                    <input type="number" id="sleep-hours" min="4" max="12" placeholder="Hours per night (default: 8)">
                </div>
                <div class="form-group">
                    <label for="flight-duration">Flight Duration (hours):</label>
                    <input type="number" id="flight-duration" min="1" max="24" placeholder="Flight length">
                </div>
                <button class="btn-calculate" id="calculate-btn">
                    <i class="fas fa-calculator"></i> Estimate Jet Lag
                </button>
            </div>

            <div class="result-section">
                <h2><i class="fas fa-clock"></i> Jet Lag Estimate</h2>
                <div class="result-content">
                    <div class="jetlag-display" id="jetlag-result">0 hours</div>
                    <div class="recovery-display" id="recovery-result">Recovery time: -- days</div>
                    <div class="severity-display" id="severity-result">Severity: --</div>
                    <div class="info-display" id="info-display">
                        <p>Enter travel details to estimate jet lag</p>
                        <p>Recovery time is based on time zone difference</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="recovery-tips">
            <h3><i class="fas fa-heartbeat"></i> Personalized Recovery Recommendations</h3>
            <div class="tips-grid" id="recovery-tips-container">
                <div class="tip-card">
                    <h4><i class="fas fa-sun"></i> Light Therapy</h4>
                    <p>Expose yourself to bright light at strategic times to reset your circadian rhythm.</p>
                </div>
                <div class="tip-card">
                    <h4><i class="fas fa-moon"></i> Sleep Hygiene</h4>
                    <p>Maintain consistent sleep/wake times and create a restful environment.</p>
                </div>
                <div class="tip-card">
                    <h4><i class="fas fa-utensils"></i> Meal Timing</h4>
                    <p>Eat meals according to your destination's time zone to help adjust faster.</p>
                </div>
                <div class="tip-card">
                    <h4><i class="fas fa-running"></i> Light Exercise</h4>
                    <p>Gentle exercise can help reduce fatigue and improve sleep quality.</p>
                </div>
            </div>
        </div>

        <div class="controls">
            <h3><i class="fas fa-tools"></i> Jet Lag Tools</h3>
            <div class="btn-group">
                <button class="btn" id="save-btn">
                    <i class="fas fa-save"></i> Save Estimate
                </button>
                <button class="btn btn-swap" id="reset-btn">
                    <i class="fas fa-redo"></i> Reset Form
                </button>
                <button class="btn btn-clear" id="clear-btn">
                    <i class="fas fa-trash-alt"></i> Clear All Data
                </button>
            </div>
        </div>

        <div class="history-section">
            <h2><i class="fas fa-history"></i> Estimate History</h2>
            <div class="history-list" id="history-list">
                <div class="history-item">
                    <span>No estimates yet</span>
                </div>
            </div>
        </div>
    </div>

    <datalist id="popular-cities">
        <option value="New York">
        <option value="Los Angeles">
        <option value="Chicago">
        <option value="London">
        <option value="Paris">
        <option value="Tokyo">
        <option value="Sydney">
        <option value="Dubai">
        <option value="Singapore">
        <option value="Hong Kong">
        <option value="Toronto">
        <option value="Berlin">
        <option value="Amsterdam">
        <option value="Rome">
        <option value="Madrid">
        <option value="Moscow">
        <option value="Delhi">
        <option value="Beijing">
        <option value="Seoul">
        <option value="Cairo">
    </datalist>

    <script>
        // DOM elements
        const departureCity = document.getElementById('departure-city');
        const arrivalCity = document.getElementById('arrival-city');
        const departureTimezone = document.getElementById('departure-timezone');
        const arrivalTimezone = document.getElementById('arrival-timezone');
        const travelDirection = document.getElementById('travel-direction');
        const age = document.getElementById('age');
        const sleepHours = document.getElementById('sleep-hours');
        const flightDuration = document.getElementById('flight-duration');
        const calculateBtn = document.getElementById('calculate-btn');
        const jetlagResult = document.getElementById('jetlag-result');
        const recoveryResult = document.getElementById('recovery-result');
        const severityResult = document.getElementById('severity-result');
        const infoDisplay = document.getElementById('info-display');
        const clearBtn = document.getElementById('clear-btn');
        const saveBtn = document.getElementById('save-btn');
        const resetBtn = document.getElementById('reset-btn');
        const swapBtn = document.getElementById('swap-btn');
        const historyList = document.getElementById('history-list');
        const totalEstimates = document.getElementById('total-estimates');
        const avgJetlag = document.getElementById('avg-jetlag');
        const maxJetlag = document.getElementById('max-jetlag');
        const minJetlag = document.getElementById('min-jetlag');

        // Swap departure and arrival cities
        function swapCities() {
            const tempCity = departureCity.value;
            departureCity.value = arrivalCity.value;
            arrivalCity.value = tempCity;
            
            const tempTimezone = departureTimezone.value;
            departureTimezone.value = arrivalTimezone.value;
            arrivalTimezone.value = tempTimezone;
        }

        // Reset form
        function resetForm() {
            departureCity.value = '';
            arrivalCity.value = '';
            departureTimezone.value = '0';
            arrivalTimezone.value = '1';
            travelDirection.value = 'east';
            age.value = '';
            sleepHours.value = '';
            flightDuration.value = '';
            jetlagResult.textContent = '0 hours';
            recoveryResult.textContent = 'Recovery time: -- days';
            severityResult.textContent = 'Severity: --';
            severityResult.className = 'severity-display';
            infoDisplay.innerHTML = '<p>Enter travel details to estimate jet lag</p><p>Recovery time is based on time zone difference</p>';
        }

        // Estimate jet lag
        function estimateJetlag() {
            const depCity = departureCity.value.trim();
            const arrCity = arrivalCity.value.trim();
            const depTimezone = parseInt(departureTimezone.value);
            const arrTimezone = parseInt(arrivalTimezone.value);
            const direction = travelDirection.value;
            const userAge = parseInt(age.value) || 30;
            const userSleep = parseInt(sleepHours.value) || 8;
            const flightTime = parseInt(flightDuration.value) || 0;

            if (!depCity || !arrCity) {
                alert('Please fill in both city fields');
                return;
            }

            // Calculate time zone difference
            let tzDiff = Math.abs(arrTimezone - depTimezone);
            
            // Handle crossing the International Date Line
            if (tzDiff > 12) {
                tzDiff = 24 - tzDiff;
            }

            // Adjust for travel direction and age
            let jetlagHours = tzDiff;
            
            // Age factor (older people recover slower)
            const ageFactor = Math.max(0.8, Math.min(1.5, userAge / 40));
            
            // Sleep factor (less sleep = worse recovery)
            const sleepFactor = Math.max(0.8, Math.min(1.3, (8 - userSleep) / 8 + 1));
            
            // Flight duration factor (longer flights = more fatigue)
            const flightFactor = 1 + (flightTime / 24 * 0.3);
            
            // Direction factor (eastward travel is harder)
            const directionFactor = direction === 'east' ? 1.2 : 0.9;
            
            jetlagHours = Math.round(jetlagHours * ageFactor * sleepFactor * flightFactor * directionFactor);
            
            // Recovery time (days to recover)
            const recoveryDays = Math.ceil(jetlagHours / 24 * 1.5);
            
            // Severity classification
            let severity = '';
            let severityClass = '';
            if (jetlagHours <= 3) {
                severity = 'Mild';
                severityClass = 'severity-low';
            } else if (jetlagHours <= 6) {
                severity = 'Moderate';
                severityClass = 'severity-medium';
            } else {
                severity = 'Severe';
                severityClass = 'severity-high';
            }

            // Display results
            jetlagResult.textContent = `${jetlagHours} hours`;
            recoveryResult.textContent = `Recovery time: ${recoveryDays} day${recoveryDays !== 1 ? 's' : ''}`;
            severityResult.textContent = `Severity: ${severity}`;
            severityResult.className = `severity-display ${severityClass}`;

            // Update info display
            infoDisplay.innerHTML = `
                <p>Travel from ${depCity} to ${arrCity}</p>
                <p>Time zone difference: ${tzDiff} hours | Direction: ${direction === 'east' ? 'Eastward' : 'Westward'}</p>
                <p>Factors: Age (${ageFactor.toFixed(1)}x) | Sleep (${sleepFactor.toFixed(1)}x) | Flight (${flightFactor.toFixed(1)}x)</p>
            `;

            // Save to localStorage
            const estimate = {
                departure: depCity,
                arrival: arrCity,
                departureTimezone: depTimezone,
                arrivalTimezone: arrTimezone,
                direction: direction,
                age: userAge,
                sleepHours: userSleep,
                flightDuration: flightTime,
                jetlag: jetlagHours,
                recovery: recoveryDays,
                severity: severity,
                timestamp: new Date().toLocaleString()
            };

            saveEstimate(estimate);
            updateStats();
        }

        // Save estimate to localStorage
        function saveEstimate(estimate) {
            let history = JSON.parse(localStorage.getItem('jetlagHistory') || '[]');
            history.unshift(estimate);
            if (history.length > 20) history.pop(); // Keep only last 20 estimates
            localStorage.setItem('jetlagHistory', JSON.stringify(history));
            updateHistoryDisplay();
        }

        // Update history display
        function updateHistoryDisplay() {
            const history = JSON.parse(localStorage.getItem('jetlagHistory') || '[]');
            
            if (history.length === 0) {
                historyList.innerHTML = '<div class="history-item"><span>No estimates yet</span></div>';
                return;
            }

            historyList.innerHTML = history.map(item => `
                <div class="history-item">
                    <div>
                        <div class="history-route">${item.departure} → ${item.arrival}</div>
                        <div class="history-details">${item.timestamp} | ${item.severity} | Age: ${item.age}</div>
                    </div>
                    <div class="history-jetlag">${item.jetlag}h</div>
                </div>
            `).join('');
        }

        // Update statistics
        function updateStats() {
            const history = JSON.parse(localStorage.getItem('jetlagHistory') || '[]');
            
            if (history.length === 0) {
                totalEstimates.textContent = '0';
                avgJetlag.textContent = '0';
                maxJetlag.textContent = '0';
                minJetlag.textContent = '0';
                return;
            }

            totalEstimates.textContent = history.length;

            // Calculate statistics
            let totalJetlag = 0;
            let maxJet = 0;
            let minJet = Infinity;

            history.forEach(item => {
                totalJetlag += item.jetlag;
                maxJet = Math.max(maxJet, item.jetlag);
                minJet = Math.min(minJet, item.jetlag);
            });

            const avgJet = Math.round(totalJetlag / history.length);

            avgJetlag.textContent = avgJet;
            maxJetlag.textContent = maxJet;
            minJetlag.textContent = minJet === Infinity ? '0' : minJet;
        }

        // Clear all data
        function clearAllData() {
            if (confirm('Are you sure you want to clear all jet lag estimate data?')) {
                localStorage.removeItem('jetlagHistory');
                resetForm();
                updateHistoryDisplay();
                updateStats();
            }
        }

        // Event listeners
        calculateBtn.addEventListener('click', estimateJetlag);
        clearBtn.addEventListener('click', clearAllData);
        saveBtn.addEventListener('click', () => {
            if (departureCity.value && arrivalCity.value) {
                estimateJetlag();
                alert('Current estimate saved to history');
            } else {
                alert('Please enter travel details first');
            }
        });
        resetBtn.addEventListener('click', resetForm);
        swapBtn.addEventListener('click', swapCities);

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateHistoryDisplay();
            updateStats();
        });
    </script>
</body>
</html>
