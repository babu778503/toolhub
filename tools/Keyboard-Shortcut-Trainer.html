<!-- Category: Productivity -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyboard Shortcut Trainer</title>
    <meta name="description" content="Master keyboard shortcuts with our Keyboard Shortcut Trainer. Learn and practice essential shortcuts for productivity.">
    <meta name="keywords" content="keyboard shortcut trainer, keyboard shortcuts, shortcut practice, productivity tools, typing efficiency, computer shortcuts, shortcut mastery, keyboard skills, shortcut learning, productivity enhancement">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #34495e, #2c3e50, #34495e);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 20px;
            width: 100%;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .trainer-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            margin: 20px auto;
            max-width: 1000px;
            width: 100%;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: #34495e;
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 73, 94, 0.2);
        }
        
        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        #start-btn {
            background: linear-gradient(to right, #34495e, #2c3e50);
            color: white;
        }
        
        #start-btn:hover {
            background: linear-gradient(to right, #2c3e50, #34495e);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        #clear-btn {
            background: linear-gradient(to right, #e74c3c, #c0392b);
            color: white;
        }
        
        #clear-btn:hover {
            background: linear-gradient(to right, #c0392b, #e74c3c);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .result-container {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #34495e;
            display: none;
        }
        
        .result-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .shortcut-display {
            font-size: 1.8rem;
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 8px;
            margin: 20px 0;
            font-weight: bold;
            color: #2c3e50;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .user-input {
            font-size: 1.5rem;
            text-align: center;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 20px 0;
            width: 100%;
        }
        
        .feedback {
            text-align: center;
            font-size: 1.2rem;
            margin: 15px 0;
            min-height: 30px;
        }
        
        .correct {
            color: #27ae60;
            font-weight: bold;
        }
        
        .incorrect {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .progress-container {
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #34495e;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #34495e;
            margin: 5px 0;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .info-section {
            background: #e8f6f3;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .info-section h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .info-section ul {
            padding-left: 20px;
        }
        
        .info-section li {
            margin-bottom: 8px;
            color: #34495e;
        }
        
        .additional-options {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .additional-options h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .option-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .option-col {
            flex: 1;
            min-width: 200px;
        }
        
        .keyboard-layout {
            display: grid;
            grid-template-columns: repeat(15, 1fr);
            gap: 4px;
            margin-top: 20px;
            background: #2c3e50;
            padding: 15px;
            border-radius: 10px;
        }
        
        .key {
            background: #34495e;
            color: white;
            border-radius: 4px;
            padding: 8px 4px;
            text-align: center;
            font-size: 0.8rem;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        
        .key.active {
            background: #3498db;
            transform: scale(0.95);
        }
        
        .key.highlight {
            background: #2ecc71;
            box-shadow: 0 0 10px rgba(46, 204, 113, 0.7);
        }
        
        .shortcut-list {
            list-style-type: none;
            margin-top: 20px;
        }
        
        .shortcut-item {
            padding: 12px 15px;
            margin-bottom: 10px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .shortcut-info {
            flex: 1;
        }
        
        .shortcut-name {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .shortcut-keys {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            color: #34495e;
            background: #f8f9fa;
            padding: 5px 10px;
            border-radius: 4px;
        }
        
        .notification-settings {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .notification-settings h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .setting-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 15px;
        }
        
        .setting-group label {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .setting-group input {
            width: auto;
            margin-right: 10px;
        }
        
        .training-modes {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .training-modes h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .mode-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .mode-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .mode-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .mode-card.selected {
            border: 3px solid #34495e;
            background: #e3f2fd;
        }
        
        .mode-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #34495e;
        }
        
        .mode-name {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .mode-desc {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .history-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .history-container h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .history-list {
            list-style-type: none;
        }
        
        .history-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        .achievement-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .achievement-container h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .achievement-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            opacity: 0.5;
        }
        
        .achievement-card.unlocked {
            opacity: 1;
            background: #e8f6f3;
            border: 2px solid #27ae60;
        }
        
        .achievement-icon {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #f39c12;
        }
        
        .achievement-name {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .achievement-desc {
            font-size: 0.8rem;
            color: #7f8c8d;
        }
        
        @media (max-width: 768px) {
            header {
                padding: 15px 0;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .trainer-container {
                padding: 20px 15px;
                margin: 15px 0;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .option-row {
                flex-direction: column;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .mode-grid {
                grid-template-columns: 1fr;
            }
            
            .achievements-grid {
                grid-template-columns: 1fr;
            }
            
            /* Mobile header height */
            header {
                height: 50px;
                padding: 10px 0;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            h1 {
                font-size: 1.8rem;
                margin: 0;
            }
            
            /* Remove side padding for mobile to eliminate blank space */
            .container {
                width: 100%;
                padding: 0;
                margin: 0;
            }
            
            body {
                padding: 0;
                margin: 0;
            }
            
            .trainer-container {
                padding: 20px 10px;
                margin: 15px 0;
                width: 100%;
            }
            
            .input-group {
                margin-bottom: 15px;
            }
            
            .btn-group {
                margin-top: 15px;
            }
            
            .result-container {
                margin: 20px 0;
                padding: 15px 10px;
            }
            
            .info-section {
                padding: 15px 10px;
                margin: 20px 0;
            }
            
            .additional-options {
                padding: 15px 10px;
                margin: 20px 0;
            }
            
            .keyboard-layout {
                grid-template-columns: repeat(10, 1fr);
                gap: 3px;
                padding: 10px;
            }
            
            .key {
                padding: 6px 2px;
                font-size: 0.7rem;
                min-height: 30px;
            }
            
            .notification-settings {
                padding: 15px 10px;
                margin: 20px 0;
            }
            
            .training-modes {
                padding: 15px 10px;
                margin: 20px 0;
            }
            
            .history-container {
                padding: 15px 10px;
                margin: 20px 0;
            }
            
            .achievement-container {
                padding: 15px 10px;
                margin: 20px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Keyboard Shortcut Trainer</h1>
        </header>
        
        <div class="trainer-container">
            <div class="input-group">
                <label for="application">Application</label>
                <select id="application">
                    <option value="windows">Windows</option>
                    <option value="mac">Mac OS</option>
                    <option value="linux">Linux</option>
                    <option value="office">Microsoft Office</option>
                    <option value="chrome">Google Chrome</option>
                    <option value="vscode">Visual Studio Code</option>
                    <option value="photoshop">Adobe Photoshop</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="skill-level">Skill Level</label>
                <select id="skill-level">
                    <option value="beginner">Beginner</option>
                    <option value="intermediate" selected>Intermediate</option>
                    <option value="advanced">Advanced</option>
                    <option value="expert">Expert</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="shortcut-category">Shortcut Category</label>
                <select id="shortcut-category">
                    <option value="file">File Operations</option>
                    <option value="edit">Edit Operations</option>
                    <option value="view">View Operations</option>
                    <option value="navigation">Navigation</option>
                    <option value="formatting">Formatting</option>
                    <option value="system">System</option>
                    <option value="all" selected>All Shortcuts</option>
                </select>
            </div>
            
            <div class="training-modes">
                <h3>Training Modes</h3>
                <div class="mode-grid" id="training-modes">
                    <div class="mode-card" data-mode="sequential">
                        <div class="mode-icon">üìö</div>
                        <div class="mode-name">Sequential Learning</div>
                        <div class="mode-desc">Learn shortcuts in order</div>
                    </div>
                    <div class="mode-card selected" data-mode="random">
                        <div class="mode-icon">üé≤</div>
                        <div class="mode-name">Random Practice</div>
                        <div class="mode-desc">Randomized shortcut practice</div>
                    </div>
                    <div class="mode-card" data-mode="timed">
                        <div class="mode-icon">‚è±Ô∏è</div>
                        <div class="mode-name">Timed Challenge</div>
                        <div class="mode-desc">Beat the clock</div>
                    </div>
                    <div class="mode-card" data-mode="adaptive">
                        <div class="mode-icon">üß†</div>
                        <div class="mode-name">Adaptive Learning</div>
                        <div class="mode-desc">Focus on weak spots</div>
                    </div>
                </div>
            </div>
            
            <div class="additional-options">
                <h3>Additional Options</h3>
                
                <div class="option-row">
                    <div class="option-col">
                        <label for="session-duration">Session Duration (minutes)</label>
                        <input type="number" id="session-duration" value="10" min="1" max="60" step="1">
                    </div>
                    
                    <div class="option-col">
                        <label for="difficulty">Difficulty Level</label>
                        <select id="difficulty">
                            <option value="easy">Easy</option>
                            <option value="medium" selected>Medium</option>
                            <option value="hard">Hard</option>
                        </select>
                    </div>
                </div>
                
                <div class="option-row">
                    <div class="option-col">
                        <label for="feedback-type">Feedback Type</label>
                        <select id="feedback-type">
                            <option value="instant" selected>Instant Feedback</option>
                            <option value="delayed">Delayed Feedback</option>
                            <option value="none">No Feedback</option>
                        </select>
                    </div>
                    
                    <div class="option-col">
                        <label for="sound-effects">Sound Effects</label>
                        <select id="sound-effects">
                            <option value="enabled" selected>Enabled</option>
                            <option value="disabled">Disabled</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="btn-group">
                <button id="start-btn">Start Training</button>
                <button id="clear-btn">Clear Data</button>
            </div>
            
            <div class="keyboard-layout" id="keyboard-layout">
                <!-- Keyboard layout will be generated by JavaScript -->
            </div>
            
            <div class="result-container" id="result-container">
                <h2 class="result-title">Shortcut Training</h2>
                
                <div class="shortcut-display" id="shortcut-display">
                    Press the correct shortcut combination
                </div>
                
                <div class="feedback" id="feedback"></div>
                
                <div class="progress-container">
                    <div>Progress: <span id="progress-text">0/0</span></div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                </div>
                
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-value" id="correct-count">0</div>
                        <div class="stat-label">Correct</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="incorrect-count">0</div>
                        <div class="stat-label">Incorrect</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="accuracy">0%</div>
                        <div class="stat-label">Accuracy</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="time-left">0:00</div>
                        <div class="stat-label">Time Left</div>
                    </div>
                </div>
            </div>
            
            <div class="achievement-container">
                <h3>Achievements</h3>
                <div class="achievements-grid" id="achievements-grid">
                    <!-- Achievements will be generated by JavaScript -->
                </div>
            </div>
            
            <div class="history-container">
                <h3>Training History</h3>
                <ul class="history-list" id="history-list">
                    <!-- Training history will appear here -->
                </ul>
            </div>
            
            <div class="shortcut-list" id="shortcut-list">
                <h3>Common Shortcuts</h3>
                <!-- Common shortcuts will appear here -->
            </div>
            
            <div class="notification-settings">
                <h3><i class="fas fa-bell"></i> Notification Settings</h3>
                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="training-notification" checked> Training Session Notifications
                    </label>
                </div>
                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="progress-notification" checked> Progress Updates
                    </label>
                </div>
                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="completion-notification" checked> Session Completion
                    </label>
                </div>
                <button id="save-notifications"><i class="fas fa-save"></i> Save Settings</button>
            </div>
            
            <div class="info-section">
                <h3>How It Works</h3>
                <ul>
                    <li>Select your operating system or application</li>
                    <li>Choose your skill level and training category</li>
                    <li>Select a training mode that suits your needs</li>
                    <li>Click "Start Training" to begin practicing shortcuts</li>
                    <li>Press the correct key combinations as shown</li>
                    <li>Track your accuracy and progress</li>
                    <li>Earn achievements as you improve</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved data from localStorage
            loadSavedData();
            
            // Start button event listener
            document.getElementById('start-btn').addEventListener('click', startTraining);
            
            // Clear button event listener
            document.getElementById('clear-btn').addEventListener('click', clearData);
            
            // Save notifications button
            document.getElementById('save-notifications').addEventListener('click', saveNotificationSettings);
            
            // Training mode selection
            document.querySelectorAll('.mode-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.mode-card').forEach(c => {
                        c.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
            });
            
            // Initialize keyboard layout
            initializeKeyboardLayout();
            
            // Display common shortcuts
            displayCommonShortcuts();
            
            // Display achievements
            displayAchievements();
            
            // Display history
            displayHistory();
        });
        
        let shortcuts = [];
        let currentShortcutIndex = 0;
        let correctCount = 0;
        let incorrectCount = 0;
        let startTime = null;
        let timerInterval = null;
        let totalTestTime = 0;
        let currentKeysPressed = [];
        let listeningForInput = false;
        let trainingMode = 'random';
        let achievements = [];
        
        function startTraining() {
            // Get input values
            const application = document.getElementById('application').value;
            const skillLevel = document.getElementById('skill-level').value;
            const shortcutCategory = document.getElementById('shortcut-category').value;
            const sessionDuration = document.getElementById('session-duration').value;
            const difficulty = document.getElementById('difficulty').value;
            const feedbackType = document.getElementById('feedback-type').value;
            const soundEffects = document.getElementById('sound-effects').value;
            
            // Get selected training mode
            const selectedModeCard = document.querySelector('.mode-card.selected');
            trainingMode = selectedModeCard ? selectedModeCard.dataset.mode : 'random';
            
            // Generate shortcuts based on selections
            shortcuts = generateShortcuts(application, skillLevel, shortcutCategory);
            
            if (shortcuts.length === 0) {
                alert('No shortcuts available for the selected criteria');
                return;
            }
            
            // Shuffle shortcuts for random mode
            if (trainingMode === 'random') {
                shuffleArray(shortcuts);
            }
            
            // Initialize training
            currentShortcutIndex = 0;
            correctCount = 0;
            incorrectCount = 0;
            totalTestTime = parseInt(sessionDuration) * 60; // Convert to seconds
            startTime = new Date();
            
            // Start timer
            startTimer();
            
            // Show result container
            document.getElementById('result-container').style.display = 'block';
            
            // Display first shortcut
            displayCurrentShortcut();
            
            // Enable keyboard input
            listeningForInput = true;
            document.addEventListener('keydown', handleKeyDown);
            document.addEventListener('keyup', handleKeyUp);
            
            // Show notification if enabled
            if (document.getElementById('training-notification').checked) {
                alert('Shortcut training started!');
            }
        }
        
        function generateShortcuts(application, skillLevel, category) {
            // Database of shortcuts for different applications
            const shortcutDatabase = {
                windows: {
                    beginner: {
                        file: [
                            { name: "New File", keys: ["Ctrl", "N"] },
                            { name: "Open File", keys: ["Ctrl", "O"] },
                            { name: "Save File", keys: ["Ctrl", "S"] },
                            { name: "Print", keys: ["Ctrl", "P"] },
                            { name: "Close Window", keys: ["Alt", "F4"] }
                        ],
                        edit: [
                            { name: "Copy", keys: ["Ctrl", "C"] },
                            { name: "Cut", keys: ["Ctrl", "X"] },
                            { name: "Paste", keys: ["Ctrl", "V"] },
                            { name: "Undo", keys: ["Ctrl", "Z"] },
                            { name: "Redo", keys: ["Ctrl", "Y"] }
                        ],
                        navigation: [
                            { name: "Switch Windows", keys: ["Alt", "Tab"] },
                            { name: "Task Manager", keys: ["Ctrl", "Shift", "Esc"] }
                        ]
                    },
                    intermediate: {
                        file: [
                            { name: "Save As", keys: ["Ctrl", "Shift", "S"] },
                            { name: "Open Recent", keys: ["Ctrl", "Alt", "R"] }
                        ],
                        edit: [
                            { name: "Select All", keys: ["Ctrl", "A"] },
                            { name: "Find", keys: ["Ctrl", "F"] },
                            { name: "Replace", keys: ["Ctrl", "H"] }
                        ],
                        view: [
                            { name: "Zoom In", keys: ["Ctrl", "+"] },
                            { name: "Zoom Out", keys: ["Ctrl", "-"] },
                            { name: "Fullscreen", keys: ["F11"] }
                        ]
                    }
                },
                mac: {
                    beginner: {
                        file: [
                            { name: "New File", keys: ["Cmd", "N"] },
                            { name: "Open File", keys: ["Cmd", "O"] },
                            { name: "Save File", keys: ["Cmd", "S"] },
                            { name: "Print", keys: ["Cmd", "P"] },
                            { name: "Close Window", keys: ["Cmd", "W"] }
                        ],
                        edit: [
                            { name: "Copy", keys: ["Cmd", "C"] },
                            { name: "Cut", keys: ["Cmd", "X"] },
                            { name: "Paste", keys: ["Cmd", "V"] },
                            { name: "Undo", keys: ["Cmd", "Z"] },
                            { name: "Redo", keys: ["Cmd", "Shift", "Z"] }
                        ],
                        navigation: [
                            { name: "Switch Apps", keys: ["Cmd", "Tab"] },
                            { name: "Force Quit", keys: ["Cmd", "Option", "Esc"] }
                        ]
                    }
                },
                office: {
                    beginner: {
                        file: [
                            { name: "New Document", keys: ["Ctrl", "N"] },
                            { name: "Open Document", keys: ["Ctrl", "O"] },
                            { name: "Save Document", keys: ["Ctrl", "S"] }
                        ],
                        edit: [
                            { name: "Bold", keys: ["Ctrl", "B"] },
                            { name: "Italic", keys: ["Ctrl", "I"] },
                            { name: "Underline", keys: ["Ctrl", "U"] }
                        ]
                    }
                }
            };
            
            // Get shortcuts based on selections
            try {
                if (category === 'all') {
                    // Combine all categories
                    let allShortcuts = [];
                    const categories = ['file', 'edit', 'view', 'navigation', 'formatting', 'system'];
                    categories.forEach(cat => {
                        if (shortcutDatabase[application] && 
                            shortcutDatabase[application][skillLevel] && 
                            shortcutDatabase[application][skillLevel][cat]) {
                            allShortcuts = allShortcuts.concat(shortcutDatabase[application][skillLevel][cat]);
                        }
                    });
                    return allShortcuts;
                } else {
                    return shortcutDatabase[application][skillLevel][category] || [];
                }
            } catch (e) {
                // Return default shortcuts if not found
                return [
                    { name: "New File", keys: ["Ctrl", "N"] },
                    { name: "Open File", keys: ["Ctrl", "O"] },
                    { name: "Save File", keys: ["Ctrl", "S"] },
                    { name: "Copy", keys: ["Ctrl", "C"] },
                    { name: "Paste", keys: ["Ctrl", "V"] }
                ];
            }
        }
        
        function displayCurrentShortcut() {
            if (currentShortcutIndex < shortcuts.length) {
                const shortcut = shortcuts[currentShortcutIndex];
                document.getElementById('shortcut-display').textContent = 
                    `${shortcut.name}: ${shortcut.keys.join(' + ')}`;
                
                // Highlight keys on keyboard
                highlightKeys(shortcut.keys);
                
                // Update progress
                document.getElementById('progress-text').textContent = 
                    `${currentShortcutIndex + 1}/${shortcuts.length}`;
                const progressPercent = ((currentShortcutIndex) / shortcuts.length) * 100;
                document.getElementById('progress-fill').style.width = `${progressPercent}%`;
            } else {
                // Training completed
                endTraining();
            }
        }
        
        function highlightKeys(keys) {
            // Remove previous highlights
            const allKeys = document.querySelectorAll('.key');
            allKeys.forEach(key => {
                key.classList.remove('highlight');
            });
            
            // Highlight current keys
            keys.forEach(keyName => {
                const keyElements = document.querySelectorAll(`.key[data-key="${keyName}"]`);
                keyElements.forEach(keyElement => {
                    keyElement.classList.add('highlight');
                });
            });
        }
        
        function handleKeyDown(event) {
            if (!listeningForInput) return;
            
            // Prevent default behavior for training keys
            if (['Control', 'Alt', 'Shift', 'Meta'].includes(event.key)) {
                event.preventDefault();
            }
            
            // Add key to pressed keys
            if (!currentKeysPressed.includes(event.key)) {
                currentKeysPressed.push(event.key);
            }
            
            // Highlight pressed key
            const keyElements = document.querySelectorAll(`.key[data-key="${event.key}"]`);
            keyElements.forEach(keyElement => {
                keyElement.classList.add('active');
            });
        }
        
        function handleKeyUp(event) {
            if (!listeningForInput) return;
            
            // Remove key from pressed keys
            const index = currentKeysPressed.indexOf(event.key);
            if (index > -1) {
                currentKeysPressed.splice(index, 1);
            }
            
            // Remove active state from key
            const keyElements = document.querySelectorAll(`.key[data-key="${event.key}"]`);
            keyElements.forEach(keyElement => {
                keyElement.classList.remove('active');
            });
            
            // Check if correct combination was pressed
            checkShortcutCombination();
        }
        
        function checkShortcutCombination() {
            if (currentShortcutIndex >= shortcuts.length) return;
            
            const currentShortcut = shortcuts[currentShortcutIndex];
            const expectedKeys = currentShortcut.keys;
            
            // Normalize key names
            const normalizedPressed = normalizeKeys(currentKeysPressed);
            const normalizedExpected = normalizeKeys(expectedKeys);
            
            // Check if pressed keys match expected keys
            if (arraysEqual(normalizedPressed.sort(), normalizedExpected.sort())) {
                // Correct shortcut
                correctCount++;
                document.getElementById('feedback').innerHTML = 
                    `<span class="correct">Correct! Well done!</span>`;
                
                // Play sound if enabled
                if (document.getElementById('sound-effects').value === 'enabled') {
                    playSuccessSound();
                }
                
                // Move to next shortcut after delay
                setTimeout(() => {
                    currentShortcutIndex++;
                    displayCurrentShortcut();
                    updateStats();
                    checkAchievements();
                }, 1000);
            } else if (currentKeysPressed.length === expectedKeys.length) {
                // Incorrect shortcut
                incorrectCount++;
                document.getElementById('feedback').innerHTML = 
                    `<span class="incorrect">Incorrect. Try again!</span>`;
                
                // Play sound if enabled
                if (document.getElementById('sound-effects').value === 'enabled') {
                    playErrorSound();
                }
                
                // Clear feedback after delay
                setTimeout(() => {
                    document.getElementById('feedback').textContent = '';
                }, 1500);
                
                updateStats();
                checkAchievements();
            }
        }
        
        function normalizeKeys(keys) {
            return keys.map(key => {
                // Map common key names
                const keyMap = {
                    'Control': 'Ctrl',
                    'Meta': 'Cmd',
                    ' ': 'Space',
                    'ArrowUp': '‚Üë',
                    'ArrowDown': '‚Üì',
                    'ArrowLeft': '‚Üê',
                    'ArrowRight': '‚Üí'
                };
                return keyMap[key] || key;
            });
        }
        
        function arraysEqual(a, b) {
            if (a.length !== b.length) return false;
            for (let i = 0; i < a.length; i++) {
                if (a[i] !== b[i]) return false;
            }
            return true;
        }
        
        function updateStats() {
            document.getElementById('correct-count').textContent = correctCount;
            document.getElementById('incorrect-count').textContent = incorrectCount;
            
            const totalAnswered = correctCount + incorrectCount;
            const accuracy = totalAnswered > 0 ? Math.round((correctCount / totalAnswered) * 100) : 0;
            document.getElementById('accuracy').textContent = `${accuracy}%`;
        }
        
        function startTimer() {
            // Clear any existing timer
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            // Update time display immediately
            updateTimeDisplay();
            
            // Start timer interval
            timerInterval = setInterval(updateTimeDisplay, 1000);
        }
        
        function updateTimeDisplay() {
            const currentTime = new Date();
            const elapsedTime = Math.floor((currentTime - startTime) / 1000);
            const timeLeft = Math.max(0, totalTestTime - elapsedTime);
            
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            
            document.getElementById('time-left').textContent = 
                `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            
            // End training if time is up
            if (timeLeft <= 0) {
                endTraining();
            }
        }
        
        function endTraining() {
            // Clear timer
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            // Disable keyboard input
            listeningForInput = false;
            document.removeEventListener('keydown', handleKeyDown);
            document.removeEventListener('keyup', handleKeyUp);
            
            // Show final results
            const totalAnswered = correctCount + incorrectCount;
            const accuracy = totalAnswered > 0 ? Math.round((correctCount / totalAnswered) * 100) : 0;
            
            document.getElementById('shortcut-display').textContent = 'Training Completed!';
            document.getElementById('feedback').innerHTML = 
                `<div style="font-size: 1.5rem; margin: 20px 0;">
                    <div>Correct: ${correctCount}</div>
                    <div>Incorrect: ${incorrectCount}</div>
                    <div>Accuracy: ${accuracy}%</div>
                </div>`;
            
            // Save to history
            saveToHistory({
                date: new Date().toLocaleString(),
                application: document.getElementById('application').value,
                correct: correctCount,
                incorrect: incorrectCount,
                accuracy: accuracy,
                mode: trainingMode
            });
            
            // Show notification if enabled
            if (document.getElementById('completion-notification').checked) {
                alert(`Training completed! Accuracy: ${accuracy}%`);
            }
        }
        
        function saveToHistory(session) {
            // Load existing history from localStorage
            let history = JSON.parse(localStorage.getItem('shortcutHistory')) || [];
            
            // Add new session to the beginning of the array
            history.unshift(session);
            
            // Keep only the last 5 items
            if (history.length > 5) {
                history = history.slice(0, 5);
            }
            
            // Save to localStorage
            localStorage.setItem('shortcutHistory', JSON.stringify(history));
            
            // Display history
            displayHistory(history);
        }
        
        function displayHistory(history) {
            const historyList = document.getElementById('history-list');
            historyList.innerHTML = '';
            
            (history || JSON.parse(localStorage.getItem('shortcutHistory')) || []).forEach((session, index) => {
                const historyItem = document.createElement('li');
                historyItem.className = 'history-item';
                
                historyItem.innerHTML = `
                    <div><strong>${session.date}</strong></div>
                    <div>${session.application} | Correct: ${session.correct} | Accuracy: ${session.accuracy}%</div>
                `;
                
                historyList.appendChild(historyItem);
            });
        }
        
        function displayAchievements() {
            const achievementsGrid = document.getElementById('achievements-grid');
            achievementsGrid.innerHTML = '';
            
            // Sample achievements
            const achievementList = [
                { id: 'first-try', name: 'First Try', desc: 'Complete 10 shortcuts correctly on first attempt', icon: 'üéØ', unlocked: false },
                { id: 'speed-demon', name: 'Speed Demon', desc: 'Achieve 90%+ accuracy in timed mode', icon: '‚ö°', unlocked: false },
                { id: 'perfect-score', name: 'Perfect Score', desc: 'Complete a session with 100% accuracy', icon: 'üíØ', unlocked: false },
                { id: 'marathon', name: 'Marathon', desc: 'Complete 5 training sessions in one day', icon: 'üèÉ', unlocked: false },
                { id: 'master', name: 'Master', desc: 'Unlock 10 achievements', icon: 'üëë', unlocked: false },
                { id: 'quick-learner', name: 'Quick Learner', desc: 'Complete 50 shortcuts', icon: 'üéì', unlocked: false }
            ];
            
            achievementList.forEach(achievement => {
                const achievementCard = document.createElement('div');
                achievementCard.className = `achievement-card ${achievement.unlocked ? 'unlocked' : ''}`;
                
                achievementCard.innerHTML = `
                    <div class="achievement-icon">${achievement.icon}</div>
                    <div class="achievement-name">${achievement.name}</div>
                    <div class="achievement-desc">${achievement.desc}</div>
                `;
                
                achievementsGrid.appendChild(achievementCard);
            });
        }
        
        function checkAchievements() {
            // Load existing achievements
            let userAchievements = JSON.parse(localStorage.getItem('userAchievements')) || [];
            
            // Check for new achievements
            const totalAnswered = correctCount + incorrectCount;
            const accuracy = totalAnswered > 0 ? Math.round((correctCount / totalAnswered) * 100) : 0;
            
            // Sample achievement checks
            if (correctCount >= 10 && accuracy === 100) {
                unlockAchievement('perfect-score');
            }
            
            if (correctCount >= 50) {
                unlockAchievement('quick-learner');
            }
            
            // Update display
            displayAchievements();
        }
        
        function unlockAchievement(achievementId) {
            let userAchievements = JSON.parse(localStorage.getItem('userAchievements')) || [];
            
            if (!userAchievements.includes(achievementId)) {
                userAchievements.push(achievementId);
                localStorage.setItem('userAchievements', JSON.stringify(userAchievements));
                
                // Show notification if enabled
                if (document.getElementById('progress-notification').checked) {
                    const achievementNames = {
                        'first-try': 'First Try',
                        'speed-demon': 'Speed Demon',
                        'perfect-score': 'Perfect Score',
                        'marathon': 'Marathon',
                        'master': 'Master',
                        'quick-learner': 'Quick Learner'
                    };
                    
                    alert(`üéâ Achievement Unlocked: ${achievementNames[achievementId]}!`);
                }
            }
        }
        
        function initializeKeyboardLayout() {
            const keyboardLayout = document.getElementById('keyboard-layout');
            keyboardLayout.innerHTML = '';
            
            // Standard QWERTY layout
            const keys = [
                ['`', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0', '-', '=', 'Backspace'],
                ['Tab', 'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P', '[', ']', '\\'],
                ['Caps Lock', 'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', ';', "'", 'Enter'],
                ['Shift', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', ',', '.', '/', 'Shift'],
                ['Ctrl', 'Win', 'Alt', 'Space', 'Alt', 'Win', 'Menu', 'Ctrl']
            ];
            
            keys.forEach(row => {
                row.forEach(key => {
                    const keyDiv = document.createElement('div');
                    keyDiv.className = 'key';
                    keyDiv.textContent = key;
                    keyDiv.dataset.key = key;
                    keyboardLayout.appendChild(keyDiv);
                });
            });
        }
        
        function displayCommonShortcuts() {
            const shortcutList = document.getElementById('shortcut-list');
            shortcutList.innerHTML = '<h3>Common Shortcuts</h3>';
            
            // Common shortcuts across applications
            const commonShortcuts = [
                { name: "Copy", keys: ["Ctrl/Cmd", "C"] },
                { name: "Paste", keys: ["Ctrl/Cmd", "V"] },
                { name: "Cut", keys: ["Ctrl/Cmd", "X"] },
                { name: "Undo", keys: ["Ctrl/Cmd", "Z"] },
                { name: "Redo", keys: ["Ctrl/Cmd", "Y"] },
                { name: "Select All", keys: ["Ctrl/Cmd", "A"] },
                { name: "Find", keys: ["Ctrl/Cmd", "F"] },
                { name: "Save", keys: ["Ctrl/Cmd", "S"] },
                { name: "New", keys: ["Ctrl/Cmd", "N"] },
                { name: "Close", keys: ["Ctrl/Cmd", "W"] }
            ];
            
            const list = document.createElement('ul');
            list.className = 'shortcut-list';
            
            commonShortcuts.forEach(shortcut => {
                const item = document.createElement('li');
                item.className = 'shortcut-item';
                
                item.innerHTML = `
                    <div class="shortcut-info">
                        <div class="shortcut-name">${shortcut.name}</div>
                    </div>
                    <div class="shortcut-keys">${shortcut.keys.join(' + ')}</div>
                `;
                
                list.appendChild(item);
            });
            
            shortcutList.appendChild(list);
        }
        
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        function playSuccessSound() {
            // In a real app, this would play an actual sound
            console.log('Playing success sound');
        }
        
        function playErrorSound() {
            // In a real app, this would play an actual sound
            console.log('Playing error sound');
        }
        
        function saveNotificationSettings() {
            const notifications = {
                training: document.getElementById('training-notification').checked,
                progress: document.getElementById('progress-notification').checked,
                completion: document.getElementById('completion-notification').checked
            };
            
            // In a real app, this would save to localStorage or a server
            alert('Notification settings saved!');
        }
        
        function saveData() {
            // Data is saved when completing training
        }
        
        function loadSavedData() {
            const history = JSON.parse(localStorage.getItem('shortcutHistory')) || [];
            if (history.length > 0) {
                displayHistory(history);
            }
        }
        
        function clearData() {
            // Clear form
            document.getElementById('application').value = 'windows';
            document.getElementById('skill-level').value = 'intermediate';
            document.getElementById('shortcut-category').value = 'all';
            document.getElementById('session-duration').value = '10';
            document.getElementById('difficulty').value = 'medium';
            document.getElementById('feedback-type').value = 'instant';
            document.getElementById('sound-effects').value = 'enabled';
            
            // Reset training state
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            listeningForInput = false;
            currentKeysPressed = [];
            shortcuts = [];
            currentShortcutIndex = 0;
            correctCount = 0;
            incorrectCount = 0;
            
            // Remove keyboard event listeners
            document.removeEventListener('keydown', handleKeyDown);
            document.removeEventListener('keyup', handleKeyUp);
            
            // Hide result container
            document.getElementById('result-container').style.display = 'none';
            
            // Reset keyboard highlights
            const allKeys = document.querySelectorAll('.key');
            allKeys.forEach(key => {
                key.classList.remove('highlight', 'active');
            });
            
            // Reset displays
            document.getElementById('shortcut-display').textContent = 'Press the correct shortcut combination';
            document.getElementById('feedback').textContent = '';
            document.getElementById('progress-fill').style.width = '0%';
            document.getElementById('progress-text').textContent = '0/0';
            updateStats();
            
            // Clear history
            localStorage.removeItem('shortcutHistory');
            localStorage.removeItem('userAchievements');
            
            // Reset history display
            displayHistory([]);
            
            // Reset achievements
            displayAchievements();
        }
    </script>
</body>
</html>