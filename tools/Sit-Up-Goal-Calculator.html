<!DOCTYPE html>
<!-- Category: Health & Fitness -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sit-Up Goal Calculator - Calculate and track your sit-up goals with our easy-to-use fitness calculator. Perfect for core training and abdominal workouts.">
    <meta name="keywords" content="sit-up goal calculator, ab workout calculator, core exercise tracker, sit-up tracker, fitness goal calculator, abdominal workout planner, core strength calculator, exercise goal tracker">
    <title>Sit-Up Goal Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
            min-height: 100vh;
            padding: 0;
        }

        /* Desktop Styles */
        header {
            background: linear-gradient(to right, #00bcd4, #0097a7);
            color: white;
            padding: 0 20px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }

        .container {
            max-width: 900px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 25px;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        h1 {
            font-size: 28px;
            margin-bottom: 5px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group.full {
            grid-column: 1 / -1;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        label i {
            color: #00bcd4;
        }

        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #b2ebf2;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #00bcd4;
            box-shadow: 0 0 0 3px rgba(0, 188, 212, 0.2);
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        button {
            background: linear-gradient(to right, #00bcd4, #0097a7);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .secondary-btn {
            background: linear-gradient(to right, #95a5a6, #7f8c8d);
        }

        .danger-btn {
            background: linear-gradient(to right, #e74c3c, #c0392b);
        }

        .goal-display {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid #00bcd4;
        }

        .goal-display h3 {
            color: #00bcd4;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .goal-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .goal-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border-left: 3px solid #00bcd4;
        }

        .goal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .goal-name {
            font-weight: 600;
            color: #00bcd4;
        }

        .goal-value {
            font-size: 20px;
            font-weight: 700;
            color: #0097a7;
        }

        .goal-details {
            font-size: 14px;
            color: #666;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .stat-card i {
            font-size: 32px;
            margin-bottom: 15px;
            color: #00bcd4;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #00bcd4;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: #7f8c8d;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: translateX(200%);
            transition: transform 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .success {
            background: linear-gradient(to right, #27ae60, #2ecc71);
        }

        .error {
            background: linear-gradient(to right, #e74c3c, #c0392b);
        }

        .warning {
            background: linear-gradient(to right, #f39c12, #e67e22);
        }

        .tabs {
            display: flex;
            margin-bottom: 25px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: linear-gradient(to right, #00bcd4, #0097a7);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .goal-history {
            max-height: 300px;
            overflow-y: auto;
        }

        .history-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .history-info h4 {
            margin-bottom: 5px;
        }

        .history-info p {
            font-size: 14px;
            color: #7f8c8d;
        }

        .history-date {
            font-weight: 600;
            color: #00bcd4;
        }

        .challenge-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .challenge-item {
            background: #e0f7fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            border: 2px solid #b2ebf2;
            transition: all 0.3s ease;
        }

        .challenge-item:hover {
            border-color: #00bcd4;
            transform: translateY(-3px);
        }

        .challenge-item.selected {
            border-color: #00bcd4;
            background: #b2ebf2;
        }

        .challenge-item i {
            font-size: 24px;
            margin-bottom: 10px;
            color: #00bcd4;
        }

        .progress-display {
            text-align: center;
            padding: 20px;
            background: #e0f7fa;
            border-radius: 15px;
            margin: 20px 0;
        }

        .progress-title {
            font-size: 20px;
            font-weight: 600;
            color: #00bcd4;
            margin-bottom: 15px;
        }

        .progress-bar {
            height: 20px;
            background: #b2ebf2;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #00bcd4, #0097a7);
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-stats {
            display: flex;
            justify-content: space-around;
            margin: 15px 0;
        }

        .progress-stat {
            text-align: center;
        }

        .progress-value {
            font-size: 24px;
            font-weight: 700;
            color: #00bcd4;
        }

        .progress-label {
            font-size: 14px;
            color: #666;
        }

        .goal-calculator {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .calculator-item {
            background: #e0f7fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .calculator-item i {
            font-size: 32px;
            color: #00bcd4;
            margin-bottom: 15px;
        }

        .calculator-item h4 {
            color: #0097a7;
            margin-bottom: 10px;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            header {
                height: 50px;
                padding: 0 15px;
            }

            h1 {
                font-size: 20px;
            }

            .container {
                margin: 20px auto;
                padding: 0 15px;
            }

            .card {
                padding: 20px;
                margin-bottom: 20px;
            }

            .form-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .form-group {
                margin-bottom: 15px;
            }

            input, select, textarea {
                padding: 12px;
                font-size: 16px;
            }

            .btn-group {
                flex-direction: column;
                gap: 10px;
            }

            button {
                padding: 12px 20px;
                font-size: 16px;
            }

            .goal-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .goal-item {
                padding: 12px;
            }

            .stats-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .stat-card {
                padding: 20px;
            }

            .stat-value {
                font-size: 24px;
            }

            .tabs {
                flex-direction: column;
            }

            .challenge-selector {
                grid-template-columns: 1fr;
            }

            .goal-calculator {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .progress-stats {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-calculator"></i> Sit-Up Goal Calculator</h1>
    </header>

    <div class="container">
        <div class="stats-container">
            <div class="stat-card">
                <i class="fas fa-fire"></i>
                <div class="stat-value" id="totalSitups">0</div>
                <div class="stat-label">Total Sit-ups</div>
            </div>
            <div class="stat-card">
                <i class="fas fa-bullseye"></i>
                <div class="stat-value" id="currentGoal">0</div>
                <div class="stat-label">Current Goal</div>
            </div>
            <div class="stat-card">
                <i class="fas fa-chart-line"></i>
                <div class="stat-value" id="progressPercent">0%</div>
                <div class="stat-label">Progress</div>
            </div>
            <div class="stat-card">
                <i class="fas fa-trophy"></i>
                <div class="stat-value" id="achievements">0</div>
                <div class="stat-label">Achievements</div>
            </div>
        </div>

        <div class="tabs">
            <div class="tab active" data-tab="calculate">Calculate Goal</div>
            <div class="tab" data-tab="track">Track Progress</div>
            <div class="tab" data-tab="history">Goal History</div>
            <div class="tab" data-tab="challenges">Challenges</div>
        </div>

        <div class="tab-content active" id="calculateTab">
            <div class="card">
                <h2><i class="fas fa-calculator"></i> Calculate Your Sit-Up Goal</h2>
                <form id="goalForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="currentLevel"><i class="fas fa-user"></i> Current Fitness Level</label>
                            <select id="currentLevel" required>
                                <option value="">Select your level</option>
                                <option value="beginner">Beginner (0-20 sit-ups)</option>
                                <option value="intermediate">Intermediate (21-50 sit-ups)</option>
                                <option value="advanced">Advanced (51-100 sit-ups)</option>
                                <option value="elite">Elite (100+ sit-ups)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="goalLevel"><i class="fas fa-bullseye"></i> Target Fitness Level</label>
                            <select id="goalLevel" required>
                                <option value="">Select your goal</option>
                                <option value="beginner">Beginner (0-20 sit-ups)</option>
                                <option value="intermediate">Intermediate (21-50 sit-ups)</option>
                                <option value="advanced">Advanced (51-100 sit-ups)</option>
                                <option value="elite">Elite (100+ sit-ups)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="timeframe"><i class="fas fa-calendar-alt"></i> Timeframe (weeks)</label>
                            <input type="number" id="timeframe" min="1" max="52" value="8" placeholder="e.g., 8">
                        </div>
                        
                        <div class="form-group">
                            <label for="frequency"><i class="fas fa-calendar-day"></i> Training Frequency (per week)</label>
                            <select id="frequency">
                                <option value="3">3 days per week</option>
                                <option value="4" selected>4 days per week</option>
                                <option value="5">5 days per week</option>
                                <option value="6">6 days per week</option>
                                <option value="7">7 days per week</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="currentMax"><i class="fas fa-weight"></i> Current Max Sit-ups</label>
                            <input type="number" id="currentMax" min="0" max="500" placeholder="e.g., 30">
                        </div>
                        
                        <div class="form-group">
                            <label for="targetGoal"><i class="fas fa-flag"></i> Target Sit-up Goal</label>
                            <input type="number" id="targetGoal" min="1" max="1000" placeholder="e.g., 100">
                        </div>
                        
                        <div class="form-group full">
                            <label for="motivation"><i class="fas fa-heart"></i> Motivation Level</label>
                            <select id="motivation">
                                <option value="low">Low - Take it easy</option>
                                <option value="medium" selected>Medium - Balanced approach</option>
                                <option value="high">High - Push hard</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="challenge-selector">
                        <div class="challenge-item" data-goal="50">
                            <i class="fas fa-seedling"></i>
                            <div>Beginner Goal</div>
                            <div>50 Sit-ups</div>
                        </div>
                        <div class="challenge-item" data-goal="100">
                            <i class="fas fa-running"></i>
                            <div>Intermediate Goal</div>
                            <div>100 Sit-ups</div>
                        </div>
                        <div class="challenge-item" data-goal="200">
                            <i class="fas fa-bolt"></i>
                            <div>Advanced Goal</div>
                            <div>200 Sit-ups</div>
                        </div>
                    </div>
                    
                    <div class="btn-group">
                        <button type="submit"><i class="fas fa-calculator"></i> Calculate Goal</button>
                        <button type="button" id="clearForm" class="secondary-btn"><i class="fas fa-eraser"></i> Clear Form</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="tab-content" id="trackTab">
            <div class="card">
                <h2><i class="fas fa-chart-line"></i> Track Your Progress</h2>
                
                <div class="progress-display">
                    <div class="progress-title">Goal Progress</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                    <div class="progress-stats">
                        <div class="progress-stat">
                            <div class="progress-value" id="completedSitups">0</div>
                            <div class="progress-label">Completed</div>
                        </div>
                        <div class="progress-stat">
                            <div class="progress-value" id="remainingSitups">0</div>
                            <div class="progress-label">Remaining</div>
                        </div>
                        <div class="progress-stat">
                            <div class="progress-value" id="goalTarget">0</div>
                            <div class="progress-label">Goal</div>
                        </div>
                    </div>
                </div>
                
                <div class="goal-calculator">
                    <div class="calculator-item">
                        <i class="fas fa-plus-circle"></i>
                        <h4>Add Sit-ups</h4>
                        <input type="number" id="addSitups" min="1" max="500" placeholder="e.g., 25" style="width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #00bcd4;">
                        <button id="addSitupsBtn" class="secondary-btn" style="width: 100%;"><i class="fas fa-plus"></i> Add</button>
                    </div>
                    <div class="calculator-item">
                        <i class="fas fa-history"></i>
                        <h4>Today's Total</h4>
                        <div class="progress-value" id="todaysTotal">0</div>
                        <div class="progress-label">Sit-ups</div>
                    </div>
                    <div class="calculator-item">
                        <i class="fas fa-trophy"></i>
                        <h4>Weekly Total</h4>
                        <div class="progress-value" id="weeklyTotal">0</div>
                        <div class="progress-label">Sit-ups</div>
                    </div>
                </div>
                
                <div id="goalDisplay" class="goal-display">
                    <p>Calculate your goal to start tracking progress.</p>
                </div>
                
                <div class="btn-group">
                    <button id="saveProgress" class="secondary-btn"><i class="fas fa-save"></i> Save Progress</button>
                    <button id="resetProgress" class="danger-btn"><i class="fas fa-redo"></i> Reset Progress</button>
                </div>
            </div>
        </div>

        <div class="tab-content" id="historyTab">
            <div class="card">
                <h2><i class="fas fa-history"></i> Goal History</h2>
                <div class="goal-history" id="goalHistory">
                    <p>No goal history recorded yet. Set and achieve goals to build your history.</p>
                </div>
                <button id="clearHistory" class="danger-btn" style="margin-top: 15px; width: 100%;"><i class="fas fa-trash"></i> Clear History</button>
            </div>
        </div>

        <div class="tab-content" id="challengesTab">
            <div class="card">
                <h2><i class="fas fa-trophy"></i> Sit-Up Challenges</h2>
                
                <div class="goal-grid">
                    <div class="goal-item">
                        <div class="goal-header">
                            <div class="goal-name">30-Day Challenge</div>
                            <div class="goal-value">150</div>
                        </div>
                        <div class="goal-details">
                            Complete 150 sit-ups over 30 days<br>
                            <strong>Reward:</strong> Bronze Badge
                        </div>
                        <button class="secondary-btn" style="margin-top: 10px; width: 100%;" onclick="startChallenge('30-day', 150)"><i class="fas fa-play"></i> Start Challenge</button>
                    </div>
                    <div class="goal-item">
                        <div class="goal-header">
                            <div class="goal-name">60-Day Challenge</div>
                            <div class="goal-value">500</div>
                        </div>
                        <div class="goal-details">
                            Complete 500 sit-ups over 60 days<br>
                            <strong>Reward:</strong> Silver Badge
                        </div>
                        <button class="secondary-btn" style="margin-top: 10px; width: 100%;" onclick="startChallenge('60-day', 500)"><i class="fas fa-play"></i> Start Challenge</button>
                    </div>
                    <div class="goal-item">
                        <div class="goal-header">
                            <div class="goal-name">90-Day Challenge</div>
                            <div class="goal-value">1000</div>
                        </div>
                        <div class="goal-details">
                            Complete 1000 sit-ups over 90 days<br>
                            <strong>Reward:</strong> Gold Badge
                        </div>
                        <button class="secondary-btn" style="margin-top: 10px; width: 100%;" onclick="startChallenge('90-day', 1000)"><i class="fas fa-play"></i> Start Challenge</button>
                    </div>
                    <div class="goal-item">
                        <div class="goal-header">
                            <div class="goal-name">100 in One Session</div>
                            <div class="goal-value">100</div>
                        </div>
                        <div class="goal-details">
                            Complete 100 sit-ups in one session<br>
                            <strong>Reward:</strong> Platinum Badge
                        </div>
                        <button class="secondary-btn" style="margin-top: 10px; width: 100%;" onclick="startChallenge('100-session', 100)"><i class="fas fa-play"></i> Start Challenge</button>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button id="createCustom" class="secondary-btn"><i class="fas fa-plus-circle"></i> Create Custom Challenge</button>
                    <button id="exportData" class="secondary-btn"><i class="fas fa-download"></i> Export Data</button>
                    <button id="clearData" class="danger-btn"><i class="fas fa-times-circle"></i> Clear All Data</button>
                </div>
            </div>
        </div>
    </div>

    <div id="notification" class="notification"></div>

    <script>
        // DOM Elements
        const form = document.getElementById('goalForm');
        const goalDisplay = document.getElementById('goalDisplay');
        const goalHistory = document.getElementById('goalHistory');
        const clearDataBtn = document.getElementById('clearData');
        const clearFormBtn = document.getElementById('clearForm');
        const clearHistoryBtn = document.getElementById('clearHistory');
        const notification = document.getElementById('notification');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const exportDataBtn = document.getElementById('exportData');
        const createCustomBtn = document.getElementById('createCustom');
        const challengeItems = document.querySelectorAll('.challenge-item');
        const addSitupsBtn = document.getElementById('addSitupsBtn');
        const saveProgressBtn = document.getElementById('saveProgress');
        const resetProgressBtn = document.getElementById('resetProgress');

        // Stats elements
        const totalSitupsEl = document.getElementById('totalSitups');
        const currentGoalEl = document.getElementById('currentGoal');
        const progressPercentEl = document.getElementById('progressPercent');
        const achievementsEl = document.getElementById('achievements');
        const completedSitupsEl = document.getElementById('completedSitups');
        const remainingSitupsEl = document.getElementById('remainingSitups');
        const goalTargetEl = document.getElementById('goalTarget');
        const todaysTotalEl = document.getElementById('todaysTotal');
        const weeklyTotalEl = document.getElementById('weeklyTotal');
        const progressFill = document.getElementById('progressFill');

        // Show notification function
        function showNotification(message, type) {
            notification.innerHTML = `<i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i> ${message}`;
            notification.className = `notification ${type} show`;
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Get fitness level text
        function getFitnessLevelText(level) {
            const levels = {
                'beginner': 'Beginner',
                'intermediate': 'Intermediate',
                'advanced': 'Advanced',
                'elite': 'Elite'
            };
            return levels[level] || level;
        }

        // Get motivation level text
        function getMotivationText(motivation) {
            const motivations = {
                'low': 'Low',
                'medium': 'Medium',
                'high': 'High'
            };
            return motivations[motivation] || motivation;
        }

        // Calculate recommended goal
        function calculateRecommendedGoal(currentLevel, goalLevel, timeframe, frequency, motivation) {
            // Base calculations
            let currentBase = 0;
            let goalBase = 0;
            
            switch(currentLevel) {
                case 'beginner': currentBase = 10; break;
                case 'intermediate': currentBase = 35; break;
                case 'advanced': currentBase = 75; break;
                case 'elite': currentBase = 150; break;
            }
            
            switch(goalLevel) {
                case 'beginner': goalBase = 20; break;
                case 'intermediate': goalBase = 50; break;
                case 'advanced': goalBase = 100; break;
                case 'elite': goalBase = 200; break;
            }
            
            // Calculate weekly increase based on timeframe and frequency
            const totalWeeks = parseInt(timeframe) || 8;
            const trainingDays = parseInt(frequency) || 4;
            const motivationFactor = motivation === 'high' ? 1.2 : motivation === 'low' ? 0.8 : 1.0;
            
            const weeklyIncrease = Math.round(((goalBase - currentBase) / totalWeeks) * motivationFactor);
            const dailyTarget = Math.round((weeklyIncrease / trainingDays) * motivationFactor);
            
            return {
                currentBase: currentBase,
                goalBase: goalBase,
                weeklyIncrease: weeklyIncrease,
                dailyTarget: dailyTarget,
                totalGoal: goalBase
            };
        }

        // Save goal to localStorage
        function saveGoal(goal) {
            let goals = JSON.parse(localStorage.getItem('situpGoals')) || [];
            goal.id = Date.now(); // Simple ID generation
            goals.push(goal);
            localStorage.setItem('situpGoals', JSON.stringify(goals));
        }

        // Load goals from localStorage
        function loadGoals() {
            return JSON.parse(localStorage.getItem('situpGoals')) || [];
        }

        // Save progress to localStorage
        function saveProgress(progress) {
            localStorage.setItem('situpProgress', JSON.stringify(progress));
        }

        // Load progress from localStorage
        function loadProgress() {
            return JSON.parse(localStorage.getItem('situpProgress')) || {
                total: 0,
                today: 0,
                weekly: 0,
                goal: 0,
                history: []
            };
        }

        // Update stats
        function updateStats() {
            const goals = loadGoals();
            const progress = loadProgress();
            
            // Total sit-ups
            totalSitupsEl.textContent = progress.total;
            
            // Current goal
            currentGoalEl.textContent = progress.goal;
            
            // Progress percentage
            if (progress.goal > 0) {
                const percent = Math.min(Math.round((progress.total / progress.goal) * 100), 100);
                progressPercentEl.textContent = `${percent}%`;
            } else {
                progressPercentEl.textContent = '0%';
            }
            
            // Achievements (simplified)
            achievementsEl.textContent = Math.floor(progress.total / 50);
            
            // Update progress display
            updateProgressDisplay();
        }

        // Update progress display
        function updateProgressDisplay() {
            const progress = loadProgress();
            
            completedSitupsEl.textContent = progress.total;
            goalTargetEl.textContent = progress.goal;
            
            if (progress.goal > 0) {
                const remaining = Math.max(progress.goal - progress.total, 0);
                remainingSitupsEl.textContent = remaining;
                
                const percent = Math.min((progress.total / progress.goal) * 100, 100);
                progressFill.style.width = `${percent}%`;
            } else {
                remainingSitupsEl.textContent = '0';
                progressFill.style.width = '0%';
            }
            
            todaysTotalEl.textContent = progress.today;
            weeklyTotalEl.textContent = progress.weekly;
        }

        // Display goal
        function displayGoal(goalData) {
            const currentLevel = getFitnessLevelText(goalData.currentLevel);
            const goalLevel = getFitnessLevelText(goalData.goalLevel);
            const motivation = getMotivationText(goalData.motivation);
            
            goalDisplay.innerHTML = `
                <h3><i class="fas fa-bullseye"></i> Your Sit-Up Goal Plan</h3>
                <div class="goal-grid">
                    <div class="goal-item">
                        <div class="goal-header">
                            <div class="goal-name">Current Level</div>
                            <div class="goal-value">${currentLevel}</div>
                        </div>
                        <div class="goal-details">
                            Starting point: ${goalData.currentBase} sit-ups
                        </div>
                    </div>
                    <div class="goal-item">
                        <div class="goal-header">
                            <div class="goal-name">Target Level</div>
                            <div class="goal-value">${goalLevel}</div>
                        </div>
                        <div class="goal-details">
                            Goal: ${goalData.totalGoal} sit-ups
                        </div>
                    </div>
                    <div class="goal-item">
                        <div class="goal-header">
                            <div class="goal-name">Weekly Increase</div>
                            <div class="goal-value">+${goalData.weeklyIncrease}</div>
                        </div>
                        <div class="goal-details">
                            ${goalData.trainingDays} training days per week
                        </div>
                    </div>
                    <div class="goal-item">
                        <div class="goal-header">
                            <div class="goal-name">Daily Target</div>
                            <div class="goal-value">${goalData.dailyTarget}</div>
                        </div>
                        <div class="goal-details">
                            Motivation: ${motivation}
                        </div>
                    </div>
                </div>
                <div style="margin-top: 20px; text-align: center;">
                    <button id="setGoalBtn" class="secondary-btn" style="padding: 15px 30px;">
                        <i class="fas fa-check-circle"></i> Set This Goal
                    </button>
                </div>
            `;
            
            // Add event listener to set goal button
            document.getElementById('setGoalBtn').addEventListener('click', function() {
                const progress = loadProgress();
                progress.goal = goalData.totalGoal;
                saveProgress(progress);
                updateStats();
                showNotification('Goal set successfully!', 'success');
                
                // Switch to track tab
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                document.querySelector('.tab[data-tab="track"]').classList.add('active');
                document.getElementById('trackTab').classList.add('active');
            });
        }

        // Display history
        function displayHistory() {
            const goals = loadGoals();
            
            if (goals.length === 0) {
                goalHistory.innerHTML = '<p>No goal history recorded yet. Set and achieve goals to build your history.</p>';
                return;
            }
            
            let historyHTML = '';
            goals.slice().reverse().forEach((goal, index) => {
                const date = new Date(goal.timestamp);
                const currentLevel = getFitnessLevelText(goal.currentLevel);
                const goalLevel = getFitnessLevelText(goal.goalLevel);
                
                historyHTML += `
                    <div class="history-item">
                        <div class="history-info">
                            <h4>Goal: ${goal.totalGoal} Sit-ups</h4>
                            <p>${currentLevel} â†’ ${goalLevel}<br>
                            ${goal.timeframe} weeks | ${goal.trainingDays} days/week</p>
                        </div>
                        <div class="history-date">
                            ${date.toLocaleDateString()}<br>
                            ${goal.motivation}
                        </div>
                    </div>
                `;
            });
            
            goalHistory.innerHTML = historyHTML;
        }

        // Add sit-ups to progress
        function addSitups() {
            const addAmount = parseInt(document.getElementById('addSitups').value);
            if (!addAmount || addAmount <= 0) {
                showNotification('Please enter a valid number of sit-ups!', 'warning');
                return;
            }
            
            const progress = loadProgress();
            progress.total += addAmount;
            progress.today += addAmount;
            progress.weekly += addAmount;
            progress.history.push({
                amount: addAmount,
                timestamp: new Date().toISOString()
            });
            
            saveProgress(progress);
            updateStats();
            document.getElementById('addSitups').value = '';
            showNotification(`${addAmount} sit-ups added to your progress!`, 'success');
        }

        // Save progress
        function saveProgressData() {
            showNotification('Progress saved successfully!', 'success');
        }

        // Reset progress
        function resetProgress() {
            if (confirm('Are you sure you want to reset all progress?')) {
                const progress = loadProgress();
                progress.today = 0;
                progress.weekly = 0;
                saveProgress(progress);
                updateStats();
                showNotification('Progress reset successfully!', 'success');
            }
        }

        // Start challenge
        function startChallenge(challengeName, goal) {
            const progress = loadProgress();
            progress.goal = goal;
            saveProgress(progress);
            updateStats();
            showNotification(`${challengeName} challenge started with goal of ${goal} sit-ups!`, 'success');
            
            // Switch to track tab
            tabs.forEach(t => t.classList.remove('active'));
            tabContents.forEach(c => c.classList.remove('active'));
            document.querySelector('.tab[data-tab="track"]').classList.add('active');
            document.getElementById('trackTab').classList.add('active');
        }

        // Clear all data
        function clearAllData() {
            if (confirm('Are you sure you want to clear all data?')) {
                localStorage.removeItem('situpGoals');
                localStorage.removeItem('situpProgress');
                displayHistory();
                updateStats();
                showNotification('All data cleared successfully!', 'success');
            }
        }

        // Clear history only
        function clearHistory() {
            if (confirm('Are you sure you want to clear goal history?')) {
                localStorage.removeItem('situpGoals');
                displayHistory();
                showNotification('Goal history cleared!', 'success');
            }
        }

        // Clear form
        function clearForm() {
            form.reset();
            showNotification('Form cleared!', 'success');
        }

        // Create custom challenge
        function createCustomChallenge() {
            showNotification('Custom challenge creation form would open!', 'success');
        }

        // Export data
        function exportData() {
            const goals = loadGoals();
            const progress = loadProgress();
            
            const exportData = {
                goals: goals,
                progress: progress,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = "text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(exportData, null, 2));
            const downloadAnchorNode = document.createElement('a');
            downloadAnchorNode.setAttribute("href", dataStr);
            downloadAnchorNode.setAttribute("download", "situp_goals_data.json");
            document.body.appendChild(downloadAnchorNode);
            downloadAnchorNode.click();
            downloadAnchorNode.remove();
            
            showNotification('Data exported successfully!', 'success');
        }

        // Challenge selection
        challengeItems.forEach(item => {
            item.addEventListener('click', () => {
                challengeItems.forEach(i => i.classList.remove('selected'));
                item.classList.add('selected');
                document.getElementById('targetGoal').value = item.getAttribute('data-goal');
                showNotification(`${item.querySelector('div:last-child').textContent} selected!`, 'success');
            });
        });

        // Tab switching
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(`${tabId}Tab`).classList.add('active');
                
                if (tabId === 'history') {
                    displayHistory();
                } else if (tabId === 'track') {
                    updateProgressDisplay();
                }
            });
        });

        // Form submission
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const goalData = {
                currentLevel: document.getElementById('currentLevel').value,
                goalLevel: document.getElementById('goalLevel').value,
                timeframe: document.getElementById('timeframe').value,
                trainingDays: document.getElementById('frequency').value,
                currentMax: document.getElementById('currentMax').value,
                targetGoal: document.getElementById('targetGoal').value,
                motivation: document.getElementById('motivation').value,
                timestamp: new Date().toISOString()
            };
            
            if (!goalData.currentLevel || !goalData.goalLevel) {
                showNotification('Please select both current and target fitness levels!', 'warning');
                return;
            }
            
            // Calculate recommended goal
            const calculated = calculateRecommendedGoal(
                goalData.currentLevel,
                goalData.goalLevel,
                goalData.timeframe,
                goalData.trainingDays,
                goalData.motivation
            );
            
            Object.assign(goalData, calculated);
            
            saveGoal(goalData);
            displayGoal(goalData);
            updateStats();
            showNotification('Goal calculated successfully!', 'success');
        });

        // Event listeners
        clearDataBtn.addEventListener('click', clearAllData);
        clearFormBtn.addEventListener('click', clearForm);
        clearHistoryBtn.addEventListener('click', clearHistory);
        exportDataBtn.addEventListener('click', exportData);
        createCustomBtn.addEventListener('click', createCustomChallenge);
        addSitupsBtn.addEventListener('click', addSitups);
        saveProgressBtn.addEventListener('click', saveProgressData);
        resetProgressBtn.addEventListener('click', resetProgress);

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            displayHistory();
            updateStats();
            
            // Set today's date as default
            const today = new Date().toISOString().split('T')[0];
        });

        // Make functions globally accessible for inline event handlers
        window.startChallenge = startChallenge;
    </script>
</body>
</html>