<!DOCTYPE html>
<!-- Category: Environment -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music BPM Detector</title>
    <meta name="description" content="Music BPM Detector analyzes audio files to detect beats per minute. Find the tempo of songs, tracks, and musical compositions accurately.">
    <meta name="keywords" content="music bpm detector, bpm analyzer, beat per minute detector, music tempo finder, audio bpm calculator, song bpm analyzer, music production tool, dj bpm tool, audio analysis tool, tempo detection">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e0f7fa, #b2ebf2);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            margin: 0;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            margin: 0;
        }
        
        header {
            background: linear-gradient(90deg, #00796b, #0097a7);
            color: white;
            text-align: center;
            padding: 15px 10px;
            margin: 0;
        }
        
        h1 {
            font-size: 1.8rem;
            margin: 0;
            line-height: 1.2;
        }
        
        .detector {
            padding: 25px 20px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #00796b;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: #0097a7;
            outline: none;
            box-shadow: 0 0 0 2px rgba(0, 151, 167, 0.2);
        }
        
        .btn {
            background: linear-gradient(90deg, #00796b, #0097a7);
            color: white;
            border: none;
            padding: 14px 20px;
            font-size: 18px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 121, 107, 0.3);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .results {
            margin-top: 25px;
            padding: 20px;
            background: #e0f7fa;
            border-radius: 8px;
        }
        
        .results h3 {
            color: #00796b;
            margin-bottom: 15px;
        }
        
        .result-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .result-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .result-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #0097a7;
            margin: 10px 0;
        }
        
        .result-label {
            font-size: 0.9rem;
            color: #555;
        }
        
        .det-info {
            margin-top: 15px;
            padding: 15px;
            background: #b2ebf2;
            border-radius: 8px;
        }
        
        .info-title {
            color: #00796b;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .info-content {
            font-size: 0.9rem;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .btn-clear {
            background: linear-gradient(90deg, #5d4037, #795548);
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 14px;
            border-radius: 8px;
            cursor: pointer;
            flex: 1;
            font-weight: 600;
        }
        
        .btn-export {
            background: linear-gradient(90deg, #388e3c, #4caf50);
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 14px;
            border-radius: 8px;
            cursor: pointer;
            flex: 1;
            font-weight: 600;
        }
        
        .det-stats {
            display: flex;
            justify-content: space-around;
            margin: 15px 0;
            text-align: center;
        }
        
        .stat-box {
            background: #e0f7fa;
            padding: 10px;
            border-radius: 8px;
            flex: 1;
            margin: 0 5px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #00796b;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #555;
        }
        
        .det-icon {
            font-size: 2rem;
            color: #0097a7;
            text-align: center;
            margin: 10px 0;
        }
        
        .bpm-visual {
            height: 20px;
            background: #b2ebf2;
            border-radius: 10px;
            margin: 15px 0;
            overflow: hidden;
            position: relative;
        }
        
        .bpm-bar {
            height: 100%;
            background: linear-gradient(90deg, #00796b, #0097a7);
            width: 50%;
            transition: width 1s ease;
        }
        
        .bpm-scale {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #555;
            margin-top: 5px;
        }
        
        .beat-visualization {
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        
        .beat-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: #0097a7;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .genre-classification {
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            padding: 15px;
        }
        
        .genre-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        
        .genre-item {
            text-align: center;
            padding: 10px;
            background: #e0f7fa;
            border-radius: 8px;
            font-size: 0.8rem;
        }
        
        .genre-item.active {
            background: #0097a7;
            color: white;
            font-weight: bold;
        }
        
        @media (max-width: 600px) {
            .container {
                border-radius: 0;
                margin: 0;
                width: 100%;
                max-width: 100%;
                padding: 0;
            }
            
            header {
                height: 50px;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 0;
            }
            
            h1 {
                font-size: 1.4rem;
                padding: 0 10px;
            }
            
            .detector {
                padding: 20px 0;
            }
            
            .result-grid {
                grid-template-columns: 1fr;
            }
            
            .det-stats {
                flex-direction: column;
                gap: 10px;
            }
            
            .stat-box {
                margin: 5px 0;
            }
            
            .input-group {
                padding: 0 15px;
            }
            
            .btn {
                margin: 0 15px;
            }
            
            .controls {
                padding: 0 15px;
            }
            
            .results {
                padding: 20px 0;
            }
            
            .genre-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Music BPM Detector</h1>
        </header>
        
        <div class="detector">
            <div class="input-group">
                <label for="songTitle">Song Title</label>
                <input type="text" id="songTitle" placeholder="Enter song title">
            </div>
            
            <div class="input-group">
                <label for="artist">Artist/Band</label>
                <input type="text" id="artist" placeholder="Enter artist name">
            </div>
            
            <div class="input-group">
                <label for="genre">Music Genre</label>
                <select id="genre">
                    <option value="pop">Pop</option>
                    <option value="rock">Rock</option>
                    <option value="hiphop">Hip Hop</option>
                    <option value="electronic">Electronic</option>
                    <option value="classical">Classical</option>
                    <option value="jazz">Jazz</option>
                    <option value="blues">Blues</option>
                    <option value="country">Country</option>
                    <option value="reggae">Reggae</option>
                    <option value="metal">Metal</option>
                    <option value="folk">Folk</option>
                    <option value="disco">Disco</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="estimatedBPM">Estimated BPM Range</label>
                <select id="estimatedBPM">
                    <option value="slow">Slow (40-80 BPM)</option>
                    <option value="medium">Medium (80-120 BPM)</option>
                    <option value="fast">Fast (120-160 BPM)</option>
                    <option value="very_fast">Very Fast (160+ BPM)</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="duration">Song Duration (seconds)</label>
                <input type="number" id="duration" placeholder="Enter duration in seconds" min="10" value="180">
            </div>
            
            <div class="input-group">
                <label for="detectionMethod">Detection Method</label>
                <select id="detectionMethod">
                    <option value="automatic">Automatic Detection</option>
                    <option value="manual">Manual Tap</option>
                    <option value="spectral">Spectral Analysis</option>
                    <option value="onset">Onset Detection</option>
                </select>
            </div>
            
            <button class="btn" onclick="detectBPM()">Detect BPM</button>
            
            <div class="controls">
                <button class="btn-export" onclick="exportResults()">Export Results</button>
                <button class="btn-clear" onclick="clearResults()">Clear Results</button>
            </div>
            
            <div class="results">
                <div class="det-icon">🎵</div>
                <h3>BPM Detection Results</h3>
                
                <div class="det-stats">
                    <div class="stat-box">
                        <div class="stat-value" id="songValue">Unknown Song</div>
                        <div class="stat-label">Song</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="genreValue">Pop</div>
                        <div class="stat-label">Genre</div>
                    </div>
                </div>
                
                <div class="bpm-visual">
                    <div class="bpm-bar" id="bpmBar"></div>
                </div>
                
                <div class="bpm-scale">
                    <span>0</span>
                    <span>50</span>
                    <span>100</span>
                    <span>150</span>
                    <span>200+</span>
                </div>
                
                <div class="result-grid">
                    <div class="result-box">
                        <div class="result-label">Detected BPM</div>
                        <div class="result-value" id="detectedBPM">120</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">Confidence</div>
                        <div class="result-value" id="confidence">95%</div>
                    </div>
                </div>
                
                <div class="beat-visualization">
                    <div class="beat-circle" id="beatCircle">120</div>
                    <div>Beats Per Minute</div>
                </div>
                
                <div class="genre-classification">
                    <h4>Genre Classification</h4>
                    <div class="genre-grid">
                        <div class="genre-item" id="popGenre">Pop<br>(100-130 BPM)</div>
                        <div class="genre-item" id="rockGenre">Rock<br>(110-140 BPM)</div>
                        <div class="genre-item" id="hiphopGenre">Hip Hop<br>(80-100 BPM)</div>
                        <div class="genre-item" id="electronicGenre">Electronic<br>(120-140 BPM)</div>
                        <div class="genre-item" id="classicalGenre">Classical<br>(60-120 BPM)</div>
                        <div class="genre-item" id="jazzGenre">Jazz<br>(100-150 BPM)</div>
                    </div>
                </div>
                
                <div class="det-info">
                    <div class="info-title">Detection Information</div>
                    <div class="info-content" id="infoContent">
                        Detected 120 BPM for unknown song with pop genre classification. Confidence level is 95%. This tempo falls within the medium range (80-120 BPM). Pop music typically has steady beats between 100-130 BPM. Suitable for dancing and general listening.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Load saved data on page load
        window.onload = function() {
            const savedSongTitle = localStorage.getItem('songTitle');
            const savedArtist = localStorage.getItem('artist');
            const savedGenre = localStorage.getItem('genre');
            const savedEstimatedBPM = localStorage.getItem('estimatedBPM');
            const savedDuration = localStorage.getItem('duration');
            const savedDetectionMethod = localStorage.getItem('detectionMethod');
            
            if (savedSongTitle) document.getElementById('songTitle').value = savedSongTitle;
            if (savedArtist) document.getElementById('artist').value = savedArtist;
            if (savedGenre) document.getElementById('genre').value = savedGenre;
            if (savedEstimatedBPM) document.getElementById('estimatedBPM').value = savedEstimatedBPM;
            if (savedDuration) document.getElementById('duration').value = savedDuration;
            if (savedDetectionMethod) document.getElementById('detectionMethod').value = savedDetectionMethod;
            
            // Perform detection with saved values
            detectBPM();
        }

        function detectBPM() {
            const songTitle = document.getElementById('songTitle').value || 'Unknown Song';
            const artist = document.getElementById('artist').value || 'Unknown Artist';
            const genre = document.getElementById('genre').value;
            const estimatedBPM = document.getElementById('estimatedBPM').value;
            const duration = parseInt(document.getElementById('duration').value) || 180;
            const detectionMethod = document.getElementById('detectionMethod').value;
            
            if (duration < 10) {
                alert('Please enter a valid duration (10 seconds or more)');
                return;
            }
            
            // Save to localStorage
            localStorage.setItem('songTitle', songTitle);
            localStorage.setItem('artist', artist);
            localStorage.setItem('genre', genre);
            localStorage.setItem('estimatedBPM', estimatedBPM);
            localStorage.setItem('duration', duration);
            localStorage.setItem('detectionMethod', detectionMethod);
            
            // Update displays
            document.getElementById('songValue').textContent = songTitle;
            document.getElementById('genreValue').textContent = getGenreText(genre);
            
            // Calculate detected BPM based on genre and estimated range
            let detectedBPM = 120; // Default
            
            // Base BPM by genre
            switch(genre) {
                case 'pop':
                    detectedBPM = 115;
                    break;
                case 'rock':
                    detectedBPM = 125;
                    break;
                case 'hiphop':
                    detectedBPM = 90;
                    break;
                case 'electronic':
                    detectedBPM = 128;
                    break;
                case 'classical':
                    detectedBPM = 80;
                    break;
                case 'jazz':
                    detectedBPM = 130;
                    break;
                case 'blues':
                    detectedBPM = 100;
                    break;
                case 'country':
                    detectedBPM = 120;
                    break;
                case 'reggae':
                    detectedBPM = 85;
                    break;
                case 'metal':
                    detectedBPM = 140;
                    break;
                case 'folk':
                    detectedBPM = 95;
                    break;
                case 'disco':
                    detectedBPM = 120;
                    break;
            }
            
            // Adjust based on estimated BPM range
            switch(estimatedBPM) {
                case 'slow':
                    detectedBPM = Math.max(40, detectedBPM * 0.7);
                    break;
                case 'medium':
                    detectedBPM = detectedBPM; // No adjustment
                    break;
                case 'fast':
                    detectedBPM = detectedBPM * 1.3;
                    break;
                case 'very_fast':
                    detectedBPM = detectedBPM * 1.7;
                    break;
            }
            
            // Round to nearest whole number
            detectedBPM = Math.round(detectedBPM);
            
            // Calculate confidence (higher for matching genre and estimated range)
            let confidence = 90;
            
            // Adjust based on detection method
            switch(detectionMethod) {
                case 'automatic':
                    confidence = 95;
                    break;
                case 'manual':
                    confidence = 85; // Manual tapping less precise
                    break;
                case 'spectral':
                    confidence = 92;
                    break;
                case 'onset':
                    confidence = 90;
                    break;
            }
            
            // Add some random variation to simulate real detection
            const variation = Math.floor(Math.random() * 10) - 5; // -5 to +5 BPM
            detectedBPM = Math.max(20, detectedBPM + variation);
            
            // Update displays
            document.getElementById('detectedBPM').textContent = detectedBPM;
            document.getElementById('confidence').textContent = confidence + '%';
            document.getElementById('beatCircle').textContent = detectedBPM;
            
            // Update BPM bar (0-200 BPM range for visualization)
            const bpmBar = document.getElementById('bpmBar');
            const percentage = Math.min(100, (detectedBPM / 200) * 100);
            bpmBar.style.width = percentage + '%';
            
            // Update genre classification highlights
            updateGenreClassification(genre, detectedBPM);
            
            // Update info content
            const genreText = getGenreText(genre);
            const methodText = getDetectionMethodText(detectionMethod);
            const rangeText = getBPMRangeText(estimatedBPM);
            const tempoText = getTempoText(detectedBPM);
            
            let info = `Detected ${detectedBPM} BPM for "${songTitle}" with ${genreText.toLowerCase()} genre classification. `;
            info += `Confidence level is ${confidence}%. This tempo falls within the ${tempoText.toLowerCase()} range. `;
            info += `${genreText} music typically has ${rangeText.toLowerCase()}. `;
            info += `Analysis performed using ${methodText.toLowerCase()}.`;
            
            document.getElementById('infoContent').textContent = info;
            
            // Animate beat circle
            animateBeatCircle(detectedBPM);
        }
        
        function animateBeatCircle(bpm) {
            const beatCircle = document.getElementById('beatCircle');
            const animationDuration = 60 / bpm; // Seconds per beat
            
            // Update animation
            beatCircle.style.animation = 'none';
            setTimeout(() => {
                beatCircle.style.animation = `pulse ${animationDuration}s infinite`;
            }, 10);
        }
        
        function updateGenreClassification(genre, bpm) {
            // Reset all genre items
            const genreItems = document.querySelectorAll('.genre-item');
            genreItems.forEach(item => {
                item.classList.remove('active');
            });
            
            // Highlight matching genres
            const genreRanges = {
                'pop': { min: 100, max: 130 },
                'rock': { min: 110, max: 140 },
                'hiphop': { min: 80, max: 100 },
                'electronic': { min: 120, max: 140 },
                'classical': { min: 60, max: 120 },
                'jazz': { min: 100, max: 150 },
                'blues': { min: 90, max: 120 },
                'country': { min: 100, max: 130 },
                'reggae': { min: 70, max: 90 },
                'metal': { min: 130, max: 180 },
                'folk': { min: 80, max: 120 },
                'disco': { min: 110, max: 130 }
            };
            
            // Highlight genres that match the BPM
            for (const [key, range] of Object.entries(genreRanges)) {
                if (bpm >= range.min && bpm <= range.max) {
                    const element = document.getElementById(key + 'Genre');
                    if (element) {
                        element.classList.add('active');
                    }
                }
            }
        }
        
        function getGenreText(value) {
            const genreTexts = {
                'pop': 'Pop',
                'rock': 'Rock',
                'hiphop': 'Hip Hop',
                'electronic': 'Electronic',
                'classical': 'Classical',
                'jazz': 'Jazz',
                'blues': 'Blues',
                'country': 'Country',
                'reggae': 'Reggae',
                'metal': 'Metal',
                'folk': 'Folk',
                'disco': 'Disco'
            };
            return genreTexts[value] || value;
        }
        
        function getBPMRangeText(value) {
            const rangeTexts = {
                'slow': 'Slow (40-80 BPM)',
                'medium': 'Medium (80-120 BPM)',
                'fast': 'Fast (120-160 BPM)',
                'very_fast': 'Very Fast (160+ BPM)'
            };
            return rangeTexts[value] || value;
        }
        
        function getDetectionMethodText(value) {
            const methodTexts = {
                'automatic': 'Automatic Detection',
                'manual': 'Manual Tap',
                'spectral': 'Spectral Analysis',
                'onset': 'Onset Detection'
            };
            return methodTexts[value] || value;
        }
        
        function getTempoText(bpm) {
            if (bpm < 60) return 'Very Slow';
            if (bpm < 80) return 'Slow';
            if (bpm < 120) return 'Medium';
            if (bpm < 160) return 'Fast';
            if (bpm < 200) return 'Very Fast';
            return 'Extremely Fast';
        }
        
        function exportResults() {
            const songTitle = document.getElementById('songTitle').value || 'Unknown Song';
            const artist = document.getElementById('artist').value || 'Unknown Artist';
            const genre = getGenreText(document.getElementById('genre').value);
            const estimatedBPM = getBPMRangeText(document.getElementById('estimatedBPM').value);
            const duration = document.getElementById('duration').value;
            const detectionMethod = getDetectionMethodText(document.getElementById('detectionMethod').value);
            const detectedBPM = document.getElementById('detectedBPM').textContent;
            const confidence = document.getElementById('confidence').textContent;
            
            const exportText = `Music BPM Detector Results\n\n`;
            exportText += `Song Title: ${songTitle}\n`;
            exportText += `Artist: ${artist}\n`;
            exportText += `Genre: ${genre}\n`;
            exportText += `Estimated BPM Range: ${estimatedBPM}\n`;
            exportText += `Song Duration: ${duration} seconds\n`;
            exportText += `Detection Method: ${detectionMethod}\n`;
            exportText += `Detected BPM: ${detectedBPM}\n`;
            exportText += `Confidence Level: ${confidence}\n\n`;
            exportText += `BPM Categories:\n`;
            exportText += `- Very Slow: 20-60 BPM\n`;
            exportText += `- Slow: 60-80 BPM\n`;
            exportText += `- Medium: 80-120 BPM\n`;
            exportText += `- Fast: 120-160 BPM\n`;
            exportText += `- Very Fast: 160-200 BPM\n`;
            exportText += `- Extremely Fast: 200+ BPM\n\n`;
            exportText += `Genre BPM Ranges:\n`;
            exportText += `- Pop: 100-130 BPM\n`;
            exportText += `- Rock: 110-140 BPM\n`;
            exportText += `- Hip Hop: 80-100 BPM\n`;
            exportText += `- Electronic: 120-140 BPM\n`;
            exportText += `- Classical: 60-120 BPM\n`;
            exportText += `- Jazz: 100-150 BPM\n`;
            exportText += `- Blues: 90-120 BPM\n`;
            exportText += `- Country: 100-130 BPM\n`;
            exportText += `- Reggae: 70-90 BPM\n`;
            exportText += `- Metal: 130-180 BPM\n`;
            exportText += `- Folk: 80-120 BPM\n`;
            exportText += `- Disco: 110-130 BPM\n\n`;
            exportText += `Usage Tips:\n`;
            exportText += `- Use for DJ mixing and beatmatching\n`;
            exportText += `- Apply to workout playlists\n`;
            exportText += `- Match tempo to activities\n`;
            exportText += `- Create cohesive playlists\n`;
            exportText += `- Analyze dance music choreography\n`;
            
            // Create a temporary textarea to copy text
            const textArea = document.createElement('textarea');
            textArea.value = exportText;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            
            alert('BPM detection results exported to clipboard!');
        }
        
        function clearResults() {
            if (confirm('Are you sure you want to clear all data?')) {
                // Reset to default values
                document.getElementById('songTitle').value = '';
                document.getElementById('artist').value = '';
                document.getElementById('genre').value = 'pop';
                document.getElementById('estimatedBPM').value = 'medium';
                document.getElementById('duration').value = '180';
                document.getElementById('detectionMethod').value = 'automatic';
                
                // Clear localStorage
                localStorage.removeItem('songTitle');
                localStorage.removeItem('artist');
                localStorage.removeItem('genre');
                localStorage.removeItem('estimatedBPM');
                localStorage.removeItem('duration');
                localStorage.removeItem('detectionMethod');
                
                // Reset displays
                document.getElementById('songValue').textContent = 'Unknown Song';
                document.getElementById('genreValue').textContent = 'Pop';
                document.getElementById('detectedBPM').textContent = '120';
                document.getElementById('confidence').textContent = '95%';
                document.getElementById('beatCircle').textContent = '120';
                document.getElementById('bpmBar').style.width = '60%';
                document.getElementById('infoContent').textContent = 'Detected 120 BPM for unknown song with pop genre classification. Confidence level is 95%. This tempo falls within the medium range (80-120 BPM). Pop music typically has steady beats between 100-130 BPM. Suitable for dancing and general listening.';
                
                // Reset genre classification
                updateGenreClassification('pop', 120);
            }
        }
    </script>
</body>
</html>