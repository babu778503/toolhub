<!-- Category: Education -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Countdown Timer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        /* Desktop Styles */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(90deg, #d31027, #ea384d);
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
        }
        
        .app-container {
            display: flex;
            min-height: 600px;
        }
        
        .form-section {
            flex: 1;
            padding: 30px;
            border-right: 1px solid #eee;
            background: #fff9f9;
        }
        
        .timer-section {
            flex: 1;
            padding: 30px;
            display: flex;
            flex-direction: column;
        }
        
        .stats-section {
            background: #fff5f5;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 8px rgba(0,0,0,0.08);
        }
        
        .stat-card i {
            font-size: 24px;
            margin-bottom: 10px;
            color: #d31027;
        }
        
        .stat-card .number {
            font-size: 24px;
            font-weight: bold;
            color: #d31027;
        }
        
        .stat-card .label {
            font-size: 14px;
            color: #7f8c8d;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #d31027;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 14px;
            border: 2px solid #ffd3d6;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: #ea384d;
            outline: none;
            box-shadow: 0 0 0 3px rgba(234, 56, 77, 0.2);
        }
        
        .priority-selector {
            display: flex;
            gap: 10px;
            margin-top: 5px;
        }
        
        .priority-option {
            flex: 1;
            text-align: center;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid #ddd;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .priority-option.active {
            border-color: #d31027;
            background: #d31027;
            color: white;
        }
        
        .priority-high.active { border-color: #e74c3c; background: #e74c3c; }
        .priority-medium.active { border-color: #f39c12; background: #f39c12; }
        .priority-low.active { border-color: #2ecc71; background: #2ecc71; }
        
        button {
            background: #d31027;
            color: white;
            border: none;
            padding: 16px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 18px;
            font-weight: 600;
            width: 100%;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        button:hover {
            background: #b50d22;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(211, 16, 39, 0.3);
        }
        
        .stop-btn {
            background: #333;
            margin-top: 15px;
        }
        
        .stop-btn:hover {
            background: #000;
        }
        
        .reset-btn {
            background: #6c757d;
            margin-top: 15px;
        }
        
        .reset-btn:hover {
            background: #5a6268;
        }
        
        .save-btn {
            background: #27ae60;
            margin-top: 15px;
        }
        
        .save-btn:hover {
            background: #219653;
        }
        
        .timer-display {
            text-align: center;
            margin: 20px 0;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .timer-title {
            font-size: 1.8rem;
            color: #d31027;
            margin-bottom: 20px;
            font-weight: 700;
        }
        
        .countdown {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }
        
        .time-unit {
            background: linear-gradient(135deg, #d31027, #ea384d);
            color: white;
            border-radius: 15px;
            padding: 25px 15px;
            min-width: 120px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(211, 16, 39, 0.3);
            transition: transform 0.3s;
        }
        
        .time-unit:hover {
            transform: scale(1.05);
        }
        
        .time-value {
            font-size: 3.5rem;
            font-weight: 700;
            line-height: 1;
        }
        
        .time-label {
            font-size: 1.2rem;
            margin-top: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .exam-info {
            background: #fff5f5;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
            width: 100%;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .exam-info h3 {
            color: #d31027;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px dashed #ffd3d6;
        }
        
        .info-item:last-child {
            border-bottom: none;
        }
        
        .info-label {
            font-weight: 600;
            color: #555;
        }
        
        .info-value {
            color: #d31027;
            font-weight: 600;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 20px 30px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(200%);
            transition: transform 0.4s;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.warning {
            background: #ff9800;
        }
        
        .notification.success {
            background: #4caf50;
        }
        
        .notification.error {
            background: #f44336;
        }
        
        .notification.info {
            background: #2196f3;
        }
        
        .timer-controls {
            display: flex;
            gap: 15px;
            width: 100%;
            margin-top: 20px;
        }
        
        .timer-controls button {
            flex: 1;
        }
        
        .saved-exams-section {
            margin-top: 30px;
            background: #fff5f5;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .saved-exams-section h3 {
            color: #d31027;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .saved-exams-list {
            max-height: 200px;
            overflow-y: auto;
        }
        
        .saved-exam-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .saved-exam-info {
            flex: 1;
        }
        
        .saved-exam-name {
            font-weight: 600;
            color: #d31027;
        }
        
        .saved-exam-date {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .saved-exam-actions {
            display: flex;
            gap: 8px;
        }
        
        .action-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .action-btn.delete {
            background: #e74c3c;
        }
        
        .progress-container {
            margin-top: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            height: 12px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #d31027, #ea384d);
            border-radius: 10px;
            transition: width 0.5s;
        }
        
        .progress-label {
            text-align: center;
            margin-top: 8px;
            font-weight: 600;
            color: #d31027;
        }
        
        .theme-selector {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .theme-option {
            flex: 1;
            height: 30px;
            border-radius: 5px;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .theme-option.active {
            border-color: #333;
        }
        
        .theme-red { background: linear-gradient(135deg, #d31027, #ea384d); }
        .theme-blue { background: linear-gradient(135deg, #2193b0, #6dd5ed); }
        .theme-green { background: linear-gradient(135deg, #11998e, #38ef7d); }
        .theme-purple { background: linear-gradient(135deg, #6a11cb, #2575fc); }
        
        /* Mobile Styles */
        @media (max-width: 768px) {
            body {
                padding: 0;
            }
            
            .container {
                border-radius: 0;
                box-shadow: none;
            }
            
            header {
                height: 50px;
                padding: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            h1 {
                font-size: 1.6rem;
                margin: 0;
            }
            
            h1 i {
                display: none;
            }
            
            .subtitle {
                display: none;
            }
            
            .app-container {
                flex-direction: column;
            }
            
            .form-section, .timer-section {
                padding: 20px;
                border-right: none;
                border-bottom: 1px solid #eee;
            }
            
            .countdown {
                gap: 10px;
            }
            
            .time-unit {
                min-width: 70px;
                padding: 15px 5px;
            }
            
            .time-value {
                font-size: 2.2rem;
            }
            
            .time-label {
                font-size: 0.9rem;
            }
            
            .timer-controls {
                flex-direction: column;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .priority-selector {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            .countdown {
                flex-wrap: wrap;
            }
            
            .time-unit {
                min-width: 45%;
                margin-bottom: 10px;
            }
            
            .saved-exams-list {
                max-height: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-stopwatch"></i> Exam Countdown Timer</h1>
            <div class="subtitle">Stay prepared for your upcoming exams</div>
        </header>
        
        <div class="app-container">
            <section class="form-section">
                <h2><i class="fas fa-cog"></i> Set Exam Details</h2>
                
                <div class="stats-section">
                    <h3><i class="fas fa-chart-bar"></i> Your Exam Stats</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <i class="fas fa-book"></i>
                            <div class="number" id="totalExams">0</div>
                            <div class="label">Exams</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-clock"></i>
                            <div class="number" id="closestExam">0</div>
                            <div class="label">Days to Next</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-check-circle"></i>
                            <div class="number" id="completedExams">0</div>
                            <div class="label">Completed</div>
                        </div>
                    </div>
                </div>
                
                <form id="examForm">
                    <div class="form-group">
                        <label for="examName"><i class="fas fa-book"></i> Exam Name</label>
                        <input type="text" id="examName" placeholder="Enter exam name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="examDate"><i class="fas fa-calendar"></i> Exam Date</label>
                        <input type="date" id="examDate" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="examTime"><i class="fas fa-clock"></i> Exam Time</label>
                        <input type="time" id="examTime" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="examDuration"><i class="fas fa-hourglass-half"></i> Duration (minutes)</label>
                        <input type="number" id="examDuration" min="30" max="300" value="120" placeholder="Enter exam duration">
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-exclamation-circle"></i> Priority</label>
                        <div class="priority-selector">
                            <div class="priority-option priority-high" data-priority="high">High</div>
                            <div class="priority-option priority-medium active" data-priority="medium">Medium</div>
                            <div class="priority-option priority-low" data-priority="low">Low</div>
                        </div>
                        <input type="hidden" id="priority" value="medium">
                    </div>
                    
                    <div class="form-group">
                        <label for="examNotes"><i class="fas fa-sticky-note"></i> Notes</label>
                        <textarea id="examNotes" rows="3" placeholder="Additional notes or subjects to study"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-palette"></i> Theme</label>
                        <div class="theme-selector">
                            <div class="theme-option theme-red active" data-theme="red"></div>
                            <div class="theme-option theme-blue" data-theme="blue"></div>
                            <div class="theme-option theme-green" data-theme="green"></div>
                            <div class="theme-option theme-purple" data-theme="purple"></div>
                        </div>
                        <input type="hidden" id="theme" value="red">
                    </div>
                    
                    <button type="submit" id="startTimerBtn"><i class="fas fa-play"></i> Start Countdown</button>
                    <button type="button" class="stop-btn" id="stopTimerBtn"><i class="fas fa-pause"></i> Pause Timer</button>
                    <button type="button" class="reset-btn" id="resetTimerBtn"><i class="fas fa-redo"></i> Reset Timer</button>
                    <button type="button" class="save-btn" id="saveExamBtn"><i class="fas fa-save"></i> Save Exam</button>
                </form>
                
                <div class="saved-exams-section">
                    <h3><i class="fas fa-save"></i> Saved Exams</h3>
                    <div class="saved-exams-list" id="savedExamsList">
                        <!-- Saved exams will be added here -->
                    </div>
                </div>
            </section>
            
            <section class="timer-section">
                <div class="timer-display">
                    <div class="timer-title" id="currentExamTitle">Set your exam details</div>
                    
                    <div class="countdown">
                        <div class="time-unit">
                            <div class="time-value" id="days">00</div>
                            <div class="time-label">Days</div>
                        </div>
                        <div class="time-unit">
                            <div class="time-value" id="hours">00</div>
                            <div class="time-label">Hours</div>
                        </div>
                        <div class="time-unit">
                            <div class="time-value" id="minutes">00</div>
                            <div class="time-label">Minutes</div>
                        </div>
                        <div class="time-unit">
                            <div class="time-value" id="seconds">00</div>
                            <div class="time-label">Seconds</div>
                        </div>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                    </div>
                    <div class="progress-label" id="progressLabel">0% Complete</div>
                    
                    <div class="exam-info">
                        <h3><i class="fas fa-info-circle"></i> Exam Information</h3>
                        <div class="info-item">
                            <span class="info-label">Exam Date:</span>
                            <span class="info-value" id="examDateDisplay">Not set</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Exam Time:</span>
                            <span class="info-value" id="examTimeDisplay">Not set</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Duration:</span>
                            <span class="info-value" id="examDurationDisplay">Not set</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Time Remaining:</span>
                            <span class="info-value" id="timeRemainingDisplay">Not set</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Status:</span>
                            <span class="info-value" id="statusDisplay">Not started</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Priority:</span>
                            <span class="info-value" id="priorityDisplay">Not set</span>
                        </div>
                    </div>
                </div>
                
                <div class="timer-controls">
                    <button type="button" class="stop-btn" id="stopTimerBtn2"><i class="fas fa-pause"></i> Pause</button>
                    <button type="button" class="reset-btn" id="resetTimerBtn2"><i class="fas fa-redo"></i> Reset</button>
                </div>
            </section>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('examForm');
            const startTimerBtn = document.getElementById('startTimerBtn');
            const stopTimerBtn = document.getElementById('stopTimerBtn');
            const resetTimerBtn = document.getElementById('resetTimerBtn');
            const stopTimerBtn2 = document.getElementById('stopTimerBtn2');
            const resetTimerBtn2 = document.getElementById('resetTimerBtn2');
            const saveExamBtn = document.getElementById('saveExamBtn');
            const notification = document.getElementById('notification');
            const savedExamsList = document.getElementById('savedExamsList');
            const priorityOptions = document.querySelectorAll('.priority-option');
            const themeOptions = document.querySelectorAll('.theme-option');
            
            let countdownInterval;
            let isRunning = false;
            let examDateTime;
            let examDuration = 120;
            let examStartDate;
            
            // Set default date to tomorrow
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            const formattedDate = tomorrow.toISOString().split('T')[0];
            document.getElementById('examDate').value = formattedDate;
            
            // Set default time to 9:00 AM
            document.getElementById('examTime').value = '09:00';
            
            // Priority selector
            priorityOptions.forEach(option => {
                option.addEventListener('click', function() {
                    priorityOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById('priority').value = this.dataset.priority;
                });
            });
            
            // Theme selector
            themeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    themeOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById('theme').value = this.dataset.theme;
                    changeTheme(this.dataset.theme);
                });
            });
            
            // Load saved exams
            loadSavedExams();
            updateStats();
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                startCountdown();
            });
            
            startTimerBtn.addEventListener('click', function() {
                startCountdown();
            });
            
            stopTimerBtn.addEventListener('click', stopCountdown);
            stopTimerBtn2.addEventListener('click', stopCountdown);
            
            resetTimerBtn.addEventListener('click', resetCountdown);
            resetTimerBtn2.addEventListener('click', resetCountdown);
            
            saveExamBtn.addEventListener('click', saveExam);
            
            function startCountdown() {
                const examName = document.getElementById('examName').value;
                const examDate = document.getElementById('examDate').value;
                const examTime = document.getElementById('examTime').value;
                examDuration = parseInt(document.getElementById('examDuration').value) || 120;
                const priority = document.getElementById('priority').value;
                
                if (!examName || !examDate || !examTime) {
                    showNotification('Please fill in all required fields', 'error');
                    return;
                }
                
                // Combine date and time
                const dateTimeString = `${examDate}T${examTime}`;
                examDateTime = new Date(dateTimeString);
                examStartDate = new Date(); // Start of countdown
                
                // Check if the date is in the past
                const now = new Date();
                if (examDateTime < now) {
                    showNotification('Exam date cannot be in the past', 'error');
                    return;
                }
                
                // Update display
                document.getElementById('currentExamTitle').textContent = examName;
                document.getElementById('examDateDisplay').textContent = formatDate(examDateTime);
                document.getElementById('examTimeDisplay').textContent = formatTime(examDateTime);
                document.getElementById('examDurationDisplay').textContent = `${examDuration} minutes`;
                document.getElementById('statusDisplay').textContent = 'Running';
                document.getElementById('priorityDisplay').innerHTML = `
                    <span class="priority-badge ${priority}">${priority.charAt(0).toUpperCase() + priority.slice(1)}</span>
                `;
                
                // Start the countdown
                clearInterval(countdownInterval);
                updateCountdown();
                countdownInterval = setInterval(updateCountdown, 1000);
                isRunning = true;
                
                showNotification('Countdown started!', 'success');
            }
            
            function stopCountdown() {
                if (isRunning) {
                    clearInterval(countdownInterval);
                    isRunning = false;
                    document.getElementById('statusDisplay').textContent = 'Paused';
                    showNotification('Timer paused', 'warning');
                }
            }
            
            function resetCountdown() {
                clearInterval(countdownInterval);
                isRunning = false;
                resetTimer();
                showNotification('Timer reset', 'success');
            }
            
            function updateCountdown() {
                const now = new Date();
                const timeDifference = examDateTime - now;
                
                if (timeDifference <= 0) {
                    clearInterval(countdownInterval);
                    isRunning = false;
                    document.getElementById('days').textContent = '00';
                    document.getElementById('hours').textContent = '00';
                    document.getElementById('minutes').textContent = '00';
                    document.getElementById('seconds').textContent = '00';
                    document.getElementById('statusDisplay').textContent = 'Exam Time!';
                    document.getElementById('timeRemainingDisplay').textContent = 'Exam has started!';
                    document.getElementById('progressBar').style.width = '100%';
                    document.getElementById('progressLabel').textContent = '100% Complete';
                    showNotification('Exam time has arrived!', 'success');
                    return;
                }
                
                const days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeDifference % (1000 * 60)) / 1000);
                
                document.getElementById('days').textContent = padZero(days);
                document.getElementById('hours').textContent = padZero(hours);
                document.getElementById('minutes').textContent = padZero(minutes);
                document.getElementById('seconds').textContent = padZero(seconds);
                
                // Update time remaining display
                document.getElementById('timeRemainingDisplay').textContent = 
                    `${days}d ${hours}h ${minutes}m ${seconds}s`;
                
                // Update progress bar
                const totalTime = examDateTime - examStartDate;
                const elapsed = now - examStartDate;
                const progress = 100 - (timeDifference / totalTime) * 100;
                document.getElementById('progressBar').style.width = `${Math.min(progress, 100)}%`;
                document.getElementById('progressLabel').textContent = `${Math.round(progress)}% Complete`;
            }
            
            function resetTimer() {
                document.getElementById('examForm').reset();
                document.getElementById('examDate').value = formattedDate;
                document.getElementById('examTime').value = '09:00';
                document.getElementById('examDuration').value = '120';
                document.getElementById('priority').value = 'medium';
                document.getElementById('currentExamTitle').textContent = 'Set your exam details';
                document.getElementById('examDateDisplay').textContent = 'Not set';
                document.getElementById('examTimeDisplay').textContent = 'Not set';
                document.getElementById('examDurationDisplay').textContent = 'Not set';
                document.getElementById('timeRemainingDisplay').textContent = 'Not set';
                document.getElementById('statusDisplay').textContent = 'Not started';
                document.getElementById('priorityDisplay').textContent = 'Not set';
                document.getElementById('days').textContent = '00';
                document.getElementById('hours').textContent = '00';
                document.getElementById('minutes').textContent = '00';
                document.getElementById('seconds').textContent = '00';
                document.getElementById('progressBar').style.width = '0%';
                document.getElementById('progressLabel').textContent = '0% Complete';
                
                // Reset priority selector
                priorityOptions.forEach(opt => opt.classList.remove('active'));
                document.querySelector('.priority-medium').classList.add('active');
                
                // Reset theme selector
                themeOptions.forEach(opt => opt.classList.remove('active'));
                document.querySelector('.theme-red').classList.add('active');
                changeTheme('red');
            }
            
            function saveExam() {
                const examName = document.getElementById('examName').value;
                const examDate = document.getElementById('examDate').value;
                const examTime = document.getElementById('examTime').value;
                const examDuration = document.getElementById('examDuration').value;
                const priority = document.getElementById('priority').value;
                const notes = document.getElementById('examNotes').value;
                
                if (!examName || !examDate || !examTime) {
                    showNotification('Please fill in all required fields', 'error');
                    return;
                }
                
                const exam = {
                    id: Date.now(),
                    name: examName,
                    date: examDate,
                    time: examTime,
                    duration: examDuration,
                    priority: priority,
                    notes: notes
                };
                
                let savedExams = JSON.parse(localStorage.getItem('savedExams')) || [];
                savedExams.push(exam);
                localStorage.setItem('savedExams', JSON.stringify(savedExams));
                
                loadSavedExams();
                updateStats();
                showNotification('Exam saved successfully!', 'success');
            }
            
            function loadSavedExams() {
                const savedExams = JSON.parse(localStorage.getItem('savedExams')) || [];
                savedExamsList.innerHTML = '';
                
                if (savedExams.length === 0) {
                    savedExamsList.innerHTML = '<p style="text-align:center;color:#7f8c8d;">No saved exams</p>';
                    return;
                }
                
                savedExams.forEach(exam => {
                    const examDate = new Date(`${exam.date}T${exam.time}`);
                    const formattedDate = formatDate(examDate);
                    
                    const examItem = document.createElement('div');
                    examItem.className = 'saved-exam-item';
                    examItem.innerHTML = `
                        <div class="saved-exam-info">
                            <div class="saved-exam-name">${exam.name}</div>
                            <div class="saved-exam-date">${formattedDate}</div>
                        </div>
                        <div class="saved-exam-actions">
                            <button class="action-btn load" data-id="${exam.id}"><i class="fas fa-play"></i></button>
                            <button class="action-btn delete" data-id="${exam.id}"><i class="fas fa-trash"></i></button>
                        </div>
                    `;
                    
                    savedExamsList.appendChild(examItem);
                });
                
                // Add event listeners to action buttons
                document.querySelectorAll('.action-btn.load').forEach(btn => {
                    btn.addEventListener('click', function() {
                        loadExam(this.dataset.id);
                    });
                });
                
                document.querySelectorAll('.action-btn.delete').forEach(btn => {
                    btn.addEventListener('click', function() {
                        deleteExam(this.dataset.id);
                    });
                });
            }
            
            function loadExam(id) {
                const savedExams = JSON.parse(localStorage.getItem('savedExams')) || [];
                const exam = savedExams.find(e => e.id == id);
                
                if (exam) {
                    document.getElementById('examName').value = exam.name;
                    document.getElementById('examDate').value = exam.date;
                    document.getElementById('examTime').value = exam.time;
                    document.getElementById('examDuration').value = exam.duration;
                    document.getElementById('priority').value = exam.priority;
                    document.getElementById('examNotes').value = exam.notes || '';
                    
                    // Update priority selector UI
                    priorityOptions.forEach(opt => opt.classList.remove('active'));
                    document.querySelector(`.priority-${exam.priority}`).classList.add('active');
                    
                    showNotification('Exam loaded successfully!', 'success');
                }
            }
            
            function deleteExam(id) {
                if (confirm('Are you sure you want to delete this exam?')) {
                    let savedExams = JSON.parse(localStorage.getItem('savedExams')) || [];
                    savedExams = savedExams.filter(exam => exam.id != id);
                    localStorage.setItem('savedExams', JSON.stringify(savedExams));
                    
                    loadSavedExams();
                    updateStats();
                    showNotification('Exam deleted!', 'success');
                }
            }
            
            function updateStats() {
                const savedExams = JSON.parse(localStorage.getItem('savedExams')) || [];
                const totalExams = savedExams.length;
                
                // Find closest exam
                let closestExamDays = Infinity;
                const today = new Date();
                
                savedExams.forEach(exam => {
                    const examDate = new Date(`${exam.date}T${exam.time}`);
                    const diffTime = examDate - today;
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                    
                    if (diffDays >= 0 && diffDays < closestExamDays) {
                        closestExamDays = diffDays;
                    }
                });
                
                if (closestExamDays === Infinity) closestExamDays = 0;
                
                document.getElementById('totalExams').textContent = totalExams;
                document.getElementById('closestExam').textContent = closestExamDays;
                document.getElementById('completedExams').textContent = 0; // Placeholder
            }
            
            function formatDate(date) {
                const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
                return date.toLocaleDateString('en-US', options);
            }
            
            function formatTime(date) {
                return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
            }
            
            function padZero(num) {
                return num.toString().padStart(2, '0');
            }
            
            function changeTheme(theme) {
                const root = document.documentElement;
                let gradient;
                
                switch(theme) {
                    case 'blue':
                        gradient = 'linear-gradient(135deg, #2193b0, #6dd5ed)';
                        break;
                    case 'green':
                        gradient = 'linear-gradient(135deg, #11998e, #38ef7d)';
                        break;
                    case 'purple':
                        gradient = 'linear-gradient(135deg, #6a11cb, #2575fc)';
                        break;
                    default: // red
                        gradient = 'linear-gradient(135deg, #d31027, #ea384d)';
                }
                
                document.querySelectorAll('.time-unit').forEach(unit => {
                    unit.style.background = gradient;
                });
                
                document.getElementById('progressBar').style.background = gradient;
            }
            
            function showNotification(message, type) {
                notification.textContent = message;
                notification.className = `notification ${type} show`;
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
        });
    </script>
</body>
</html>