<!DOCTYPE html>
<!-- Category: Travel -->
<!-- SEO Keywords: bike route planner, cycling route calculator, bicycle navigation tool, bike path finder, cycling route planner, bike trip planner, bicycle route mapper, cycling navigation app, bike route optimizer, eco friendly travel planner -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Bike Route Planner with our easy-to-use bike navigation tool. Find the safest, fastest, and most scenic bike paths for your cycling adventures.">
    <meta name="keywords" content="bike route planner, cycling route calculator, bicycle navigation tool, bike path finder, cycling route planner, bike trip planner, bicycle route mapper, cycling navigation app, bike route optimizer, eco friendly travel planner">
    <meta name="author" content="Bike Route Planner">
    <title>Bike Route Planner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1e5799, #207cca, #2989d8, #1e5799);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Desktop Styles */
        @media (min-width: 769px) {
            header {
                background: rgba(255, 255, 255, 0.95);
                border-radius: 12px;
                padding: 25px;
                margin-bottom: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
                text-align: center;
                position: relative;
                overflow: hidden;
            }

            header::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 5px;
                background: linear-gradient(90deg, #2989d8, #1e5799, #207cca);
            }

            h1 {
                color: #1e5799;
                font-size: 2.8rem;
                margin-bottom: 10px;
                position: relative;
                display: inline-block;
            }

            h1::after {
                content: "";
                position: absolute;
                bottom: -10px;
                left: 25%;
                right: 25%;
                height: 3px;
                background: #2989d8;
                border-radius: 3px;
            }

            .planner-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
                gap: 30px;
                margin-bottom: 30px;
            }

            .input-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            }

            .input-section h2 {
                color: #1e5799;
                margin-bottom: 25px;
                padding-bottom: 15px;
                border-bottom: 2px solid #e0e0e0;
                font-size: 1.8rem;
            }

            .form-group {
                margin-bottom: 20px;
            }

            .form-group label {
                display: block;
                margin-bottom: 8px;
                font-weight: 600;
                color: #1e5799;
                font-size: 1.1rem;
            }

            .form-group input,
            .form-group select,
            .form-group textarea {
                width: 100%;
                padding: 14px;
                border: 2px solid #ddd;
                border-radius: 8px;
                font-size: 1.1rem;
                transition: border-color 0.3s ease;
            }

            .form-group input:focus,
            .form-group select:focus,
            .form-group textarea:focus {
                border-color: #2989d8;
                outline: none;
                box-shadow: 0 0 0 3px rgba(41, 137, 216, 0.2);
            }

            .btn-plan {
                background: #1e5799;
                color: white;
                border: none;
                padding: 15px 30px;
                font-size: 1.2rem;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                width: 100%;
                margin-top: 10px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            }

            .btn-plan:hover {
                background: #174370;
                transform: translateY(-3px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            }

            .result-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            }

            .result-section h2 {
                color: #1e5799;
                margin-bottom: 25px;
                padding-bottom: 15px;
                border-bottom: 2px solid #e0e0e0;
                font-size: 1.8rem;
            }

            .route-display {
                background: #e3f2fd;
                padding: 20px;
                border-radius: 10px;
                margin: 20px 0;
                max-height: 400px;
                overflow-y: auto;
            }

            .route-step {
                padding: 15px;
                border-bottom: 1px solid #ccc;
                display: flex;
                align-items: center;
            }

            .route-step:last-child {
                border-bottom: none;
            }

            .step-number {
                background: #1e5799;
                color: white;
                width: 30px;
                height: 30px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                margin-right: 15px;
                flex-shrink: 0;
            }

            .step-details {
                flex: 1;
            }

            .step-instruction {
                font-weight: 600;
                color: #1e5799;
                margin-bottom: 5px;
            }

            .step-distance {
                color: #666;
                font-size: 0.9rem;
            }

            .route-summary {
                background: #e3f2fd;
                padding: 20px;
                border-radius: 10px;
                margin: 20px 0;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 15px;
            }

            .summary-item {
                text-align: center;
            }

            .summary-value {
                font-size: 1.8rem;
                font-weight: bold;
                color: #1e5799;
            }

            .summary-label {
                color: #666;
                font-size: 1rem;
            }

            .map-container {
                background: #e3f2fd;
                height: 300px;
                border-radius: 10px;
                margin: 20px 0;
                display: flex;
                align-items: center;
                justify-content: center;
                color: #1e5799;
                font-weight: 600;
            }

            .savings-tip {
                background: #fff8e1;
                padding: 15px;
                border-radius: 8px;
                margin-top: 20px;
                border-left: 4px solid #ffc107;
            }

            .controls {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                text-align: center;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
                margin-bottom: 30px;
            }

            .controls h3 {
                color: #1e5799;
                margin-bottom: 20px;
                font-size: 1.5rem;
            }

            .btn-group {
                display: flex;
                justify-content: center;
                gap: 20px;
            }

            .btn {
                background: #1e5799;
                color: white;
                border: none;
                padding: 14px 28px;
                font-size: 1.1rem;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                display: flex;
                align-items: center;
                gap: 10px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            }

            .btn:hover {
                background: #174370;
                transform: translateY(-3px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            }

            .btn:active {
                transform: translateY(-1px);
            }

            .btn-clear {
                background: #dc3545;
            }

            .btn-clear:hover {
                background: #c82333;
            }

            .btn-save {
                background: #28a745;
            }

            .btn-save:hover {
                background: #218838;
            }

            .btn-print {
                background: #6c757d;
            }

            .btn-print:hover {
                background: #5a6268;
            }

            .history-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
                margin-top: 30px;
            }

            .history-section h2 {
                color: #1e5799;
                margin-bottom: 20px;
                font-size: 1.8rem;
            }

            .history-list {
                max-height: 300px;
                overflow-y: auto;
            }

            .history-item {
                padding: 15px;
                border-bottom: 1px solid #eee;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .history-item:last-child {
                border-bottom: none;
            }

            .history-route {
                font-weight: 600;
            }

            .history-distance {
                color: #1e5799;
                font-weight: 600;
                font-size: 1.2rem;
            }

            .history-details {
                font-size: 0.9rem;
                color: #666;
                margin-top: 5px;
            }

            .stats-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin: 20px 0;
            }

            .stat-card {
                background: #e3f2fd;
                border-radius: 10px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            }

            .stat-value {
                font-size: 2rem;
                font-weight: bold;
                color: #1e5799;
            }

            .stat-label {
                font-size: 1rem;
                color: #666;
                margin-top: 5px;
            }

            .tip-container {
                background: #e3f2fd;
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
            }

            .tip-container h3 {
                color: #1e5799;
                margin-bottom: 15px;
            }

            .tips {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 15px;
            }

            .tip {
                background: white;
                padding: 15px;
                border-radius: 8px;
                border-left: 4px solid #2989d8;
            }
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            header {
                height: 50px;
                background: rgba(255, 255, 255, 0.95);
                border-radius: 8px;
                margin-bottom: 15px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
                display: flex;
                align-items: center;
                justify-content: center;
                position: relative;
            }

            h1 {
                color: #1e5799;
                font-size: 1.4rem;
                text-align: center;
                padding: 0 10px;
            }

            .planner-container {
                display: grid;
                grid-template-columns: 1fr;
                gap: 20px;
                margin-bottom: 20px;
            }

            .input-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            }

            .input-section h2 {
                color: #1e5799;
                margin-bottom: 20px;
                padding-bottom: 10px;
                border-bottom: 1px solid #e0e0e0;
                font-size: 1.3rem;
            }

            .form-group {
                margin-bottom: 15px;
            }

            .form-group label {
                display: block;
                margin-bottom: 6px;
                font-weight: 600;
                color: #1e5799;
                font-size: 1rem;
            }

            .form-group input,
            .form-group select,
            .form-group textarea {
                width: 100%;
                padding: 12px;
                border: 2px solid #ddd;
                border-radius: 6px;
                font-size: 1rem;
            }

            .btn-plan {
                background: #1e5799;
                color: white;
                border: none;
                padding: 14px 20px;
                font-size: 1.1rem;
                border-radius: 6px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                width: 100%;
                margin-top: 10px;
                box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
            }

            .btn-plan:hover {
                background: #174370;
                transform: translateY(-2px);
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            }

            .result-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            }

            .result-section h2 {
                color: #1e5799;
                margin-bottom: 20px;
                padding-bottom: 10px;
                border-bottom: 1px solid #e0e0e0;
                font-size: 1.3rem;
            }

            .route-display {
                background: #e3f2fd;
                padding: 15px;
                border-radius: 8px;
                margin: 15px 0;
                max-height: 300px;
                overflow-y: auto;
            }

            .route-step {
                padding: 12px;
                border-bottom: 1px solid #ccc;
                display: flex;
                align-items: flex-start;
            }

            .route-step:last-child {
                border-bottom: none;
            }

            .step-number {
                background: #1e5799;
                color: white;
                width: 25px;
                height: 25px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                font-size: 0.8rem;
                margin-right: 12px;
                flex-shrink: 0;
            }

            .step-details {
                flex: 1;
            }

            .step-instruction {
                font-weight: 600;
                color: #1e5799;
                margin-bottom: 3px;
                font-size: 0.95rem;
            }

            .step-distance {
                color: #666;
                font-size: 0.85rem;
            }

            .route-summary {
                background: #e3f2fd;
                padding: 15px;
                border-radius: 8px;
                margin: 15px 0;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 12px;
            }

            .summary-item {
                text-align: center;
            }

            .summary-value {
                font-size: 1.4rem;
                font-weight: bold;
                color: #1e5799;
            }

            .summary-label {
                color: #666;
                font-size: 0.9rem;
            }

            .map-container {
                background: #e3f2fd;
                height: 200px;
                border-radius: 8px;
                margin: 15px 0;
                display: flex;
                align-items: center;
                justify-content: center;
                color: #1e5799;
                font-weight: 600;
                font-size: 0.9rem;
            }

            .savings-tip {
                background: #fff8e1;
                padding: 12px;
                border-radius: 6px;
                margin-top: 15px;
                border-left: 3px solid #ffc107;
                font-size: 0.9rem;
            }

            .controls {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                margin-bottom: 20px;
            }

            .controls h3 {
                color: #1e5799;
                margin-bottom: 15px;
                font-size: 1.3rem;
            }

            .btn-group {
                display: grid;
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .btn {
                background: #1e5799;
                color: white;
                border: none;
                padding: 12px 20px;
                font-size: 1rem;
                border-radius: 6px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
                width: 100%;
            }

            .btn:hover {
                background: #174370;
                transform: translateY(-1px);
                box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
            }

            .btn-clear {
                background: #dc3545;
            }

            .btn-clear:hover {
                background: #c82333;
            }

            .btn-save {
                background: #28a745;
            }

            .btn-save:hover {
                background: #218838;
            }

            .btn-print {
                background: #6c757d;
            }

            .btn-print:hover {
                background: #5a6268;
            }

            .history-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                margin-top: 20px;
            }

            .history-section h2 {
                color: #1e5799;
                margin-bottom: 15px;
                font-size: 1.3rem;
            }

            .history-list {
                max-height: 200px;
                overflow-y: auto;
            }

            .history-item {
                padding: 12px;
                border-bottom: 1px solid #eee;
                display: flex;
                justify-content: space-between;
                align-items: center;
                font-size: 0.9rem;
            }

            .history-item:last-child {
                border-bottom: none;
            }

            .history-route {
                font-weight: 600;
            }

            .history-distance {
                color: #1e5799;
                font-weight: 600;
                font-size: 1.1rem;
            }

            .history-details {
                font-size: 0.8rem;
                color: #666;
                margin-top: 3px;
            }

            .stats-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
                gap: 15px;
                margin: 15px 0;
            }

            .stat-card {
                background: #e3f2fd;
                border-radius: 8px;
                padding: 15px;
                text-align: center;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }

            .stat-value {
                font-size: 1.5rem;
                font-weight: bold;
                color: #1e5799;
            }

            .stat-label {
                font-size: 0.9rem;
                color: #666;
                margin-top: 3px;
            }

            .tip-container {
                background: #e3f2fd;
                border-radius: 8px;
                padding: 15px;
                margin: 15px 0;
            }

            .tip-container h3 {
                color: #1e5799;
                margin-bottom: 12px;
                font-size: 1.1rem;
            }

            .tips {
                display: grid;
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .tip {
                background: white;
                padding: 12px;
                border-radius: 6px;
                border-left: 3px solid #2989d8;
            }

            .tip h4 {
                font-size: 1rem;
                margin-bottom: 5px;
            }

            .tip p {
                font-size: 0.9rem;
            }
        }

        .hidden {
            display: none;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                max-width: 100%;
            }
            
            header, .controls, .btn, .history-section, .stats-container, .tip-container {
                display: none;
            }
            
            .input-section, .result-section {
                box-shadow: none;
                border: 1px solid #ddd;
                page-break-inside: avoid;
            }
            
            .route-step {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-bicycle"></i> Bike Route Planner</h1>
        </header>

        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-value" id="total-routes">0</div>
                <div class="stat-label">Routes Planned</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="total-distance">0</div>
                <div class="stat-label">Total Distance (km)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="avg-distance">0</div>
                <div class="stat-label">Avg Distance (km)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="eco-savings">0</div>
                <div class="stat-label">CO2 Saved (kg)</div>
            </div>
        </div>

        <div class="tip-container">
            <h3><i class="fas fa-lightbulb"></i> Cycling Tips</h3>
            <div class="tips">
                <div class="tip">
                    <h4>Plan Safe Routes</h4>
                    <p>Choose bike lanes and paths whenever possible for a safer cycling experience.</p>
                </div>
                <div class="tip">
                    <h4>Check Weather</h4>
                    <p>Plan your route according to weather conditions and dress appropriately.</p>
                </div>
                <div class="tip">
                    <h4>Stay Hydrated</h4>
                    <p>Bring water, especially for longer rides, and take breaks as needed.</p>
                </div>
            </div>
        </div>

        <div class="planner-container">
            <div class="input-section">
                <h2><i class="fas fa-route"></i> Route Details</h2>
                <div class="form-group">
                    <label for="start-location">Start Location:</label>
                    <input type="text" id="start-location" placeholder="e.g., Home, Work, Park" list="popular-locations">
                </div>
                <div class="form-group">
                    <label for="end-location">Destination:</label>
                    <input type="text" id="end-location" placeholder="e.g., Office, School, Shopping Center" list="popular-locations">
                </div>
                <div class="form-group">
                    <label for="route-type">Route Type:</label>
                    <select id="route-type">
                        <option value="fastest">Fastest Route</option>
                        <option value="safest">Safest Route</option>
                        <option value="scenic">Scenic Route</option>
                        <option value="eco">Eco-Friendly</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="distance">Approximate Distance (km):</label>
                    <input type="number" id="distance" min="0.1" step="0.1" value="5" placeholder="Distance in kilometers">
                </div>
                <div class="form-group">
                    <label for="terrain">Terrain Type:</label>
                    <select id="terrain">
                        <option value="flat">Flat</option>
                        <option value="rolling">Rolling Hills</option>
                        <option value="hilly">Hilly</option>
                        <option value="mountain">Mountainous</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="bike-type">Bike Type:</label>
                    <select id="bike-type">
                        <option value="road">Road Bike</option>
                        <option value="hybrid">Hybrid Bike</option>
                        <option value="mountain">Mountain Bike</option>
                        <option value="city">City/Commuter Bike</option>
                        <option value="electric">Electric Bike</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="difficulty">Difficulty Level:</label>
                    <select id="difficulty">
                        <option value="easy">Easy (Leisurely)</option>
                        <option value="moderate">Moderate</option>
                        <option value="challenging">Challenging</option>
                        <option value="difficult">Difficult</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="notes">Route Notes:</label>
                    <textarea id="notes" rows="3" placeholder="Any special instructions or points of interest"></textarea>
                </div>
                <button class="btn-plan" id="plan-btn">
                    <i class="fas fa-bicycle"></i> Plan Route
                </button>
            </div>

            <div class="result-section">
                <h2><i class="fas fa-map-marked-alt"></i> Your Route</h2>
                <div class="map-container" id="map-container">
                    <div>Bike Route Map Visualization</div>
                </div>
                <div class="route-summary">
                    <div class="summary-item">
                        <div class="summary-value" id="total-distance-display">0.0</div>
                        <div class="summary-label">Distance (km)</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="estimated-time">0</div>
                        <div class="summary-label">Time (min)</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="calories">0</div>
                        <div class="summary-label">Calories</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value" id="eco-impact">0</div>
                        <div class="summary-label">CO2 Saved (kg)</div>
                    </div>
                </div>
                <div class="route-display" id="route-display">
                    <p>Enter start and end locations to plan your bike route</p>
                </div>
                <div class="savings-tip" id="savings-tip">
                    <strong>Eco Tip:</strong> Cycling just 10km instead of driving saves approximately 2.4kg of CO2 emissions.
                </div>
            </div>
        </div>

        <div class="controls">
            <h3><i class="fas fa-tools"></i> Route Tools</h3>
            <div class="btn-group">
                <button class="btn btn-save" id="save-btn">
                    <i class="fas fa-save"></i> Save Route
                </button>
                <button class="btn btn-print" id="print-btn">
                    <i class="fas fa-print"></i> Print Route
                </button>
                <button class="btn" id="reset-btn">
                    <i class="fas fa-redo"></i> Reset Form
                </button>
                <button class="btn btn-clear" id="clear-btn">
                    <i class="fas fa-trash-alt"></i> Clear All Data
                </button>
            </div>
        </div>

        <div class="history-section">
            <h2><i class="fas fa-history"></i> Route History</h2>
            <div class="history-list" id="history-list">
                <div class="history-item">
                    <span>No routes planned yet</span>
                </div>
            </div>
        </div>
    </div>

    <datalist id="popular-locations">
        <option value="Home">
        <option value="Work">
        <option value="School">
        <option value="Park">
        <option value="Shopping Center">
        <option value="Gym">
        <option value="Library">
        <option value="Cafe">
        <option value="Hospital">
        <option value="Airport">
    </datalist>

    <script>
        // DOM elements
        const startLocation = document.getElementById('start-location');
        const endLocation = document.getElementById('end-location');
        const routeType = document.getElementById('route-type');
        const distance = document.getElementById('distance');
        const terrain = document.getElementById('terrain');
        const bikeType = document.getElementById('bike-type');
        const difficulty = document.getElementById('difficulty');
        const notes = document.getElementById('notes');
        const planBtn = document.getElementById('plan-btn');
        const saveBtn = document.getElementById('save-btn');
        const resetBtn = document.getElementById('reset-btn');
        const clearBtn = document.getElementById('clear-btn');
        const printBtn = document.getElementById('print-btn');
        const historyList = document.getElementById('history-list');
        const routeDisplay = document.getElementById('route-display');
        const mapContainer = document.getElementById('map-container');
        
        // Summary elements
        const totalDistanceDisplay = document.getElementById('total-distance-display');
        const estimatedTime = document.getElementById('estimated-time');
        const calories = document.getElementById('calories');
        const ecoImpact = document.getElementById('eco-impact');
        
        // Stats elements
        const totalRoutes = document.getElementById('total-routes');
        const totalDistanceStat = document.getElementById('total-distance');
        const avgDistance = document.getElementById('avg-distance');
        const ecoSavings = document.getElementById('eco-savings');

        // Speed multipliers based on bike type and terrain
        const speedMultipliers = {
            'road': {'flat': 1.0, 'rolling': 0.85, 'hilly': 0.7, 'mountain': 0.5},
            'hybrid': {'flat': 0.9, 'rolling': 0.75, 'hilly': 0.6, 'mountain': 0.4},
            'mountain': {'flat': 0.7, 'rolling': 0.6, 'hilly': 0.5, 'mountain': 0.35},
            'city': {'flat': 0.8, 'rolling': 0.65, 'hilly': 0.5, 'mountain': 0.3},
            'electric': {'flat': 1.2, 'rolling': 1.0, 'hilly': 0.85, 'mountain': 0.7}
        };

        // Average speeds (km/h) for different terrains
        const baseSpeeds = {
            'flat': 20,
            'rolling': 17,
            'hilly': 14,
            'mountain': 10
        };

        // Calories burned per km (approximate)
        const caloriesPerKm = {
            'easy': 25,
            'moderate': 35,
            'challenging': 45,
            'difficult': 55
        };

        // Plan bike route
        function planBikeRoute() {
            // Get input values
            const start = startLocation.value.trim() || 'Start Point';
            const end = endLocation.value.trim() || 'Destination';
            const type = routeType.value;
            const dist = parseFloat(distance.value) || 5;
            const terr = terrain.value;
            const bike = bikeType.value;
            const diff = difficulty.value;
            const routeNotes = notes.value.trim();
            
            // Calculate estimated time
            const baseSpeed = baseSpeeds[terr] || 15;
            const speedMultiplier = speedMultipliers[bike][terr] || 1;
            const avgSpeed = baseSpeed * speedMultiplier;
            const timeInMinutes = Math.round((dist / avgSpeed) * 60);
            
            // Calculate calories burned
            const caloriesBurned = Math.round(dist * caloriesPerKm[diff]);
            
            // Calculate CO2 savings (approx. 0.24kg CO2 per km vs car)
            const co2Savings = (dist * 0.24).toFixed(1);
            
            // Update summary display
            totalDistanceDisplay.textContent = dist.toFixed(1);
            estimatedTime.textContent = timeInMinutes;
            calories.textContent = caloriesBurned;
            ecoImpact.textContent = co2Savings;
            
            // Generate route steps based on route type
            const routeSteps = generateRouteSteps(start, end, type, dist, terr);
            
            // Display route
            displayRoute(routeSteps, routeNotes);
            
            // Update savings tip
            updateSavingsTip(dist);
            
            // Save to history
            const routeData = {
                start: start,
                end: end,
                distance: dist,
                time: timeInMinutes,
                calories: caloriesBurned,
                co2: parseFloat(co2Savings),
                type: type,
                bike: bike,
                terrain: terr,
                difficulty: diff,
                notes: routeNotes,
                timestamp: new Date().toLocaleString()
            };
            
            saveRoute(routeData);
            updateHistoryDisplay();
            updateStats();
        }

        // Generate route steps
        function generateRouteSteps(start, end, type, distance, terrain) {
            const steps = [];
            const numSteps = Math.max(3, Math.floor(distance / 2));
            
            // Start point
            steps.push({
                instruction: `Start from ${start}`,
                distance: 0
            });
            
            // Intermediate steps
            for (let i = 1; i < numSteps; i++) {
                const stepDistance = (distance / numSteps * i).toFixed(1);
                let instruction = '';
                
                // Different instructions based on route type
                switch(type) {
                    case 'fastest':
                        instruction = `Continue straight for ${(distance / numSteps).toFixed(1)}km`;
                        break;
                    case 'safest':
                        instruction = `Take the bike lane on Main Street`;
                        break;
                    case 'scenic':
                        instruction = `Pass through Riverside Park (scenic route)`;
                        break;
                    case 'eco':
                        instruction = `Follow the green corridor path`;
                        break;
                    default:
                        instruction = `Continue on current path for ${(distance / numSteps).toFixed(1)}km`;
                }
                
                steps.push({
                    instruction: instruction,
                    distance: parseFloat(stepDistance)
                });
            }
            
            // End point
            steps.push({
                instruction: `Arrive at ${end}`,
                distance: distance
            });
            
            return steps;
        }

        // Display route
        function displayRoute(steps, notes) {
            let routeHTML = '';
            
            steps.forEach((step, index) => {
                routeHTML += `
                    <div class="route-step">
                        <div class="step-number">${index + 1}</div>
                        <div class="step-details">
                            <div class="step-instruction">${step.instruction}</div>
                            ${step.distance > 0 ? `<div class="step-distance">${step.distance.toFixed(1)} km from start</div>` : ''}
                        </div>
                    </div>
                `;
            });
            
            if (notes) {
                routeHTML += `
                    <div class="route-step">
                        <div class="step-number"><i class="fas fa-sticky-note"></i></div>
                        <div class="step-details">
                            <div class="step-instruction">Route Notes</div>
                            <div class="step-distance">${notes}</div>
                        </div>
                    </div>
                `;
            }
            
            routeDisplay.innerHTML = routeHTML;
        }

        // Update savings tip
        function updateSavingsTip(distance) {
            const co2Saved = (distance * 0.24).toFixed(1);
            const caloriesBurned = Math.round(distance * 35);
            document.getElementById('savings-tip').innerHTML = 
                `<strong>Eco Tip:</strong> This ${distance}km ride saves ${co2Saved}kg of CO2 and burns approximately ${caloriesBurned} calories!`;
        }

        // Save route to localStorage
        function saveRoute(data) {
            let history = JSON.parse(localStorage.getItem('bikeRoutes') || '[]');
            history.unshift(data);
            if (history.length > 20) history.pop(); // Keep only last 20
            localStorage.setItem('bikeRoutes', JSON.stringify(history));
        }

        // Update history display
        function updateHistoryDisplay() {
            const history = JSON.parse(localStorage.getItem('bikeRoutes') || '[]');
            
            if (history.length === 0) {
                historyList.innerHTML = '<div class="history-item"><span>No routes planned yet</span></div>';
                return;
            }

            historyList.innerHTML = history.map(item => `
                <div class="history-item">
                    <div>
                        <div class="history-route">${item.start} → ${item.end}</div>
                        <div class="history-details">${item.timestamp}</div>
                        <div class="history-details">${item.type} | ${item.bike} | ${item.distance}km</div>
                    </div>
                    <div class="history-distance">${item.distance}km</div>
                </div>
            `).join('');
        }

        // Update statistics
        function updateStats() {
            const history = JSON.parse(localStorage.getItem('bikeRoutes') || '[]');
            
            if (history.length === 0) {
                totalRoutes.textContent = '0';
                totalDistanceStat.textContent = '0';
                avgDistance.textContent = '0';
                ecoSavings.textContent = '0';
                return;
            }

            totalRoutes.textContent = history.length;
            
            const totalDist = history.reduce((sum, item) => sum + item.distance, 0);
            totalDistanceStat.textContent = totalDist.toFixed(1);
            
            const avgDist = totalDist / history.length;
            avgDistance.textContent = avgDist.toFixed(1);
            
            const totalCO2 = history.reduce((sum, item) => sum + item.co2, 0);
            ecoSavings.textContent = totalCO2.toFixed(1);
        }

        // Reset form
        function resetForm() {
            startLocation.value = '';
            endLocation.value = '';
            routeType.value = 'fastest';
            distance.value = '5';
            terrain.value = 'flat';
            bikeType.value = 'hybrid';
            difficulty.value = 'moderate';
            notes.value = '';
            
            // Reset display
            routeDisplay.innerHTML = '<p>Enter start and end locations to plan your bike route</p>';
            totalDistanceDisplay.textContent = '0.0';
            estimatedTime.textContent = '0';
            calories.textContent = '0';
            ecoImpact.textContent = '0';
            document.getElementById('savings-tip').innerHTML = 
                '<strong>Eco Tip:</strong> Cycling just 10km instead of driving saves approximately 2.4kg of CO2 emissions.';
        }

        // Clear all data
        function clearAllData() {
            if (confirm('Are you sure you want to clear all bike route data?')) {
                localStorage.removeItem('bikeRoutes');
                resetForm();
                updateHistoryDisplay();
                updateStats();
            }
        }

        // Print route
        function printRoute() {
            window.print();
        }

        // Event listeners
        planBtn.addEventListener('click', planBikeRoute);
        saveBtn.addEventListener('click', () => {
            if (parseFloat(totalDistanceDisplay.textContent) > 0) {
                alert('Current route saved to history!');
            } else {
                alert('Please plan a route first');
            }
        });
        resetBtn.addEventListener('click', resetForm);
        clearBtn.addEventListener('click', clearAllData);
        printBtn.addEventListener('click', printRoute);

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateHistoryDisplay();
            updateStats();
        });
    </script>
</body>
</html>
