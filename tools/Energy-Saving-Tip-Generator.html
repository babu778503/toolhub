<!DOCTYPE html>
<!-- Category: Sustainability -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Saving Tip Generator</title>
    <meta name="description" content="Generate energy saving tips with our interactive generator. Perfect for reducing energy consumption and lowering utility bills.">
    <meta name="keywords" content="energy saving tip generator, energy efficiency, sustainability, energy conservation, utility bill reduction, green living, eco-friendly tips, energy management">
    <meta name="author" content="Sustainability Tools">
    <meta name="robots" content="index, follow">
    <meta name="revisit-after" content="7 days">
    <meta property="og:title" content="Energy Saving Tip Generator">
    <meta property="og:description" content="Generate energy saving tips with our interactive generator. Perfect for reducing energy consumption and lowering utility bills.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://example.com/energy-saving-tip-generator">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --accent: #ff2d75;
            --dark: #121212;
            --light: #f5f5f5;
            --gray: #2a2a2a;
            --card-bg: rgba(30, 30, 40, 0.7);
            --tip-color: #00c9a7;
            --favorite-color: #ffcc00;
            --savings-color: #4a90e2;
            --impact-color: #ff416c;
        }

        body {
            background: linear-gradient(135deg, var(--dark), #1a1a2e);
            color: var(--light);
            min-height: 100vh;
            padding: 0;
            margin: 0;
            overflow-x: hidden;
        }

        /* Fixed header with tool name */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 50px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .container {
            max-width: 100%;
            margin: 0;
            padding: 0;
        }

        /* Main content */
        .content {
            background: var(--card-bg);
            border-radius: 0;
            padding: 20px 15px;
            margin-top: 50px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Tip visualization */
        .tip-visualization {
            position: relative;
            height: 300px;
            margin: 25px 0;
            border-radius: 10px;
            background: rgba(40, 40, 55, 0.5);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tip-card {
            position: absolute;
            width: 80%;
            height: 70%;
            background: rgba(50, 50, 65, 0.7);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .tip-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--tip-color);
        }

        .tip-content {
            font-size: 1.2rem;
            line-height: 1.6;
            color: #ddd;
            margin-bottom: 20px;
        }

        .tip-category {
            font-size: 0.9rem;
            color: var(--accent);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .tip-savings {
            position: absolute;
            bottom: 20px;
            right: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--savings-color);
        }

        .tip-impact {
            position: absolute;
            bottom: 20px;
            left: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--impact-color);
        }

        /* Controls */
        .controls {
            margin: 25px 0;
            padding: 15px;
            background: rgba(40, 40, 55, 0.5);
            border-radius: 10px;
        }

        .controls-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--accent);
            text-align: center;
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-label {
            display: block;
            margin-bottom: 8px;
            color: #bbb;
            font-size: 0.9rem;
        }

        .control-value {
            color: var(--accent);
            font-weight: 600;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        input[type="range"] {
            flex: 1;
            height: 8px;
            border-radius: 4px;
            background: var(--gray);
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: var(--accent);
            cursor: pointer;
            box-shadow: 0 0 8px rgba(255, 45, 117, 0.5);
        }

        /* Categories */
        .categories {
            margin: 25px 0;
            padding: 15px;
            background: rgba(40, 40, 55, 0.5);
            border-radius: 10px;
        }

        .categories-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--accent);
            text-align: center;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .category-item {
            background: rgba(50, 50, 65, 0.5);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .category-item:hover {
            background: rgba(60, 60, 80, 0.7);
        }

        .category-item.active {
            background: rgba(0, 201, 167, 0.3);
            border: 1px solid var(--tip-color);
        }

        .category-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--tip-color);
        }

        .category-name {
            font-weight: 600;
            color: var(--tip-color);
        }

        /* Tips list */
        .tips-list {
            margin: 25px 0;
            padding: 15px;
            background: rgba(40, 40, 55, 0.5);
            border-radius: 10px;
        }

        .tips-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--accent);
            text-align: center;
        }

        .tip-item {
            padding: 15px;
            margin-bottom: 15px;
            background: rgba(50, 50, 65, 0.5);
            border-radius: 8px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }

        .tip-item:hover {
            background: rgba(60, 60, 80, 0.7);
        }

        .tip-item.favorite {
            border-left: 4px solid var(--favorite-color);
        }

        .tip-info {
            flex: 1;
        }

        .tip-text {
            font-size: 1rem;
            color: #ddd;
            margin-bottom: 8px;
        }

        .tip-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #aaa;
        }

        .tip-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 5px 10px;
            border-radius: 5px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .action-btn:hover {
            background: var(--accent);
        }

        .favorite-btn {
            background: rgba(255, 204, 0, 0.2);
        }

        .share-btn {
            background: rgba(0, 201, 167, 0.2);
        }

        /* Stats */
        .stats {
            margin: 25px 0;
            padding: 15px;
            background: rgba(40, 40, 55, 0.5);
            border-radius: 10px;
        }

        .stats-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: var(--accent);
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .stat-card {
            background: rgba(50, 50, 65, 0.5);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #aaa;
        }

        .tip-count {
            color: var(--tip-color);
        }

        .favorite-count {
            color: var(--favorite-color);
        }

        .savings-estimate {
            color: var(--savings-color);
        }

        /* Buttons */
        .buttons {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        button {
            padding: 14px 20px;
            border: none;
            border-radius: 50px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            font-size: 1rem;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        button:active {
            transform: translateY(1px);
        }

        .generate-btn {
            background: linear-gradient(to right, #00b09b, #96c93d);
        }

        .clear-btn {
            background: linear-gradient(to right, #4b6cb7, #182848);
        }

        .export-btn {
            background: linear-gradient(to right, #ff9a00, #ff6a00);
        }

        /* Mobile-specific adjustments */
        @media (max-width: 480px) {
            .header {
                height: 50px;
            }
            
            .content {
                padding: 15px 10px;
                margin-top: 50px;
            }
            
            .tip-visualization {
                height: 250px;
            }
            
            .tip-card {
                width: 90%;
                height: 80%;
                padding: 15px;
            }
            
            .tip-content {
                font-size: 1rem;
            }
            
            .category-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .tip-item {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .tip-actions {
                margin-top: 10px;
                width: 100%;
                justify-content: flex-end;
            }
            
            .buttons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Fixed header with tool name -->
    <div class="header">
        <h1>Energy Saving Tip Generator</h1>
    </div>

    <div class="container">
        <div class="content">
            <div class="tip-visualization" id="tip-visualization">
                <div class="tip-card" id="tip-card">
                    <div class="tip-icon" id="tip-icon">üí°</div>
                    <div class="tip-content" id="tip-content">Click "Generate Tip" to get your first energy saving suggestion!</div>
                    <div class="tip-category" id="tip-category">General</div>
                    <div class="tip-savings" id="tip-savings">$0/month</div>
                    <div class="tip-impact" id="tip-impact">0%</div>
                </div>
            </div>
            
            <div class="controls">
                <div class="controls-title">Tip Settings</div>
                <div class="control-group">
                    <div class="control-label">Difficulty Level</div>
                    <div class="slider-container">
                        <input type="range" id="difficulty" min="1" max="5" value="3">
                        <span class="control-value" id="difficulty-value">3</span>
                    </div>
                </div>
                
                <div class="control-group">
                    <div class="control-label">Impact Level</div>
                    <div class="slider-container">
                        <input type="range" id="impact" min="1" max="5" value="3">
                        <span class="control-value" id="impact-value">3</span>
                    </div>
                </div>
                
                <div class="control-group">
                    <div class="control-label">Savings Potential</div>
                    <div class="slider-container">
                        <input type="range" id="savings" min="1" max="5" value="3">
                        <span class="control-value" id="savings-value">3</span>
                    </div>
                </div>
            </div>
            
            <div class="categories">
                <div class="categories-title">Tip Categories</div>
                <div class="category-grid" id="category-grid">
                    <!-- Categories will be generated here -->
                </div>
            </div>
            
            <div class="tips-list">
                <div class="tips-title">Generated Tips</div>
                <div id="tips-list">
                    <!-- Tips will be added here -->
                </div>
            </div>
            
            <div class="stats">
                <div class="stats-title">Energy Savings Stats</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Tips Generated</div>
                        <div class="stat-value tip-count" id="tip-count">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Favorites</div>
                        <div class="stat-value favorite-count" id="favorite-count">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Estimated Savings</div>
                        <div class="stat-value savings-estimate" id="savings-estimate">$0/month</div>
                    </div>
                </div>
            </div>
            
            <div class="buttons">
                <button id="generate-btn" class="generate-btn">Generate Tip</button>
                <button id="clear-btn" class="clear-btn">Clear Data</button>
                <button id="export-btn" class="export-btn">Export Tips</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // State management
            const state = {
                difficulty: 3,
                impact: 3,
                savings: 3,
                categories: [
                    { id: 'general', name: 'General', icon: 'üí°', active: true },
                    { id: 'lighting', name: 'Lighting', icon: 'üí°', active: false },
                    { id: 'heating', name: 'Heating', icon: 'üî•', active: false },
                    { id: 'cooling', name: 'Cooling', icon: '‚ùÑÔ∏è', active: false },
                    { id: 'appliances', name: 'Appliances', icon: 'üîå', active: false },
                    { id: 'electronics', name: 'Electronics', icon: 'üì±', active: false },
                    { id: 'water', name: 'Water Heating', icon: 'üíß', active: false },
                    { id: 'transport', name: 'Transportation', icon: 'üöó', active: false }
                ],
                tips: [],
                tipCount: 0,
                favoriteCount: 0,
                savingsEstimate: 0
            };
            
            // DOM elements
            const tipVisualization = document.getElementById('tip-visualization');
            const tipCard = document.getElementById('tip-card');
            const tipIcon = document.getElementById('tip-icon');
            const tipContent = document.getElementById('tip-content');
            const tipCategory = document.getElementById('tip-category');
            const tipSavings = document.getElementById('tip-savings');
            const tipImpact = document.getElementById('tip-impact');
            const difficultySlider = document.getElementById('difficulty');
            const impactSlider = document.getElementById('impact');
            const savingsSlider = document.getElementById('savings');
            const difficultyValue = document.getElementById('difficulty-value');
            const impactValue = document.getElementById('impact-value');
            const savingsValue = document.getElementById('savings-value');
            const categoryGrid = document.getElementById('category-grid');
            const tipsList = document.getElementById('tips-list');
            const tipCount = document.getElementById('tip-count');
            const favoriteCount = document.getElementById('favorite-count');
            const savingsEstimate = document.getElementById('savings-estimate');
            const generateBtn = document.getElementById('generate-btn');
            const clearBtn = document.getElementById('clear-btn');
            const exportBtn = document.getElementById('export-btn');
            
            // Initialize from saved data
            function loadState() {
                const savedState = localStorage.getItem('energySavingTipGeneratorState');
                if (savedState) {
                    const parsed = JSON.parse(savedState);
                    state.difficulty = parsed.difficulty || 3;
                    state.impact = parsed.impact || 3;
                    state.savings = parsed.savings || 3;
                    state.categories = parsed.categories || state.categories;
                    state.tips = parsed.tips || [];
                    state.tipCount = parsed.tipCount || 0;
                    state.favoriteCount = parsed.favoriteCount || 0;
                    state.savingsEstimate = parsed.savingsEstimate || 0;
                    
                    // Update UI
                    difficultySlider.value = state.difficulty;
                    impactSlider.value = state.impact;
                    savingsSlider.value = state.savings;
                    difficultyValue.textContent = state.difficulty;
                    impactValue.textContent = state.impact;
                    savingsValue.textContent = state.savings;
                    tipCount.textContent = state.tipCount;
                    favoriteCount.textContent = state.favoriteCount;
                    savingsEstimate.textContent = `$${state.savingsEstimate}/month`;
                    
                    renderCategories();
                    renderTips();
                    updateStats();
                }
            }
            
            // Save state to localStorage
            function saveState() {
                localStorage.setItem('energySavingTipGeneratorState', JSON.stringify({
                    difficulty: state.difficulty,
                    impact: state.impact,
                    savings: state.savings,
                    categories: state.categories,
                    tips: state.tips,
                    tipCount: state.tipCount,
                    favoriteCount: state.favoriteCount,
                    savingsEstimate: state.savingsEstimate
                }));
            }
            
            // Tip database
            const tipDatabase = [
                { id: 1, text: "Switch to LED bulbs - they use 75% less energy than incandescent bulbs", category: "lighting", icon: "üí°", savings: 75, impact: 4, difficulty: 1 },
                { id: 2, text: "Unplug electronics when not in use to avoid phantom energy drain", category: "electronics", icon: "üîå", savings: 100, impact: 3, difficulty: 1 },
                { id: 3, text: "Set your thermostat to 68¬∞F in winter and 78¬∞F in summer", category: "heating", icon: "üî•", savings: 180, impact: 5, difficulty: 2 },
                { id: 4, text: "Use a programmable thermostat to automatically adjust temperature when you're away", category: "heating", icon: "üå°Ô∏è", savings: 180, impact: 4, difficulty: 3 },
                { id: 5, text: "Seal air leaks around windows and doors with caulk or weatherstripping", category: "general", icon: "üö™", savings: 135, impact: 4, difficulty: 2 },
                { id: 6, text: "Install a low-flow showerhead to reduce water heating costs", category: "water", icon: "üöø", savings: 145, impact: 3, difficulty: 2 },
                { id: 7, text: "Wash clothes in cold water - 90% of energy used goes to heating water", category: "appliances", icon: "üëï", savings: 60, impact: 3, difficulty: 1 },
                { id: 8, text: "Use ceiling fans to circulate air and reduce reliance on air conditioning", category: "cooling", icon: "üåÄ", savings: 40, impact: 2, difficulty: 2 },
                { id: 9, text: "Replace old appliances with ENERGY STAR certified models", category: "appliances", icon: "üîß", savings: 300, impact: 5, difficulty: 4 },
                { id: 10, text: "Insulate your water heater with a blanket to reduce heat loss", category: "water", icon: "üíß", savings: 45, impact: 3, difficulty: 2 },
                { id: 11, text: "Use power strips to easily turn off multiple devices at once", category: "electronics", icon: "üîå", savings: 100, impact: 3, difficulty: 1 },
                { id: 12, text: "Plant shade trees around your home to naturally cool in summer", category: "general", icon: "üå≥", savings: 200, impact: 4, difficulty: 3 },
                { id: 13, text: "Close vents and doors in unused rooms to reduce heating/cooling needs", category: "heating", icon: "üö™", savings: 120, impact: 3, difficulty: 1 },
                { id: 14, text: "Regularly clean or replace HVAC filters to improve efficiency", category: "cooling", icon: "üßπ", savings: 75, impact: 3, difficulty: 2 },
                { id: 15, text: "Use a microwave or toaster oven instead of a full-sized oven for small meals", category: "appliances", icon: "üçΩÔ∏è", savings: 30, impact: 2, difficulty: 1 }
            ];
            
            // Render categories
            function renderCategories() {
                categoryGrid.innerHTML = '';
                
                state.categories.forEach(category => {
                    const item = document.createElement('div');
                    item.className = `category-item ${category.active ? 'active' : ''}`;
                    item.dataset.id = category.id;
                    
                    item.innerHTML = `
                        <div class="category-icon">${category.icon}</div>
                        <div class="category-name">${category.name}</div>
                    `;
                    
                    categoryGrid.appendChild(item);
                    
                    // Add click event
                    item.addEventListener('click', () => {
                        state.categories.forEach(cat => cat.active = false);
                        category.active = true;
                        renderCategories();
                        saveState();
                    });
                });
            }
            
            // Generate a new tip
            function generateTip() {
                // Filter tips based on active categories
                const activeCategories = state.categories.filter(cat => cat.active).map(cat => cat.id);
                const filteredTips = tipDatabase.filter(tip => 
                    activeCategories.includes(tip.category) &&
                    tip.difficulty <= state.difficulty &&
                    tip.impact <= state.impact &&
                    tip.savings <= state.savings * 50
                );
                
                // If no tips match criteria, use all tips
                const tipsToUse = filteredTips.length > 0 ? filteredTips : tipDatabase;
                
                // Select a random tip
                const randomIndex = Math.floor(Math.random() * tipsToUse.length);
                const tip = tipsToUse[randomIndex];
                
                // Update visualization
                tipIcon.textContent = tip.icon;
                tipContent.textContent = tip.text;
                tipCategory.textContent = tip.category.charAt(0).toUpperCase() + tip.category.slice(1);
                tipSavings.textContent = `$${tip.savings}/year`;
                tipImpact.textContent = `${tip.impact * 20}%`;
                
                // Add to tips list
                const tipItem = {
                    id: Date.now(),
                    text: tip.text,
                    category: tip.category,
                    icon: tip.icon,
                    savings: tip.savings,
                    impact: tip.impact,
                    difficulty: tip.difficulty,
                    favorite: false,
                    timestamp: new Date().toISOString()
                };
                
                state.tips.unshift(tipItem);
                state.tipCount++;
                
                // Update stats
                updateStats();
                renderTips();
                saveState();
            }
            
            // Render tips list
            function renderTips() {
                tipsList.innerHTML = '';
                
                if (state.tips.length === 0) {
                    const emptyItem = document.createElement('div');
                    emptyItem.className = 'tip-item';
                    emptyItem.innerHTML = '<div style="text-align: center; width: 100%;">No tips generated yet</div>';
                    tipsList.appendChild(emptyItem);
                    return;
                }
                
                state.tips.forEach(tip => {
                    const item = document.createElement('div');
                    item.className = `tip-item ${tip.favorite ? 'favorite' : ''}`;
                    item.dataset.id = tip.id;
                    
                    item.innerHTML = `
                        <div class="tip-info">
                            <div class="tip-text">${tip.text}</div>
                            <div class="tip-meta">
                                <div>${tip.category.charAt(0).toUpperCase() + tip.category.slice(1)}</div>
                                <div>$${tip.savings}/year | Impact: ${tip.impact * 20}%</div>
                            </div>
                        </div>
                        <div class="tip-actions">
                            <button class="action-btn favorite-btn" data-id="${tip.id}">${tip.favorite ? '‚òÖ' : '‚òÜ'}</button>
                            <button class="action-btn share-btn" data-id="${tip.id}">Share</button>
                        </div>
                    `;
                    
                    tipsList.appendChild(item);
                });
                
                // Add event listeners to action buttons
                document.querySelectorAll('.favorite-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const id = parseInt(e.target.dataset.id);
                        const tip = state.tips.find(t => t.id === id);
                        if (tip) {
                            tip.favorite = !tip.favorite;
                            renderTips();
                            updateStats();
                            saveState();
                        }
                    });
                });
                
                document.querySelectorAll('.share-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const id = parseInt(e.target.dataset.id);
                        const tip = state.tips.find(t => t.id === id);
                        if (tip) {
                            alert(`Sharing tip: ${tip.text}`);
                            // In a real app, this would open sharing options
                        }
                    });
                });
            }
            
            // Update statistics
            function updateStats() {
                tipCount.textContent = state.tipCount;
                
                state.favoriteCount = state.tips.filter(tip => tip.favorite).length;
                favoriteCount.textContent = state.favoriteCount;
                
                state.savingsEstimate = state.tips.reduce((total, tip) => total + (tip.favorite ? tip.savings : 0), 0);
                savingsEstimate.textContent = `$${state.savingsEstimate}/year`;
            }
            
            // Export tips
            function exportTips() {
                if (state.tips.length === 0) {
                    alert('No tips to export');
                    return;
                }
                
                let csv = 'Tip,Category,Savings ($/year),Impact (%),Favorite\n';
                
                state.tips.forEach(tip => {
                    csv += `"${tip.text}","${tip.category}","${tip.savings}","${tip.impact * 20}","${tip.favorite ? 'Yes' : 'No'}"\n`;
                });
                
                // Create download link
                const blob = new Blob([csv], { type: 'text/csv' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'energy-saving-tips.csv';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                alert('Tips exported successfully!');
            }
            
            // Event listeners
            difficultySlider.addEventListener('input', () => {
                state.difficulty = parseInt(difficultySlider.value);
                difficultyValue.textContent = state.difficulty;
                saveState();
            });
            
            impactSlider.addEventListener('input', () => {
                state.impact = parseInt(impactSlider.value);
                impactValue.textContent = state.impact;
                saveState();
            });
            
            savingsSlider.addEventListener('input', () => {
                state.savings = parseInt(savingsSlider.value);
                savingsValue.textContent = state.savings;
                saveState();
            });
            
            generateBtn.addEventListener('click', generateTip);
            
            clearBtn.addEventListener('click', () => {
                if (confirm('Are you sure you want to clear all data?')) {
                    localStorage.removeItem('energySavingTipGeneratorState');
                    
                    // Reset to defaults
                    state.difficulty = 3;
                    state.impact = 3;
                    state.savings = 3;
                    state.categories = [
                        { id: 'general', name: 'General', icon: 'üí°', active: true },
                        { id: 'lighting', name: 'Lighting', icon: 'üí°', active: false },
                        { id: 'heating', name: 'Heating', icon: 'üî•', active: false },
                        { id: 'cooling', name: 'Cooling', icon: '‚ùÑÔ∏è', active: false },
                        { id: 'appliances', name: 'Appliances', icon: 'üîå', active: false },
                        { id: 'electronics', name: 'Electronics', icon: 'üì±', active: false },
                        { id: 'water', name: 'Water Heating', icon: 'üíß', active: false },
                        { id: 'transport', name: 'Transportation', icon: 'üöó', active: false }
                    ];
                    state.tips = [];
                    state.tipCount = 0;
                    state.favoriteCount = 0;
                    state.savingsEstimate = 0;
                    
                    // Update UI
                    difficultySlider.value = state.difficulty;
                    impactSlider.value = state.impact;
                    savingsSlider.value = state.savings;
                    difficultyValue.textContent = state.difficulty;
                    impactValue.textContent = state.impact;
                    savingsValue.textContent = state.savings;
                    tipCount.textContent = state.tipCount;
                    favoriteCount.textContent = state.favoriteCount;
                    savingsEstimate.textContent = `$${state.savingsEstimate}/year`;
                    
                    renderCategories();
                    renderTips();
                    updateStats();
                    saveState();
                }
            });
            
            exportBtn.addEventListener('click', exportTips);
            
            // Initialize the app
            loadState();
            renderCategories();
            renderTips();
            updateStats();
        });
    </script>
</body>
</html>