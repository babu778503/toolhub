<!DOCTYPE html>
<!-- Category: Health & Fitness -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hydration Reminder</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            color: white;
            min-height: 100vh;
            padding-top: 50px;
        }

        /* Desktop Styles */
        .desktop-view {
            display: block;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .mobile-view {
            display: none;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(to right, #4CAF50, #8BC34A, #03DAC6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .settings-section {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .tracking-section {
            flex: 2;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        h2 {
            margin-bottom: 20px;
            font-size: 1.8rem;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h2 i {
            color: #8BC34A;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: none;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            font-size: 1rem;
        }

        input:focus, select:focus {
            outline: 2px solid #4CAF50;
            background: rgba(255, 255, 255, 0.25);
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        button {
            background: linear-gradient(to right, #4CAF50, #8BC34A);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: linear-gradient(to right, #2196F3, #03DAC6);
        }

        .btn-danger {
            background: linear-gradient(to right, #f44336, #e91e63);
        }

        .btn-warning {
            background: linear-gradient(to right, #FF9800, #FF5722);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, #4CAF50, #8BC34A);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #8BC34A;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .stat-icon {
            font-size: 2rem;
            color: #8BC34A;
        }

        .progress-container {
            margin: 30px 0;
        }

        .progress-bar {
            height: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #4CAF50, #8BC34A);
            border-radius: 12px;
            transition: width 0.5s ease;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
        }

        .water-log {
            margin-top: 30px;
        }

        .water-log-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .water-entry {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: transform 0.3s;
        }

        .water-entry:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.15);
        }

        .water-amount {
            font-size: 1.5rem;
            font-weight: bold;
            color: #03DAC6;
            margin: 10px 0;
        }

        .water-time {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(76, 175, 80, 0.9);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transform: translateX(200%);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: rgba(244, 67, 54, 0.9);
        }

        .reminder-settings {
            margin-top: 30px;
        }

        .reminder-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .reminder-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .reminder-icon {
            font-size: 2rem;
            color: #8BC34A;
        }

        .reminder-content h4 {
            margin-bottom: 5px;
        }

        .reminder-content p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #4CAF50;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .history-section {
            margin-top: 30px;
        }

        .history-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .history-date {
            font-weight: 500;
        }

        .history-amount {
            color: #8BC34A;
            font-weight: bold;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            body {
                padding-top: 0;
            }

            .desktop-view {
                display: none;
            }

            .mobile-view {
                display: block;
                padding: 15px;
            }

            h1 {
                font-size: 2rem;
                text-align: center;
                margin-bottom: 20px;
                height: 50px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .mobile-card {
                background: rgba(255, 255, 255, 0.1);
                backdrop-filter: blur(10px);
                border-radius: 15px;
                padding: 20px;
                margin-bottom: 20px;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            }

            .form-group {
                margin-bottom: 15px;
            }

            input, select {
                padding: 10px;
            }

            .btn-group {
                flex-direction: column;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .water-log-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .reminder-grid {
                grid-template-columns: 1fr;
            }

            .history-list {
                max-height: 250px;
            }
        }

        @media (max-width: 480px) {
            .btn-group {
                gap: 10px;
            }

            .water-log-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Desktop View -->
    <div class="desktop-view">
        <header>
            <h1><i class="fas fa-glass-water"></i> Hydration Reminder</h1>
            <p class="subtitle">Stay hydrated and track your water intake</p>
        </header>

        <div class="container">
            <section class="settings-section">
                <h2><i class="fas fa-cog"></i> Hydration Settings</h2>
                
                <div class="form-group">
                    <label for="dailyGoal">Daily Water Goal (ml)</label>
                    <input type="number" id="dailyGoal" placeholder="Enter daily goal" value="2000" min="500" max="5000">
                </div>
                
                <div class="form-group">
                    <label for="glassSize">Glass Size (ml)</label>
                    <select id="glassSize">
                        <option value="100">100 ml (Small Glass)</option>
                        <option value="250" selected>250 ml (Standard Glass)</option>
                        <option value="500">500 ml (Large Glass)</option>
                        <option value="750">750 ml (Bottle)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="reminderInterval">Reminder Interval (minutes)</label>
                    <input type="number" id="reminderInterval" placeholder="Enter interval" value="30" min="15" max="120">
                </div>
                
                <div class="form-group">
                    <label for="weight">Weight (kg) - For personalized goal</label>
                    <input type="number" id="weight" placeholder="Enter your weight" min="30" max="200">
                </div>
                
                <div class="btn-group">
                    <button id="saveSettingsBtn">
                        <i class="fas fa-save"></i> Save Settings
                    </button>
                    <button class="btn-secondary" id="resetBtn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
                
                <div class="reminder-settings">
                    <h2><i class="fas fa-bell"></i> Reminder Settings</h2>
                    
                    <div class="reminder-grid">
                        <div class="reminder-card">
                            <div class="reminder-icon">
                                <i class="fas fa-desktop"></i>
                            </div>
                            <div class="reminder-content">
                                <h4>Browser Notifications</h4>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="browserNotifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="reminder-card">
                            <div class="reminder-icon">
                                <i class="fas fa-sound"></i>
                            </div>
                            <div class="reminder-content">
                                <h4>Sound Alerts</h4>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="soundAlerts" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="reminder-card">
                            <div class="reminder-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="reminder-content">
                                <h4>Auto Start</h4>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="autoStart" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="tracking-section">
                <h2><i class="fas fa-tint"></i> Hydration Tracker</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-glass-water"></i>
                        </div>
                        <div class="stat-value" id="currentIntake">0</div>
                        <div class="stat-label">Current Intake (ml)</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <div class="stat-value" id="dailyGoalDisplay">2000</div>
                        <div class="stat-label">Daily Goal (ml)</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-percent"></i>
                        </div>
                        <div class="stat-value" id="progressPercent">0%</div>
                        <div class="stat-label">Progress</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-glass-whiskey"></i>
                        </div>
                        <div class="stat-value" id="glassesCount">0</div>
                        <div class="stat-label">Glasses</div>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                    <div class="progress-text">
                        <span id="progressText">0 ml</span>
                        <span id="goalText">Goal: 2000 ml</span>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button id="addWaterBtn">
                        <i class="fas fa-plus"></i> Add Water
                    </button>
                    <button class="btn-warning" id="customWaterBtn">
                        <i class="fas fa-edit"></i> Custom Amount
                    </button>
                    <button class="btn-danger" id="resetDayBtn">
                        <i class="fas fa-trash"></i> Reset Day
                    </button>
                </div>
                
                <div class="water-log">
                    <h2><i class="fas fa-history"></i> Water Log</h2>
                    
                    <div class="water-log-grid" id="waterLog">
                        <!-- Water entries will be added here -->
                    </div>
                </div>
                
                <div class="history-section">
                    <h2><i class="fas fa-calendar-alt"></i> Hydration History</h2>
                    
                    <div class="history-list" id="historyList">
                        <!-- History items will be added here -->
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Mobile View -->
    <div class="mobile-view">
        <h1>Hydration Reminder</h1>
        
        <div class="mobile-card">
            <h2><i class="fas fa-cog"></i> Settings</h2>
            
            <div class="form-group">
                <label for="dailyGoalMobile">Daily Goal (ml)</label>
                <input type="number" id="dailyGoalMobile" placeholder="Enter daily goal" value="2000" min="500" max="5000">
            </div>
            
            <div class="form-group">
                <label for="glassSizeMobile">Glass Size (ml)</label>
                <select id="glassSizeMobile">
                    <option value="100">100 ml (Small Glass)</option>
                    <option value="250" selected>250 ml (Standard Glass)</option>
                    <option value="500">500 ml (Large Glass)</option>
                    <option value="750">750 ml (Bottle)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="reminderIntervalMobile">Reminder Interval (minutes)</label>
                <input type="number" id="reminderIntervalMobile" placeholder="Enter interval" value="30" min="15" max="120">
            </div>
            
            <div class="btn-group">
                <button id="saveSettingsBtnMobile">
                    <i class="fas fa-save"></i> Save Settings
                </button>
                <button class="btn-secondary" id="resetBtnMobile">
                    <i class="fas fa-redo"></i> Reset
                </button>
            </div>
        </div>
        
        <div class="mobile-card">
            <h2><i class="fas fa-tint"></i> Hydration Tracker</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-glass-water"></i>
                    </div>
                    <div class="stat-value" id="currentIntakeMobile">0</div>
                    <div class="stat-label">Intake (ml)</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <div class="stat-value" id="dailyGoalDisplayMobile">2000</div>
                    <div class="stat-label">Goal (ml)</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-percent"></i>
                    </div>
                    <div class="stat-value" id="progressPercentMobile">0%</div>
                    <div class="stat-label">Progress</div>
                </div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFillMobile" style="width: 0%"></div>
                </div>
                <div class="progress-text">
                    <span id="progressTextMobile">0 ml</span>
                    <span id="goalTextMobile">Goal: 2000 ml</span>
                </div>
            </div>
            
            <div class="btn-group">
                <button id="addWaterBtnMobile">
                    <i class="fas fa-plus"></i> Add Water
                </button>
                <button class="btn-warning" id="customWaterBtnMobile">
                    <i class="fas fa-edit"></i> Custom
                </button>
            </div>
        </div>
        
        <div class="mobile-card">
            <h2><i class="fas fa-history"></i> Water Log</h2>
            
            <div class="water-log-grid" id="waterLogMobile">
                <!-- Water entries will be added here -->
            </div>
        </div>
        
        <div class="mobile-card">
            <h2><i class="fas fa-bell"></i> Reminders</h2>
            
            <div class="reminder-grid">
                <div class="reminder-card">
                    <div class="reminder-content">
                        <h4>Notifications</h4>
                        <label class="toggle-switch">
                            <input type="checkbox" id="browserNotificationsMobile" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="reminder-card">
                    <div class="reminder-content">
                        <h4>Sound Alerts</h4>
                        <label class="toggle-switch">
                            <input type="checkbox" id="soundAlertsMobile" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="notification" id="notification">
        Remember to drink water!
    </div>

    <script>
        // DOM Elements
        const dailyGoal = document.getElementById('dailyGoal');
        const dailyGoalMobile = document.getElementById('dailyGoalMobile');
        const glassSize = document.getElementById('glassSize');
        const glassSizeMobile = document.getElementById('glassSizeMobile');
        const reminderInterval = document.getElementById('reminderInterval');
        const reminderIntervalMobile = document.getElementById('reminderIntervalMobile');
        const weight = document.getElementById('weight');
        const saveSettingsBtn = document.getElementById('saveSettingsBtn');
        const saveSettingsBtnMobile = document.getElementById('saveSettingsBtnMobile');
        const resetBtn = document.getElementById('resetBtn');
        const resetBtnMobile = document.getElementById('resetBtnMobile');
        const addWaterBtn = document.getElementById('addWaterBtn');
        const addWaterBtnMobile = document.getElementById('addWaterBtnMobile');
        const customWaterBtn = document.getElementById('customWaterBtn');
        const customWaterBtnMobile = document.getElementById('customWaterBtnMobile');
        const resetDayBtn = document.getElementById('resetDayBtn');
        const browserNotifications = document.getElementById('browserNotifications');
        const browserNotificationsMobile = document.getElementById('browserNotificationsMobile');
        const soundAlerts = document.getElementById('soundAlerts');
        const soundAlertsMobile = document.getElementById('soundAlertsMobile');
        const autoStart = document.getElementById('autoStart');
        const notification = document.getElementById('notification');
        
        // Result elements
        const currentIntake = document.getElementById('currentIntake');
        const dailyGoalDisplay = document.getElementById('dailyGoalDisplay');
        const progressPercent = document.getElementById('progressPercent');
        const glassesCount = document.getElementById('glassesCount');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const goalText = document.getElementById('goalText');
        
        const currentIntakeMobile = document.getElementById('currentIntakeMobile');
        const dailyGoalDisplayMobile = document.getElementById('dailyGoalDisplayMobile');
        const progressPercentMobile = document.getElementById('progressPercentMobile');
        const progressFillMobile = document.getElementById('progressFillMobile');
        const progressTextMobile = document.getElementById('progressTextMobile');
        const goalTextMobile = document.getElementById('goalTextMobile');
        
        // Water log containers
        const waterLog = document.getElementById('waterLog');
        const waterLogMobile = document.getElementById('waterLogMobile');
        const historyList = document.getElementById('historyList');
        
        // Hydration data
        let hydrationData = JSON.parse(localStorage.getItem('hydrationData')) || {
            dailyGoal: 2000,
            currentIntake: 0,
            waterLog: [],
            history: []
        };
        
        let settings = JSON.parse(localStorage.getItem('hydrationSettings')) || {
            glassSize: 250,
            reminderInterval: 30,
            browserNotifications: true,
            soundAlerts: true,
            autoStart: true
        };
        
        let reminderTimer = null;
        
        // Initialize the app
        function init() {
            loadSettings();
            updateDisplay();
            setupEventListeners();
            startReminderTimer();
        }
        
        // Load settings from localStorage
        function loadSettings() {
            dailyGoal.value = hydrationData.dailyGoal;
            dailyGoalMobile.value = hydrationData.dailyGoal;
            glassSize.value = settings.glassSize;
            glassSizeMobile.value = settings.glassSize;
            reminderInterval.value = settings.reminderInterval;
            reminderIntervalMobile.value = settings.reminderInterval;
            browserNotifications.checked = settings.browserNotifications;
            browserNotificationsMobile.checked = settings.browserNotifications;
            soundAlerts.checked = settings.soundAlerts;
            soundAlertsMobile.checked = settings.soundAlerts;
            autoStart.checked = settings.autoStart;
        }
        
        // Setup event listeners
        function setupEventListeners() {
            saveSettingsBtn.addEventListener('click', saveSettings);
            saveSettingsBtnMobile.addEventListener('click', saveSettings);
            resetBtn.addEventListener('click', resetData);
            resetBtnMobile.addEventListener('click', resetData);
            addWaterBtn.addEventListener('click', addWater);
            addWaterBtnMobile.addEventListener('click', addWater);
            customWaterBtn.addEventListener('click', addCustomWater);
            customWaterBtnMobile.addEventListener('click', addCustomWater);
            resetDayBtn.addEventListener('click', resetDay);
            browserNotifications.addEventListener('change', updateReminderSettings);
            browserNotificationsMobile.addEventListener('change', updateReminderSettings);
            soundAlerts.addEventListener('change', updateReminderSettings);
            soundAlertsMobile.addEventListener('change', updateReminderSettings);
            autoStart.addEventListener('change', updateReminderSettings);
        }
        
        // Save settings
        function saveSettings() {
            hydrationData.dailyGoal = parseInt(dailyGoal.value || dailyGoalMobile.value) || 2000;
            settings.glassSize = parseInt(glassSize.value || glassSizeMobile.value) || 250;
            settings.reminderInterval = parseInt(reminderInterval.value || reminderIntervalMobile.value) || 30;
            settings.browserNotifications = browserNotifications.checked || browserNotificationsMobile.checked;
            settings.soundAlerts = soundAlerts.checked || soundAlertsMobile.checked;
            settings.autoStart = autoStart.checked;
            
            localStorage.setItem('hydrationData', JSON.stringify(hydrationData));
            localStorage.setItem('hydrationSettings', JSON.stringify(settings));
            
            updateDisplay();
            restartReminderTimer();
            showNotification('Settings saved successfully!');
        }
        
        // Add water
        function addWater() {
            const amount = parseInt(glassSize.value || glassSizeMobile.value) || 250;
            logWater(amount);
        }
        
        // Add custom water amount
        function addCustomWater() {
            const amount = prompt('Enter water amount in ml:', '250');
            if (amount && !isNaN(amount) && amount > 0) {
                logWater(parseInt(amount));
            }
        }
        
        // Log water intake
        function logWater(amount) {
            hydrationData.currentIntake += amount;
            
            const entry = {
                id: Date.now(),
                amount: amount,
                time: new Date().toLocaleTimeString(),
                date: new Date().toISOString().split('T')[0]
            };
            
            hydrationData.waterLog.push(entry);
            
            // Keep only today's entries
            const today = new Date().toISOString().split('T')[0];
            hydrationData.waterLog = hydrationData.waterLog.filter(entry => entry.date === today);
            
            localStorage.setItem('hydrationData', JSON.stringify(hydrationData));
            updateDisplay();
            showNotification(`Added ${amount}ml of water!`);
        }
        
        // Reset day
        function resetDay() {
            // Save today's data to history
            if (hydrationData.currentIntake > 0) {
                const todayEntry = {
                    date: new Date().toISOString().split('T')[0],
                    intake: hydrationData.currentIntake
                };
                hydrationData.history.push(todayEntry);
                
                // Keep only last 30 days
                if (hydrationData.history.length > 30) {
                    hydrationData.history = hydrationData.history.slice(-30);
                }
            }
            
            hydrationData.currentIntake = 0;
            hydrationData.waterLog = [];
            
            localStorage.setItem('hydrationData', JSON.stringify(hydrationData));
            updateDisplay();
            showNotification('Daily intake reset!');
        }
        
        // Reset all data
        function resetData() {
            if (confirm('Are you sure you want to reset all hydration data?')) {
                hydrationData = {
                    dailyGoal: 2000,
                    currentIntake: 0,
                    waterLog: [],
                    history: []
                };
                
                localStorage.setItem('hydrationData', JSON.stringify(hydrationData));
                updateDisplay();
                showNotification('All data reset!');
            }
        }
        
        // Update display
        function updateDisplay() {
            // Update stats
            currentIntake.textContent = hydrationData.currentIntake;
            dailyGoalDisplay.textContent = hydrationData.dailyGoal;
            currentIntakeMobile.textContent = hydrationData.currentIntake;
            dailyGoalDisplayMobile.textContent = hydrationData.dailyGoal;
            
            // Update progress
            const percent = Math.min(100, Math.round((hydrationData.currentIntake / hydrationData.dailyGoal) * 100));
            progressPercent.textContent = `${percent}%`;
            progressPercentMobile.textContent = `${percent}%`;
            progressFill.style.width = `${percent}%`;
            progressFillMobile.style.width = `${percent}%`;
            progressText.textContent = `${hydrationData.currentIntake} ml`;
            progressTextMobile.textContent = `${hydrationData.currentIntake} ml`;
            goalText.textContent = `Goal: ${hydrationData.dailyGoal} ml`;
            goalTextMobile.textContent = `Goal: ${hydrationData.dailyGoal} ml`;
            
            // Update glasses count
            const glasses = Math.floor(hydrationData.currentIntake / (parseInt(glassSize.value || glassSizeMobile.value) || 250));
            glassesCount.textContent = glasses;
            
            // Update water log
            updateWaterLog();
            
            // Update history
            updateHistory();
        }
        
        // Update water log
        function updateWaterLog() {
            waterLog.innerHTML = '';
            waterLogMobile.innerHTML = '';
            
            // Show last 12 entries
            const recentEntries = hydrationData.waterLog.slice(-12).reverse();
            
            if (recentEntries.length === 0) {
                const noEntries = document.createElement('div');
                noEntries.className = 'water-entry';
                noEntries.textContent = 'No entries yet';
                noEntries.style.opacity = '0.7';
                waterLog.appendChild(noEntries.cloneNode(true));
                waterLogMobile.appendChild(noEntries);
                return;
            }
            
            recentEntries.forEach(entry => {
                const waterEntry = document.createElement('div');
                waterEntry.className = 'water-entry';
                waterEntry.innerHTML = `
                    <div class="water-amount">${entry.amount}ml</div>
                    <div class="water-time">${entry.time}</div>
                `;
                
                waterLog.appendChild(waterEntry.cloneNode(true));
                waterLogMobile.appendChild(waterEntry);
            });
        }
        
        // Update history
        function updateHistory() {
            historyList.innerHTML = '';
            
            // Show last 10 days
            const recentHistory = hydrationData.history.slice(-10).reverse();
            
            if (recentHistory.length === 0) {
                const noHistory = document.createElement('div');
                noHistory.className = 'history-item';
                noHistory.textContent = 'No history yet';
                noHistory.style.textAlign = 'center';
                noHistory.style.opacity = '0.7';
                historyList.appendChild(noHistory);
                return;
            }
            
            recentHistory.forEach(entry => {
                const date = new Date(entry.date);
                const formattedDate = date.toLocaleDateString('en-US', { 
                    month: 'short', 
                    day: 'numeric' 
                });
                
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <span class="history-date">${formattedDate}</span>
                    <span class="history-amount">${entry.intake} ml</span>
                `;
                
                historyList.appendChild(historyItem);
            });
        }
        
        // Update reminder settings
        function updateReminderSettings() {
            settings.browserNotifications = browserNotifications.checked || browserNotificationsMobile.checked;
            settings.soundAlerts = soundAlerts.checked || soundAlertsMobile.checked;
            settings.autoStart = autoStart.checked;
            
            localStorage.setItem('hydrationSettings', JSON.stringify(settings));
            restartReminderTimer();
        }
        
        // Start reminder timer
        function startReminderTimer() {
            if (settings.autoStart) {
                const interval = (parseInt(reminderInterval.value || reminderIntervalMobile.value) || 30) * 60 * 1000;
                reminderTimer = setInterval(showReminder, interval);
            }
        }
        
        // Restart reminder timer
        function restartReminderTimer() {
            if (reminderTimer) {
                clearInterval(reminderTimer);
            }
            startReminderTimer();
        }
        
        // Show reminder
        function showReminder() {
            // Check if we should show browser notification
            if (settings.browserNotifications) {
                if (Notification.permission === 'granted') {
                    new Notification('Hydration Reminder', {
                        body: 'Time to drink some water!',
                        icon: 'ðŸ’§'
                    });
                } else if (Notification.permission !== 'denied') {
                    Notification.requestPermission().then(permission => {
                        if (permission === 'granted') {
                            new Notification('Hydration Reminder', {
                                body: 'Time to drink some water!',
                                icon: 'ðŸ’§'
                            });
                        }
                    });
                }
            }
            
            // Show in-app notification
            showNotification('ðŸ’§ Time to drink some water!');
            
            // Play sound if enabled
            if (settings.soundAlerts) {
                // In a real app, you would play a sound here
                console.log('Playing hydration reminder sound');
            }
        }
        
        // Show notification
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Request notification permission on load
        function requestNotificationPermission() {
            if ('Notification' in window) {
                Notification.requestPermission();
            }
        }
        
        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            init();
            requestNotificationPermission();
        });
    </script>
</body>
</html>