<!DOCTYPE html>
<!-- Category: Productivity & Goal Setting -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Goal Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #6a11cb, #2575fc, #6a11cb);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        /* Desktop Styles */
        .desktop-view {
            display: block;
            max-width: 1200px;
            margin: 0 auto;
        }

        .mobile-view {
            display: none;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            text-align: center;
            position: relative;
        }

        h1 {
            color: #6a11cb;
            margin-bottom: 10px;
            font-size: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        h1 i {
            color: #2575fc;
        }

        .subtitle {
            color: #2575fc;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .container {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
        }

        .input-section {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .goals-section {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            max-height: 600px;
            overflow-y: auto;
        }

        h2 {
            color: #6a11cb;
            margin-bottom: 20px;
            border-bottom: 2px solid #2575fc;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #6a11cb;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            border-color: #6a11cb;
            outline: none;
            box-shadow: 0 0 0 3px rgba(106, 17, 203, 0.2);
        }

        button {
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            font-weight: 600;
            width: 100%;
            transition: transform 0.2s, box-shadow 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(to right, #6c757d, #495057);
            margin-top: 10px;
        }

        .btn-warning {
            background: linear-gradient(to right, #ffc107, #e0a800);
        }

        .btn-danger {
            background: linear-gradient(to right, #dc3545, #bd2130);
        }

        .btn-success {
            background: linear-gradient(to right, #28a745, #218838);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 25px;
        }

        .stat-card {
            background: linear-gradient(135deg, #6a11cb, #7a3fcc);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .goal-item {
            background: #f8f9fa;
            border-left: 4px solid #6a11cb;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 0 8px 8px 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }

        .goal-item:hover {
            transform: translateX(5px);
        }

        .goal-item.completed {
            border-left-color: #28a745;
            opacity: 0.8;
        }

        .goal-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .goal-time {
            color: #2575fc;
            font-size: 0.9rem;
        }

        .delete-btn, .complete-btn, .edit-btn {
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            width: auto;
            transition: background 0.3s;
            margin-left: 5px;
        }

        .delete-btn {
            background: #dc3545;
        }

        .delete-btn:hover {
            background: #bd2130;
        }

        .complete-btn {
            background: #28a745;
        }

        .complete-btn:hover {
            background: #218838;
        }

        .edit-btn {
            background: #17a2b8;
        }

        .edit-btn:hover {
            background: #138496;
        }

        .empty-goals {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 20px;
        }

        .daily-progress {
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            margin-top: 15px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #28a745, #218838);
            border-radius: 10px;
            transition: width 0.5s;
        }

        .progress-text {
            text-align: center;
            margin-top: 10px;
            font-weight: 600;
        }

        .progress-indicator {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #666;
            margin-top: 5px;
        }

        .goal-info {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 20px 0;
        }

        .info-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #6a11cb;
        }

        .info-content {
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .chart-container {
            height: 200px;
            margin-top: 20px;
            position: relative;
        }

        .chart-bar {
            position: absolute;
            bottom: 0;
            width: 30px;
            background: linear-gradient(to top, #6a11cb, #7a3fcc);
            border-radius: 5px 5px 0 0;
            text-align: center;
            color: white;
            font-size: 0.7rem;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding: 5px;
        }

        .chart-label {
            position: absolute;
            bottom: -25px;
            width: 30px;
            text-align: center;
            font-size: 0.7rem;
            color: #666;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .modal h3 {
            color: #6a11cb;
            margin-bottom: 20px;
            text-align: center;
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            transform: translateX(200%);
            transition: transform 0.3s;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(to right, #28a745, #218838);
        }

        .notification.warning {
            background: linear-gradient(to right, #ffc107, #e0a800);
        }

        .notification.error {
            background: linear-gradient(to right, #dc3545, #c82333);
        }

        .priority-high {
            border-left-color: #dc3545;
        }

        .priority-medium {
            border-left-color: #ffc107;
        }

        .priority-low {
            border-left-color: #28a745;
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background: #f0f0f0;
            border: none;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }

        .tab.active {
            background: #6a11cb;
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .export-section {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .export-btn {
            flex: 1;
            padding: 10px;
            font-size: 0.9rem;
        }

        .filter-section {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .filter-btn {
            flex: 1;
            padding: 8px;
            font-size: 0.8rem;
        }

        .active-filter {
            background: #6a11cb;
            color: white;
        }

        .goal-description {
            margin: 8px 0;
            font-size: 0.9rem;
            color: #555;
        }

        .goal-category {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-top: 5px;
        }

        .category-health {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .category-work {
            background: #e3f2fd;
            color: #1565c0;
        }

        .category-personal {
            background: #f3e5f5;
            color: #6a1b9a;
        }

        .category-learning {
            background: #fff3e0;
            color: #ef6c00;
        }

        .category-fitness {
            background: #ffebee;
            color: #c62828;
        }

        .frequency-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: 8px;
            background: #6a11cb;
            color: white;
        }

        .streak-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: 8px;
            background: #ff9800;
            color: white;
        }

        .reminder-section {
            background: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }

        .reminder-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #6a11cb;
        }

        .reminder-content {
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .goal-actions {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }

        .action-btn {
            flex: 1;
            padding: 8px;
            font-size: 0.8rem;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            .desktop-view {
                display: none;
            }

            .mobile-view {
                display: block;
            }

            body {
                padding: 0;
                background: linear-gradient(135deg, #6a11cb, #2575fc);
            }

            header {
                height: 50px;
                border-radius: 0;
                padding: 10px;
                margin-bottom: 0;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            h1 {
                font-size: 1.3rem;
                margin: 0;
            }

            h1 i {
                font-size: 1rem;
            }

            .subtitle {
                display: none;
            }

            .container {
                display: block;
                padding: 15px;
                gap: 15px;
            }

            .input-section, .goals-section {
                border-radius: 10px;
                padding: 15px;
                margin-bottom: 15px;
            }

            .stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .stat-card {
                padding: 12px;
            }

            .stat-value {
                font-size: 1.3rem;
                margin: 5px 0;
            }

            .stat-label {
                font-size: 0.7rem;
            }

            h2 {
                font-size: 1.2rem;
                margin-bottom: 15px;
            }

            button {
                padding: 12px;
                font-size: 16px;
            }

            .goal-item {
                padding: 12px;
            }

            .goal-header {
                flex-direction: column;
                gap: 5px;
            }

            .form-group {
                margin-bottom: 15px;
            }

            input, select {
                padding: 10px;
                font-size: 14px;
            }

            .daily-progress {
                height: 15px;
            }

            .progress-text {
                font-size: 0.8rem;
            }

            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .modal-content {
                padding: 20px;
                width: 95%;
            }

            .export-section {
                flex-direction: column;
                gap: 5px;
            }

            .filter-section {
                flex-direction: column;
                gap: 5px;
            }

            .goal-description {
                font-size: 0.8rem;
            }

            .goal-actions {
                flex-direction: column;
            }

            .action-btn {
                width: 100%;
            }
        }

        @media (max-width: 480px) {
            .stats {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Desktop View -->
    <div class="desktop-view">
        <header>
            <h1><i class="fas fa-bullseye"></i> Daily Goal Tracker</h1>
            <div class="subtitle">Set, track, and achieve your daily goals with ease</div>
        </header>

        <div class="container">
            <section class="input-section">
                <div class="tabs">
                    <button class="tab active" data-tab="add">Add Goal</button>
                    <button class="tab" data-tab="categories">Categories</button>
                    <button class="tab" data-tab="stats">Statistics</button>
                    <button class="tab" data-tab="reminders">Reminders</button>
                </div>

                <div class="tab-content active" id="add-tab">
                    <h2><i class="fas fa-plus-circle"></i> Add New Goal</h2>
                    <form id="goal-form">
                        <div class="form-group">
                            <label for="goal-title">Goal Title</label>
                            <input type="text" id="goal-title" placeholder="Enter your goal" required>
                        </div>

                        <div class="form-group">
                            <label for="goal-description">Description (Optional)</label>
                            <textarea id="goal-description" rows="2" placeholder="Describe your goal in detail"></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="goal-category">Category</label>
                                <select id="goal-category" required>
                                    <option value="">Select a category</option>
                                    <option value="health">Health & Wellness</option>
                                    <option value="work">Work & Career</option>
                                    <option value="personal">Personal Development</option>
                                    <option value="learning">Learning & Education</option>
                                    <option value="fitness">Fitness & Exercise</option>
                                    <option value="finance">Finance & Budgeting</option>
                                    <option value="relationships">Relationships</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="goal-priority">Priority</label>
                                <select id="goal-priority" required>
                                    <option value="medium">Medium</option>
                                    <option value="high">High</option>
                                    <option value="low">Low</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="goal-frequency">Frequency</label>
                                <select id="goal-frequency" required>
                                    <option value="once">Once</option>
                                    <option value="daily">Daily</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="monthly">Monthly</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="goal-estimated-time">Estimated Time (min)</label>
                                <input type="number" id="goal-estimated-time" min="1" placeholder="e.g., 30">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="goal-due-date">Due Date (Optional)</label>
                                <input type="date" id="goal-due-date">
                            </div>
                            <div class="form-group">
                                <label for="goal-streak-target">Streak Target (days)</label>
                                <input type="number" id="goal-streak-target" min="1" max="365" placeholder="e.g., 7">
                            </div>
                        </div>

                        <button type="submit"><i class="fas fa-plus"></i> Add Goal</button>
                        <button type="button" class="btn-secondary" id="quick-add-btn"><i class="fas fa-bolt"></i> Quick Add Common Goals</button>
                    </form>
                </div>

                <div class="tab-content" id="categories-tab">
                    <h2><i class="fas fa-tags"></i> Goal Categories</h2>
                    <div class="goal-info">
                        <div class="info-title">Health & Wellness</div>
                        <div class="info-content">Goals related to physical and mental health, sleep, nutrition, and self-care.</div>
                    </div>
                    <div class="goal-info">
                        <div class="info-title">Work & Career</div>
                        <div class="info-content">Professional goals, tasks, projects, and career development activities.</div>
                    </div>
                    <div class="goal-info">
                        <div class="info-title">Personal Development</div>
                        <div class="info-content">Goals for self-improvement, hobbies, relationships, and personal growth.</div>
                    </div>
                    <div class="goal-info">
                        <div class="info-title">Learning & Education</div>
                        <div class="info-content">Educational goals, skill development, reading, and knowledge acquisition.</div>
                    </div>
                    <div class="goal-info">
                        <div class="info-title">Fitness & Exercise</div>
                        <div class="info-content">Physical activity goals, workout routines, sports, and fitness milestones.</div>
                    </div>
                    <div class="goal-info">
                        <div class="info-title">Finance & Budgeting</div>
                        <div class="info-content">Financial goals, budgeting, saving, investing, and expense tracking.</div>
                    </div>
                    <div class="goal-info">
                        <div class="info-title">Relationships</div>
                        <div class="info-content">Goals related to family, friends, social connections, and networking.</div>
                    </div>
                </div>

                <div class="tab-content" id="stats-tab">
                    <h2><i class="fas fa-chart-bar"></i> Goal Statistics</h2>
                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-label">Total Goals</div>
                            <div class="stat-value" id="total-goals">0</div>
                            <div class="stat-label">Created</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Completed</div>
                            <div class="stat-value" id="completed-goals">0</div>
                            <div class="stat-label">Goals</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Completion Rate</div>
                            <div class="stat-value" id="completion-rate">0%</div>
                            <div class="stat-label">Success</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Avg. Time</div>
                            <div class="stat-value" id="avg-time">0m</div>
                            <div class="stat-label">Per Goal</div>
                        </div>
                    </div>

                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-label">Current Streaks</div>
                            <div class="stat-value" id="current-streaks">0</div>
                            <div class="stat-label">Active</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Best Streak</div>
                            <div class="stat-value" id="best-streak">0</div>
                            <div class="stat-label">Days</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Recurring Goals</div>
                            <div class="stat-value" id="recurring-goals">0</div>
                            <div class="stat-label">Active</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Categories</div>
                            <div class="stat-value" id="active-categories">0</div>
                            <div class="stat-label">Used</div>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="reminders-tab">
                    <h2><i class="fas fa-bell"></i> Goal Reminders</h2>
                    <div class="reminder-section">
                        <div class="reminder-title">Set Up Notifications</div>
                        <div class="reminder-content">
                            <p>Enable browser notifications to receive reminders for your goals.</p>
                            <button type="button" class="btn-success" id="enable-notifications-btn"><i class="fas fa-bell"></i> Enable Notifications</button>
                        </div>
                    </div>
                    <div class="reminder-section">
                        <div class="reminder-title">Reminder Settings</div>
                        <div class="reminder-content">
                            <p>Configure when you want to be reminded about your goals.</p>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="reminder-time">Reminder Time</label>
                                    <input type="time" id="reminder-time" value="09:00">
                                </div>
                                <div class="form-group">
                                    <label for="reminder-frequency">Frequency</label>
                                    <select id="reminder-frequency">
                                        <option value="daily">Daily</option>
                                        <option value="weekly">Weekly Summary</option>
                                        <option value="never">Never</option>
                                    </select>
                                </div>
                            </div>
                            <button type="button" id="save-reminders-btn"><i class="fas fa-save"></i> Save Settings</button>
                        </div>
                    </div>
                </div>

                <div class="goal-info">
                    <div class="info-title">Goal Setting Tips</div>
                    <div class="info-content">
                        <p><strong>SMART Goals:</strong> Make goals Specific, Measurable, Achievable, Relevant, and Time-bound</p>
                        <p><strong>Prioritization:</strong> Focus on high-priority goals first to maximize impact</p>
                        <p><strong>Consistency:</strong> Set recurring goals to build lasting habits</p>
                    </div>
                </div>

                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-label">Today's Goals</div>
                        <div class="stat-value" id="today-goals">0</div>
                        <div class="stat-label">Active</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Completed Today</div>
                        <div class="stat-value" id="today-completed">0</div>
                        <div class="stat-label">Finished</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Pending</div>
                        <div class="stat-value" id="pending-goals">0</div>
                        <div class="stat-label">Goals</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">High Priority</div>
                        <div class="stat-value" id="high-priority">0</div>
                        <div class="stat-label">Tasks</div>
                    </div>
                </div>

                <div class="daily-progress">
                    <div class="progress-bar" id="daily-progress-bar" style="width: 0%"></div>
                </div>
                <div class="progress-text" id="progress-text">0% of daily goals completed</div>
                <div class="progress-indicator">
                    <span>0%</span>
                    <span>50%</span>
                    <span>100%</span>
                </div>
            </section>

            <section class="goals-section">
                <h2><i class="fas fa-tasks"></i> Your Goals</h2>
                <div class="filter-section">
                    <button class="filter-btn active-filter" data-filter="all">All Goals</button>
                    <button class="filter-btn" data-filter="pending">Pending</button>
                    <button class="filter-btn" data-filter="completed">Completed</button>
                    <button class="filter-btn" data-filter="recurring">Recurring</button>
                </div>
                <div class="export-section">
                    <button type="button" class="export-btn btn-warning" id="export-csv-btn"><i class="fas fa-file-csv"></i> Export CSV</button>
                    <button type="button" class="export-btn btn-danger" id="clear-data-btn"><i class="fas fa-trash"></i> Clear Data</button>
                </div>
                <div id="goals-list">
                    <div class="empty-goals">No goals added yet. Start by adding your first goal!</div>
                </div>
            </section>
        </div>
    </div>

    <!-- Mobile View -->
    <div class="mobile-view">
        <header>
            <h1><i class="fas fa-bullseye"></i> Daily Goal Tracker</h1>
        </header>

        <div class="container">
            <section class="input-section">
                <div class="tabs">
                    <button class="tab active" data-tab="add-mobile">Add Goal</button>
                    <button class="tab" data-tab="stats-mobile">Stats</button>
                </div>

                <div class="tab-content active" id="add-mobile-tab">
                    <h2><i class="fas fa-plus-circle"></i> Add New Goal</h2>
                    <form id="goal-form-mobile">
                        <div class="form-group">
                            <label for="goal-title-mobile">Goal Title</label>
                            <input type="text" id="goal-title-mobile" placeholder="Enter your goal" required>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="goal-category-mobile">Category</label>
                                <select id="goal-category-mobile" required>
                                    <option value="">Select</option>
                                    <option value="health">Health</option>
                                    <option value="work">Work</option>
                                    <option value="personal">Personal</option>
                                    <option value="learning">Learning</option>
                                    <option value="fitness">Fitness</option>
                                    <option value="finance">Finance</option>
                                    <option value="relationships">Relationships</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="goal-priority-mobile">Priority</label>
                                <select id="goal-priority-mobile" required>
                                    <option value="medium">Medium</option>
                                    <option value="high">High</option>
                                    <option value="low">Low</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="goal-frequency-mobile">Frequency</label>
                                <select id="goal-frequency-mobile" required>
                                    <option value="once">Once</option>
                                    <option value="daily">Daily</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="monthly">Monthly</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="goal-estimated-time-mobile">Time (min)</label>
                                <input type="number" id="goal-estimated-time-mobile" min="1" placeholder="30">
                            </div>
                        </div>

                        <button type="submit"><i class="fas fa-plus"></i> Add Goal</button>
                    </form>
                </div>

                <div class="tab-content" id="stats-mobile-tab">
                    <h2><i class="fas fa-chart-bar"></i> Statistics</h2>
                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-label">Total Goals</div>
                            <div class="stat-value" id="total-goals-mobile">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Completed</div>
                            <div class="stat-value" id="completed-goals-mobile">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Today</div>
                            <div class="stat-value" id="today-goals-mobile">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Completed</div>
                            <div class="stat-value" id="today-completed-mobile">0</div>
                        </div>
                    </div>

                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-label">Pending</div>
                            <div class="stat-value" id="pending-goals-mobile">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">High Priority</div>
                            <div class="stat-value" id="high-priority-mobile">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Rate</div>
                            <div class="stat-value" id="completion-rate-mobile">0%</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Avg Time</div>
                            <div class="stat-value" id="avg-time-mobile">0m</div>
                        </div>
                    </div>

                    <div class="daily-progress">
                        <div class="progress-bar" id="daily-progress-bar-mobile" style="width: 0%"></div>
                    </div>
                    <div class="progress-text" id="progress-text-mobile">0% completed</div>
                </div>

                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-label">Streaks</div>
                        <div class="stat-value" id="current-streaks-mobile">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Best Streak</div>
                        <div class="stat-value" id="best-streak-mobile">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Recurring</div>
                        <div class="stat-value" id="recurring-goals-mobile">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Categories</div>
                        <div class="stat-value" id="active-categories-mobile">0</div>
                    </div>
                </div>
            </section>

            <section class="goals-section">
                <h2><i class="fas fa-tasks"></i> Your Goals</h2>
                <div class="filter-section">
                    <button class="filter-btn active-filter" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="pending">Pending</button>
                    <button class="filter-btn" data-filter="completed">Done</button>
                    <button class="filter-btn" data-filter="recurring">Repeat</button>
                </div>
                <div id="goals-list-mobile">
                    <div class="empty-goals">No goals yet. Add your first goal!</div>
                </div>
            </section>
        </div>
    </div>

    <!-- Quick Add Modal -->
    <div class="modal" id="quick-add-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-quick-modal">&times;</span>
            <h3><i class="fas fa-bolt"></i> Quick Add Common Goals</h3>
            <div class="form-group">
                <label>Select a common goal to add:</label>
                <button type="button" class="quick-goal-btn" data-goal="Drink 8 glasses of water" data-category="health" data-priority="medium" data-frequency="daily">Drink 8 glasses of water (Health - Daily)</button>
                <button type="button" class="quick-goal-btn" data-goal="Exercise for 30 minutes" data-category="fitness" data-priority="high" data-frequency="daily">Exercise for 30 minutes (Fitness - Daily)</button>
                <button type="button" class="quick-goal-btn" data-goal="Read for 20 minutes" data-category="learning" data-priority="medium" data-frequency="daily">Read for 20 minutes (Learning - Daily)</button>
                <button type="button" class="quick-goal-btn" data-goal="Meditate for 10 minutes" data-category="health" data-priority="medium" data-frequency="daily">Meditate for 10 minutes (Health - Daily)</button>
                <button type="button" class="quick-goal-btn" data-goal="Review daily goals" data-category="personal" data-priority="high" data-frequency="daily">Review daily goals (Personal - Daily)</button>
                <button type="button" class="quick-goal-btn" data-goal="Plan next day" data-category="personal" data-priority="medium" data-frequency="daily">Plan next day (Personal - Daily)</button>
            </div>
        </div>
    </div>

    <!-- Edit Goal Modal -->
    <div class="modal" id="edit-goal-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-edit-modal">&times;</span>
            <h3><i class="fas fa-edit"></i> Edit Goal</h3>
            <form id="edit-goal-form">
                <input type="hidden" id="edit-goal-id">
                <div class="form-group">
                    <label for="edit-goal-title">Goal Title</label>
                    <input type="text" id="edit-goal-title" required>
                </div>
                <div class="form-group">
                    <label for="edit-goal-description">Description</label>
                    <textarea id="edit-goal-description" rows="2"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-goal-category">Category</label>
                        <select id="edit-goal-category" required>
                            <option value="health">Health & Wellness</option>
                            <option value="work">Work & Career</option>
                            <option value="personal">Personal Development</option>
                            <option value="learning">Learning & Education</option>
                            <option value="fitness">Fitness & Exercise</option>
                            <option value="finance">Finance & Budgeting</option>
                            <option value="relationships">Relationships</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-goal-priority">Priority</label>
                        <select id="edit-goal-priority" required>
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-goal-frequency">Frequency</label>
                        <select id="edit-goal-frequency" required>
                            <option value="once">Once</option>
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-goal-estimated-time">Estimated Time (min)</label>
                        <input type="number" id="edit-goal-estimated-time" min="1">
                    </div>
                </div>
                <button type="submit"><i class="fas fa-save"></i> Save Changes</button>
            </form>
        </div>
    </div>

    <!-- Notification Container -->
    <div class="notification" id="notification"></div>

    <script>
        // Goal categories data
        const categoryData = {
            'health': { color: '#2e7d32', icon: 'heartbeat', class: 'category-health' },
            'work': { color: '#1565c0', icon: 'briefcase', class: 'category-work' },
            'personal': { color: '#6a1b9a', icon: 'user', class: 'category-personal' },
            'learning': { color: '#ef6c00', icon: 'book', class: 'category-learning' },
            'fitness': { color: '#c62828', icon: 'dumbbell', class: 'category-fitness' },
            'finance': { color: '#388e3c', icon: 'money-bill-wave', class: 'category-finance' },
            'relationships': { color: '#0097a7', icon: 'users', class: 'category-relationships' },
            'other': { color: '#9e9e9e', icon: 'ellipsis-h', class: 'category-other' }
        };

        // Priority data
        const priorityData = {
            'high': 'priority-high',
            'medium': 'priority-medium',
            'low': 'priority-low'
        };

        // Frequency data
        const frequencyData = {
            'once': { label: 'Once', icon: 'calendar-check' },
            'daily': { label: 'Daily', icon: 'sync' },
            'weekly': { label: 'Weekly', icon: 'calendar-week' },
            'monthly': { label: 'Monthly', icon: 'calendar-alt' }
        };

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Load data from localStorage
            loadGoalsData();
            loadSettings();
            
            // Set up form submissions
            document.getElementById('goal-form').addEventListener('submit', handleFormSubmit);
            document.getElementById('goal-form-mobile').addEventListener('submit', handleFormSubmit);
            document.getElementById('edit-goal-form').addEventListener('submit', handleEditFormSubmit);
            
            // Set up tab switching
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    const isMobile = tabName.includes('mobile');
                    
                    // Remove active class from all tabs
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    document.getElementById(`${tabName}-tab`).classList.add('active');
                });
            });
            
            // Set up quick add functionality
            document.getElementById('quick-add-btn').addEventListener('click', function() {
                document.getElementById('quick-add-modal').style.display = 'flex';
            });
            
            document.getElementById('close-quick-modal').addEventListener('click', function() {
                document.getElementById('quick-add-modal').style.display = 'none';
            });
            
            // Set up quick goal buttons
            document.querySelectorAll('.quick-goal-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const goalTitle = this.getAttribute('data-goal');
                    const category = this.getAttribute('data-category');
                    const priority = this.getAttribute('data-priority');
                    const frequency = this.getAttribute('data-frequency');
                    
                    addQuickGoal(goalTitle, category, priority, frequency);
                });
            });
            
            // Set up edit modal close
            document.getElementById('close-edit-modal').addEventListener('click', function() {
                document.getElementById('edit-goal-modal').style.display = 'none';
            });
            
            // Set up filters
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active-filter'));
                    this.classList.add('active-filter');
                    updateDisplay();
                });
            });
            
            // Set up export and clear buttons
            document.getElementById('export-csv-btn').addEventListener('click', exportToCSV);
            document.getElementById('clear-data-btn').addEventListener('click', clearAllData);
            
            // Set up reminders
            document.getElementById('enable-notifications-btn').addEventListener('click', enableNotifications);
            document.getElementById('save-reminders-btn').addEventListener('click', saveReminderSettings);
        });

        let goalsData = [];
        let settings = {
            reminderTime: '09:00',
            reminderFrequency: 'daily'
        };
        let activeFilter = 'all';

        function handleFormSubmit(e) {
            e.preventDefault();
            
            // Determine if mobile or desktop form
            const isMobile = e.target.id.includes('mobile');
            const title = document.getElementById(isMobile ? 'goal-title-mobile' : 'goal-title').value;
            const description = document.getElementById(isMobile ? 'goal-description-mobile' : 'goal-description')?.value || '';
            const category = document.getElementById(isMobile ? 'goal-category-mobile' : 'goal-category').value;
            const priority = document.getElementById(isMobile ? 'goal-priority-mobile' : 'goal-priority').value;
            const frequency = document.getElementById(isMobile ? 'goal-frequency-mobile' : 'goal-frequency').value;
            const estimatedTime = parseInt(document.getElementById(isMobile ? 'goal-estimated-time-mobile' : 'goal-estimated-time')?.value) || 0;
            const dueDate = document.getElementById(isMobile ? 'goal-due-date-mobile' : 'goal-due-date')?.value || '';
            const streakTarget = parseInt(document.getElementById(isMobile ? 'goal-streak-target-mobile' : 'goal-streak-target')?.value) || 0;
            
            // Add to data
            const goal = {
                id: Date.now(),
                title,
                description,
                category,
                priority,
                frequency,
                estimatedTime,
                dueDate,
                streakTarget,
                completed: false,
                completedDates: [],
                streak: 0,
                bestStreak: 0,
                createdDate: new Date()
            };
            
            goalsData.push(goal);
            saveGoalsData();
            updateDisplay();
            
            // Reset form
            e.target.reset();
            
            // Show notification
            showNotification('Goal added successfully!', 'success');
        }

        function addQuickGoal(title, category, priority, frequency) {
            const goal = {
                id: Date.now(),
                title,
                description: '',
                category,
                priority,
                frequency,
                estimatedTime: 0,
                dueDate: '',
                streakTarget: 0,
                completed: false,
                completedDates: [],
                streak: 0,
                bestStreak: 0,
                createdDate: new Date()
            };
            
            goalsData.push(goal);
            saveGoalsData();
            updateDisplay();
            document.getElementById('quick-add-modal').style.display = 'none';
            showNotification('Quick goal added!', 'success');
        }

        function toggleGoalCompletion(id) {
            const goal = goalsData.find(g => g.id === id);
            if (goal) {
                const now = new Date();
                const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
                
                if (goal.completed) {
                    // Undo completion
                    goal.completed = false;
                    goal.completedDates = goal.completedDates.filter(d => {
                        const date = new Date(d);
                        return date.toDateString() !== today.toDateString();
                    });
                } else {
                    // Mark as completed
                    goal.completed = true;
                    goal.completedDates.push(now.toISOString());
                    
                    // Update streak
                    updateStreak(goal);
                }
                
                saveGoalsData();
                updateDisplay();
                showNotification(goal.completed ? 'Goal completed!' : 'Goal marked as pending', 'success');
            }
        }

        function updateStreak(goal) {
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            // For daily goals, check consecutive days
            if (goal.frequency === 'daily') {
                const yesterday = new Date(today);
                yesterday.setDate(yesterday.getDate() - 1);
                
                const completedDates = goal.completedDates.map(d => new Date(d).toDateString());
                const todayCompleted = completedDates.includes(today.toDateString());
                const yesterdayCompleted = completedDates.includes(yesterday.toDateString());
                
                if (yesterdayCompleted || goal.streak > 0) {
                    goal.streak = todayCompleted ? goal.streak + 1 : 1;
                } else {
                    goal.streak = 1;
                }
                
                if (goal.streak > goal.bestStreak) {
                    goal.bestStreak = goal.streak;
                }
            }
        }

        function deleteGoal(id) {
            goalsData = goalsData.filter(goal => goal.id !== id);
            saveGoalsData();
            updateDisplay();
            showNotification('Goal deleted', 'success');
        }

        function editGoal(id) {
            const goal = goalsData.find(g => g.id === id);
            if (goal) {
                document.getElementById('edit-goal-id').value = goal.id;
                document.getElementById('edit-goal-title').value = goal.title;
                document.getElementById('edit-goal-description').value = goal.description;
                document.getElementById('edit-goal-category').value = goal.category;
                document.getElementById('edit-goal-priority').value = goal.priority;
                document.getElementById('edit-goal-frequency').value = goal.frequency;
                document.getElementById('edit-goal-estimated-time').value = goal.estimatedTime || '';
                
                document.getElementById('edit-goal-modal').style.display = 'flex';
            }
        }

        function handleEditFormSubmit(e) {
            e.preventDefault();
            
            const id = parseInt(document.getElementById('edit-goal-id').value);
            const goal = goalsData.find(g => g.id === id);
            
            if (goal) {
                goal.title = document.getElementById('edit-goal-title').value;
                goal.description = document.getElementById('edit-goal-description').value;
                goal.category = document.getElementById('edit-goal-category').value;
                goal.priority = document.getElementById('edit-goal-priority').value;
                goal.frequency = document.getElementById('edit-goal-frequency').value;
                goal.estimatedTime = parseInt(document.getElementById('edit-goal-estimated-time').value) || 0;
                
                saveGoalsData();
                updateDisplay();
                document.getElementById('edit-goal-modal').style.display = 'none';
                showNotification('Goal updated successfully!', 'success');
            }
        }

        function saveGoalsData() {
            localStorage.setItem('dailyGoalsData', JSON.stringify(goalsData));
        }

        function loadGoalsData() {
            const data = localStorage.getItem('dailyGoalsData');
            if (data) {
                goalsData = JSON.parse(data);
                // Convert date strings back to Date objects
                goalsData.forEach(goal => {
                    if (goal.createdDate) goal.createdDate = new Date(goal.createdDate);
                    if (goal.completedDates) {
                        goal.completedDates = goal.completedDates.map(d => new Date(d));
                    }
                });
            }
            updateDisplay();
        }

        function saveSettings() {
            localStorage.setItem('dailyGoalsSettings', JSON.stringify(settings));
        }

        function loadSettings() {
            const data = localStorage.getItem('dailyGoalsSettings');
            if (data) {
                settings = JSON.parse(data);
            }
            document.getElementById('reminder-time').value = settings.reminderTime;
            document.getElementById('reminder-frequency').value = settings.reminderFrequency;
        }

        function updateDisplay() {
            // Get active filter
            activeFilter = document.querySelector('.filter-btn.active-filter')?.getAttribute('data-filter') || 'all';
            
            // Filter goals based on active filter
            let filteredGoals = [];
            if (activeFilter === 'all') {
                filteredGoals = [...goalsData];
            } else if (activeFilter === 'pending') {
                filteredGoals = goalsData.filter(goal => !goal.completed);
            } else if (activeFilter === 'completed') {
                filteredGoals = goalsData.filter(goal => goal.completed);
            } else if (activeFilter === 'recurring') {
                filteredGoals = goalsData.filter(goal => goal.frequency !== 'once');
            }
            
            // Sort by priority and completion status
            filteredGoals.sort((a, b) => {
                if (a.completed !== b.completed) {
                    return a.completed ? 1 : -1;
                }
                const priorityOrder = { high: 3, medium: 2, low: 1 };
                return priorityOrder[b.priority] - priorityOrder[a.priority];
            });
            
            // Calculate statistics
            const totalGoals = goalsData.length;
            const completedGoals = goalsData.filter(g => g.completed).length;
            const todayGoals = goalsData.filter(g => {
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                const createdDate = new Date(g.createdDate);
                createdDate.setHours(0, 0, 0, 0);
                return createdDate.getTime() === today.getTime();
            }).length;
            const todayCompleted = goalsData.filter(g => {
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                if (!g.completedDates || g.completedDates.length === 0) return false;
                const lastCompletion = new Date(g.completedDates[g.completedDates.length - 1]);
                lastCompletion.setHours(0, 0, 0, 0);
                return lastCompletion.getTime() === today.getTime();
            }).length;
            const pendingGoals = totalGoals - completedGoals;
            const highPriorityGoals = goalsData.filter(g => g.priority === 'high' && !g.completed).length;
            const completionRate = totalGoals > 0 ? Math.round((completedGoals / totalGoals) * 100) : 0;
            
            // Calculate average time
            const completedWithTime = goalsData.filter(g => g.completed && g.estimatedTime > 0);
            const avgTime = completedWithTime.length > 0 
                ? Math.round(completedWithTime.reduce((sum, g) => sum + g.estimatedTime, 0) / completedWithTime.length)
                : 0;
            
            // Calculate streaks
            const currentStreaks = goalsData.filter(g => g.streak > 0).length;
            const bestStreak = goalsData.length > 0 
                ? Math.max(...goalsData.map(g => g.bestStreak)) 
                : 0;
            const recurringGoals = goalsData.filter(g => g.frequency !== 'once').length;
            const activeCategories = [...new Set(goalsData.map(g => g.category))].length;
            
            // Update progress bar
            const progressPercentage = totalGoals > 0 ? Math.round((completedGoals / totalGoals) * 100) : 0;
            
            // Update desktop stats
            document.getElementById('total-goals').textContent = totalGoals;
            document.getElementById('completed-goals').textContent = completedGoals;
            document.getElementById('completion-rate').textContent = `${completionRate}%`;
            document.getElementById('avg-time').textContent = `${avgTime}m`;
            document.getElementById('today-goals').textContent = todayGoals;
            document.getElementById('today-completed').textContent = todayCompleted;
            document.getElementById('pending-goals').textContent = pendingGoals;
            document.getElementById('high-priority').textContent = highPriorityGoals;
            document.getElementById('current-streaks').textContent = currentStreaks;
            document.getElementById('best-streak').textContent = bestStreak;
            document.getElementById('recurring-goals').textContent = recurringGoals;
            document.getElementById('active-categories').textContent = activeCategories;
            document.getElementById('daily-progress-bar').style.width = `${progressPercentage}%`;
            document.getElementById('progress-text').textContent = `${progressPercentage}% of daily goals completed`;
            
            // Update mobile stats
            document.getElementById('total-goals-mobile').textContent = totalGoals;
            document.getElementById('completed-goals-mobile').textContent = completedGoals;
            document.getElementById('completion-rate-mobile').textContent = `${completionRate}%`;
            document.getElementById('avg-time-mobile').textContent = `${avgTime}m`;
            document.getElementById('today-goals-mobile').textContent = todayGoals;
            document.getElementById('today-completed-mobile').textContent = todayCompleted;
            document.getElementById('pending-goals-mobile').textContent = pendingGoals;
            document.getElementById('high-priority-mobile').textContent = highPriorityGoals;
            document.getElementById('current-streaks-mobile').textContent = currentStreaks;
            document.getElementById('best-streak-mobile').textContent = bestStreak;
            document.getElementById('recurring-goals-mobile').textContent = recurringGoals;
            document.getElementById('active-categories-mobile').textContent = activeCategories;
            document.getElementById('daily-progress-bar-mobile').style.width = `${progressPercentage}%`;
            document.getElementById('progress-text-mobile').textContent = `${progressPercentage}% completed`;
            
            // Update goals list for desktop
            const goalsList = document.getElementById('goals-list');
            if (filteredGoals.length === 0) {
                goalsList.innerHTML = '<div class="empty-goals">No goals found for this filter</div>';
            } else {
                goalsList.innerHTML = filteredGoals.map(goal => {
                    const isRecurring = goal.frequency !== 'once';
                    const hasStreak = goal.streak > 0;
                    const lastCompleted = goal.completedDates && goal.completedDates.length > 0 
                        ? new Date(goal.completedDates[goal.completedDates.length - 1])
                        : null;
                    
                    return `
                        <div class="goal-item ${goal.completed ? 'completed' : ''} ${priorityData[goal.priority]}">
                            <div class="goal-header">
                                <span>
                                    <i class="fas fa-${categoryData[goal.category]?.icon || 'question-circle'}"></i>
                                    ${goal.title}
                                    ${isRecurring ? `<span class="frequency-badge"><i class="fas fa-${frequencyData[goal.frequency]?.icon || 'sync'}"></i> ${frequencyData[goal.frequency]?.label || goal.frequency}</span>` : ''}
                                    ${hasStreak ? `<span class="streak-badge"><i class="fas fa-fire"></i> ${goal.streak}</span>` : ''}
                                </span>
                                <div>
                                    ${!goal.completed ? 
                                        `<button class="complete-btn" onclick="toggleGoalCompletion(${goal.id})"><i class="fas fa-check"></i> Complete</button>` : 
                                        `<button class="complete-btn" onclick="toggleGoalCompletion(${goal.id})"><i class="fas fa-undo"></i> Undo</button>`
                                    }
                                    <button class="edit-btn" onclick="editGoal(${goal.id})"><i class="fas fa-edit"></i> Edit</button>
                                    <button class="delete-btn" onclick="deleteGoal(${goal.id})"><i class="fas fa-trash"></i> Delete</button>
                                </div>
                            </div>
                            ${goal.description ? `<div class="goal-description">${goal.description}</div>` : ''}
                            <div>
                                <span class="goal-category ${categoryData[goal.category]?.class || 'category-other'}">
                                    ${goal.category.charAt(0).toUpperCase() + goal.category.slice(1)}
                                </span>
                                <span style="margin-left: 10px; font-size: 0.8rem; color: #666;">
                                    <i class="fas fa-flag"></i> ${goal.priority.charAt(0).toUpperCase() + goal.priority.slice(1)}
                                </span>
                                ${goal.estimatedTime > 0 ? `<span style="margin-left: 10px; font-size: 0.8rem; color: #666;">
                                    <i class="fas fa-clock"></i> ${goal.estimatedTime}m
                                </span>` : ''}
                            </div>
                            ${goal.dueDate ? `<div class="goal-time"><i class="far fa-calendar"></i> Due: ${formatDate(new Date(goal.dueDate))}</div>` : ''}
                            ${lastCompleted ? `<div class="goal-time"><i class="fas fa-history"></i> Last completed: ${formatDateTime(lastCompleted)}</div>` : ''}
                            ${goal.bestStreak > 1 ? `<div class="goal-time"><i class="fas fa-trophy"></i> Best streak: ${goal.bestStreak} days</div>` : ''}
                            <div class="goal-time"><i class="far fa-clock"></i> Created: ${formatDateTime(new Date(goal.createdDate))}</div>
                        </div>
                    `;
                }).join('');
            }
            
            // Update goals list for mobile
            const goalsListMobile = document.getElementById('goals-list-mobile');
            if (filteredGoals.length === 0) {
                goalsListMobile.innerHTML = '<div class="empty-goals">No goals for this filter</div>';
            } else {
                goalsListMobile.innerHTML = filteredGoals.map(goal => {
                    const isRecurring = goal.frequency !== 'once';
                    const hasStreak = goal.streak > 0;
                    
                    return `
                        <div class="goal-item ${goal.completed ? 'completed' : ''} ${priorityData[goal.priority]}">
                            <div class="goal-header">
                                <span>
                                    <i class="fas fa-${categoryData[goal.category]?.icon || 'question-circle'}"></i>
                                    ${goal.title.length > 20 ? goal.title.substring(0, 20) + '...' : goal.title}
                                    ${isRecurring ? `<span class="frequency-badge"><i class="fas fa-${frequencyData[goal.frequency]?.icon || 'sync'}"></i></span>` : ''}
                                    ${hasStreak ? `<span class="streak-badge">${goal.streak}</span>` : ''}
                                </span>
                                <div>
                                    ${!goal.completed ? 
                                        `<button class="complete-btn" onclick="toggleGoalCompletion(${goal.id})"><i class="fas fa-check"></i></button>` : 
                                        `<button class="complete-btn" onclick="toggleGoalCompletion(${goal.id})"><i class="fas fa-undo"></i></button>`
                                    }
                                    <button class="edit-btn" onclick="editGoal(${goal.id})"><i class="fas fa-edit"></i></button>
                                    <button class="delete-btn" onclick="deleteGoal(${goal.id})"><i class="fas fa-trash"></i></button>
                                </div>
                            </div>
                            <div>
                                <span class="goal-category ${categoryData[goal.category]?.class || 'category-other'}">
                                    ${goal.category}
                                </span>
                                <span style="margin-left: 5px; font-size: 0.7rem;">
                                    <i class="fas fa-flag"></i> ${goal.priority}
                                </span>
                            </div>
                            ${goal.completed ? `<div class="goal-time"><i class="fas fa-check-circle"></i> Completed</div>` : ''}
                        </div>
                    `;
                }).join('');
            }
        }

        function formatDate(date) {
            return date.toLocaleDateString([], { month: 'short', day: 'numeric', year: 'numeric' });
        }

        function formatDateTime(date) {
            return date.toLocaleDateString([], { month: 'short', day: 'numeric' }) + ' ' + 
                   date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        function exportToCSV() {
            if (goalsData.length === 0) {
                showNotification('No goals to export', 'warning');
                return;
            }
            
            let csv = 'ID,Title,Description,Category,Priority,Frequency,Estimated Time (min),Due Date,Streak Target,Completed,Streak,Best Streak,Created Date\n';
            
            goalsData.forEach(goal => {
                const title = `"${goal.title.replace(/"/g, '""')}"`;
                const description = goal.description ? `"${goal.description.replace(/"/g, '""')}"` : '';
                const category = goal.category;
                const priority = goal.priority;
                const frequency = goal.frequency;
                const estimatedTime = goal.estimatedTime || '';
                const dueDate = goal.dueDate ? `"${formatDate(new Date(goal.dueDate))}"` : '';
                const streakTarget = goal.streakTarget || '';
                const completed = goal.completed ? 'Yes' : 'No';
                const streak = goal.streak || 0;
                const bestStreak = goal.bestStreak || 0;
                const createdDate = `"${formatDateTime(new Date(goal.createdDate))}"`;
                
                csv += `${goal.id},${title},${description},${category},${priority},${frequency},${estimatedTime},${dueDate},${streakTarget},${completed},${streak},${bestStreak},${createdDate}\n`;
            });
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.setAttribute('hidden', '');
            a.setAttribute('href', url);
            a.setAttribute('download', 'daily_goals.csv');
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showNotification('Goals exported successfully', 'success');
        }

        function clearAllData() {
            if (confirm('Are you sure you want to clear all goals? This cannot be undone.')) {
                goalsData = [];
                localStorage.removeItem('dailyGoalsData');
                updateDisplay();
                showNotification('All goals cleared', 'success');
            }
        }

        function enableNotifications() {
            if ('Notification' in window) {
                Notification.requestPermission().then(permission => {
                    if (permission === 'granted') {
                        showNotification('Notifications enabled successfully!', 'success');
                    } else {
                        showNotification('Notifications blocked by browser', 'warning');
                    }
                });
            } else {
                showNotification('Notifications not supported by your browser', 'error');
            }
        }

        function saveReminderSettings() {
            settings.reminderTime = document.getElementById('reminder-time').value;
            settings.reminderFrequency = document.getElementById('reminder-frequency').value;
            saveSettings();
            showNotification('Reminder settings saved', 'success');
        }

        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Make functions available globally
        window.toggleGoalCompletion = toggleGoalCompletion;
        window.deleteGoal = deleteGoal;
        window.editGoal = editGoal;
    </script>
</body>
</html>