<!-- Category: Health -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ovulation Calculator</title>
    <link rel="stylesheet" href="ht
        tps://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ffecd2, #fcb69f, #ff8a80);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        /* Desktop Styles */
        .desktop-view {
            display: block;
        }
        
        .mobile-view {
            display: none;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 20px;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: #d81b60;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #7a1b42;
            max-width: 600px;
            margin: 0 auto 20px;
        }
        
        .calculator-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 35px;
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            border: 1px solid rgba(216, 27, 96, 0.2);
        }
        
        .tabs {
            display: flex;
            margin-bottom: 25px;
            background: #fff5f7;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            color: #d81b60;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            background: #d81b60;
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            font-size: 1.1rem;
            color: #d81b60;
        }
        
        input, select {
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            border: 2px solid #e0e0e0;
            background: white;
            color: #333;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #d81b60;
            box-shadow: 0 0 0 4px rgba(216, 27, 96, 0.2);
        }
        
        .range-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .range-value {
            min-width: 60px;
            text-align: center;
            font-weight: 600;
            color: #d81b60;
        }
        
        button {
            background: linear-gradient(135deg, #d81b60, #c2185b);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            font-weight: 600;
            box-shadow: 0 6px 20px rgba(216, 27, 96, 0.4);
            margin-top: 10px;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(216, 27, 96, 0.5);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .results {
            margin-top: 30px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            display: none;
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(216, 27, 96, 0.2);
        }
        
        .results h2 {
            margin-bottom: 25px;
            text-align: center;
            color: #d81b60;
            font-size: 2rem;
        }
        
        .ovulation-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .info-card {
            background: #fff5f7;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            border-left: 5px solid #d81b60;
            transition: transform 0.3s ease;
        }
        
        .info-card:hover {
            transform: translateY(-5px);
        }
        
        .info-icon {
            font-size: 2.5rem;
            color: #d81b60;
            margin-bottom: 15px;
        }
        
        .info-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: #d81b60;
        }
        
        .info-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
        }
        
        .fertility-window {
            margin-top: 35px;
            padding: 25px;
            background: #fff5f7;
            border-radius: 15px;
            border-left: 5px solid #d81b60;
        }
        
        .window-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #d81b60;
            text-align: center;
        }
        
        .window-dates {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .window-date {
            text-align: center;
            flex: 1;
            min-width: 150px;
        }
        
        .date-label {
            font-size: 1rem;
            color: #666;
            margin-bottom: 8px;
        }
        
        .date-value {
            font-size: 1.2rem;
            font-weight: 600;
            color: #d81b60;
        }
        
        .cycle-progress {
            margin-top: 35px;
        }
        
        .cycle-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
            color: #d81b60;
        }
        
        .progress-container {
            background: #e0e0e0;
            height: 25px;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 15px;
            position: relative;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff8a80, #d81b60);
            border-radius: 12px;
            transition: width 1.5s ease;
            position: relative;
        }
        
        .progress-marker {
            position: absolute;
            top: 0;
            height: 100%;
            width: 3px;
            background: #333;
        }
        
        .progress-text {
            text-align: center;
            font-size: 1.1rem;
            color: #666;
            font-weight: 500;
        }
        
        .notification-section {
            margin-top: 35px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(216, 27, 96, 0.2);
        }
        
        .notification-section h2 {
            margin-bottom: 25px;
            text-align: center;
            color: #d81b60;
            font-size: 2rem;
        }
        
        .reminder-controls {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .reminder-controls button {
            flex: 1;
            min-width: 200px;
        }
        
        .history-section {
            margin-top: 35px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(216, 27, 96, 0.2);
        }
        
        .history-section h2 {
            margin-bottom: 25px;
            text-align: center;
            color: #d81b60;
            font-size: 2rem;
        }
        
        .history-list {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .history-item {
            padding: 20px;
            background: #fff5f7;
            border-radius: 12px;
            margin-bottom: 15px;
            border-left: 4px solid #d81b60;
            transition: all 0.3s ease;
        }
        
        .history-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .cycle-chart {
            margin-top: 35px;
            padding: 25px;
            background: #fff5f7;
            border-radius: 15px;
            border-left: 5px solid #d81b60;
        }
        
        .chart-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #d81b60;
            text-align: center;
        }
        
        .chart-container {
            height: 200px;
            display: flex;
            align-items: flex-end;
            gap: 10px;
            padding: 20px;
            background: white;
            border-radius: 10px;
        }
        
        .chart-bar {
            flex: 1;
            background: linear-gradient(to top, #d81b60, #ff8a80);
            border-radius: 5px 5px 0 0;
            position: relative;
            min-width: 20px;
        }
        
        .chart-bar-label {
            position: absolute;
            bottom: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 0.8rem;
            color: #666;
        }
        
        .chart-bar-value {
            position: absolute;
            top: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            color: #d81b60;
        }
        
        .tips-section {
            margin-top: 35px;
            padding: 25px;
            background: #fff5f7;
            border-radius: 15px;
            border-left: 5px solid #d81b60;
        }
        
        .tips-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #d81b60;
            text-align: center;
        }
        
        .tips-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .tip-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        
        .tip-card h4 {
            color: #d81b60;
            margin-bottom: 10px;
        }
        
        /* Mobile Styles */
        @media (max-width: 768px) {
            .desktop-view {
                display: none;
            }
            
            .mobile-view {
                display: block;
            }
            
            body {
                padding: 0;
                background: linear-gradient(135deg, #ffecd2, #fcb69f);
            }
            
            .mobile-header {
                height: 50px;
                background: rgba(255, 255, 255, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 0 15px;
                box-shadow: 0 2px 15px rgba(0,0,0,0.1);
                position: sticky;
                top: 0;
                z-index: 100;
            }
            
            .mobile-header h1 {
                font-size: 1.4rem;
                margin: 0;
                color: #d81b60;
            }
            
            .mobile-content {
                padding: 20px;
            }
            
            .calculator-card {
                padding: 20px;
                margin-bottom: 20px;
                background: rgba(255, 255, 255, 0.95);
                border-radius: 15px;
            }
            
            .tabs {
                margin-bottom: 20px;
            }
            
            .tab {
                padding: 12px;
                font-size: 0.9rem;
            }
            
            label {
                font-size: 1rem;
            }
            
            input, select {
                padding: 12px;
                font-size: 1rem;
            }
            
            .range-container {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }
            
            button {
                padding: 14px;
                font-size: 1.1rem;
            }
            
            .results {
                padding: 20px;
                background: rgba(255, 255, 255, 0.95);
                border-radius: 15px;
            }
            
            .results h2 {
                font-size: 1.5rem;
                margin-bottom: 20px;
            }
            
            .ovulation-info {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .info-card {
                padding: 20px;
            }
            
            .info-icon {
                font-size: 2rem;
            }
            
            .info-value {
                font-size: 1.3rem;
            }
            
            .fertility-window {
                padding: 20px;
                margin-top: 25px;
            }
            
            .window-title {
                font-size: 1.3rem;
                margin-bottom: 15px;
            }
            
            .window-dates {
                flex-direction: column;
                gap: 15px;
            }
            
            .notification-section, .history-section {
                padding: 20px;
                margin-top: 25px;
                background: rgba(255, 255, 255, 0.95);
                border-radius: 15px;
            }
            
            .notification-section h2, .history-section h2 {
                font-size: 1.5rem;
                margin-bottom: 20px;
            }
            
            .reminder-controls {
                flex-direction: column;
                gap: 15px;
            }
            
            .cycle-progress {
                margin-top: 25px;
            }
            
            .cycle-title {
                font-size: 1.3rem;
                margin-bottom: 15px;
            }
            
            .chart-container {
                height: 150px;
                padding: 15px;
            }
            
            .tips-section {
                padding: 20px;
                margin-top: 25px;
            }
            
            .tips-title {
                font-size: 1.3rem;
                margin-bottom: 15px;
            }
            
            .tips-list {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .tip-card {
                padding: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .window-date {
                min-width: 120px;
            }
            
            .date-value {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Desktop View -->
    <div class="desktop-view">
        <div class="container">
            <header>
                <h1><i class="fas fa-seedling"></i>Ovulation Calculator</h1>
                <p class="subtitle">Track your fertility window, predict ovulation, and optimize your chances of conception</p>
            </header>
            
            <div class="calculator-card">
                <div class="tabs">
                    <div class="tab active" data-tab="basic">Basic Calculator</div>
                    <div class="tab" data-tab="advanced">Advanced Tracking</div>
                    <div class="tab" data-tab="symptoms">Symptom Tracker</div>
                </div>
                
                <div class="tab-content active" id="basic-tab">
                    <div class="input-group">
                        <label for="firstDay"><i class="fas fa-calendar-day"></i> First Day of Last Menstrual Period</label>
                        <input type="date" id="firstDay">
                    </div>
                    
                    <div class="input-group">
                        <label for="cycleLength"><i class="fas fa-sync-alt"></i> Menstrual Cycle Length (days)</label>
                        <div class="range-container">
                            <input type="range" id="cycleLength" min="21" max="45" value="28">
                            <span class="range-value" id="cycleLengthValue">28</span>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="periodLength"><i class="fas fa-clock"></i> Period Length (days)</label>
                        <div class="range-container">
                            <input type="range" id="periodLength" min="2" max="10" value="5">
                            <span class="range-value" id="periodLengthValue">5</span>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="advanced-tab">
                    <div class="input-group">
                        <label for="lutealPhase"><i class="fas fa-moon"></i> Luteal Phase Length (days)</label>
                        <div class="range-container">
                            <input type="range" id="lutealPhase" min="10" max="18" value="14">
                            <span class="range-value" id="lutealPhaseValue">14</span>
                        </div>
                        <small>Luteal phase is typically 12-16 days</small>
                    </div>
                    
                    <div class="input-group">
                        <label for="cycleRegularity"><i class="fas fa-chart-line"></i> Cycle Regularity</label>
                        <select id="cycleRegularity">
                            <option value="regular">Regular (±2 days)</option>
                            <option value="irregular">Irregular (±5+ days)</option>
                            <option value="very_irregular">Very Irregular</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="lastOvulation"><i class="fas fa-history"></i> Last Confirmed Ovulation Date (if known)</label>
                        <input type="date" id="lastOvulation">
                    </div>
                </div>
                
                <div class="tab-content" id="symptoms-tab">
                    <div class="input-group">
                        <label><i class="fas fa-thermometer-half"></i> Basal Body Temperature (BBT) Tracking</label>
                        <select id="bBTracking">
                            <option value="no">Not tracking</option>
                            <option value="yes">Yes, tracking daily</option>
                            <option value="sometimes">Sometimes track</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label><i class="fas fa-droplet"></i> Cervical Mucus Tracking</label>
                        <select id="cmTracking">
                            <option value="no">Not tracking</option>
                            <option value="yes">Yes, tracking daily</option>
                            <option value="sometimes">Sometimes track</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label><i class="fas fa-heartbeat"></i> LH Test Kit Usage</label>
                        <select id="lhTracking">
                            <option value="no">Not using</option>
                            <option value="yes">Yes, testing regularly</option>
                            <option value="sometimes">Sometimes test</option>
                        </select>
                    </div>
                </div>
                
                <button id="calculateBtn"><i class="fas fa-calculator"></i> Calculate Ovulation</button>
            </div>
            
            <div class="results" id="results">
                <h2><i class="fas fa-star"></i> Your Fertility Information</h2>
                <div class="ovulation-info">
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-calendar-check"></i></div>
                        <div class="info-title">Ovulation Date</div>
                        <div class="info-value" id="ovulationDate">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-hourglass-half"></i></div>
                        <div class="info-title">Fertile Window</div>
                        <div class="info-value" id="fertileDays">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-calendar-plus"></i></div>
                        <div class="info-title">Next Period</div>
                        <div class="info-value" id="nextPeriod">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-baby"></i></div>
                        <div class="info-title">Conception Chance</div>
                        <div class="info-value" id="conceptionChance">High</div>
                    </div>
                </div>
                
                <div class="fertility-window">
                    <div class="window-title"><i class="fas fa-calendar-alt"></i> Detailed Fertility Window</div>
                    <div class="window-dates">
                        <div class="window-date">
                            <div class="date-label">Start of Fertile Window</div>
                            <div class="date-value" id="fertileStart">-</div>
                        </div>
                        <div class="window-date">
                            <div class="date-label">Peak Fertility</div>
                            <div class="date-value" id="peakFertility">-</div>
                        </div>
                        <div class="window-date">
                            <div class="date-label">End of Fertile Window</div>
                            <div class="date-value" id="fertileEnd">-</div>
                        </div>
                    </div>
                </div>
                
                <div class="cycle-chart">
                    <div class="chart-title"><i class="fas fa-chart-bar"></i> Cycle Overview</div>
                    <div class="chart-container" id="cycleChart">
                        <!-- Chart bars will be generated by JavaScript -->
                    </div>
                </div>
                
                <div class="cycle-progress">
                    <div class="cycle-title"><i class="fas fa-sync"></i> Current Cycle Progress</div>
                    <div class="progress-container">
                        <div class="progress-bar" id="progressBar" style="width: 0%">
                            <div class="progress-marker" id="ovulationMarker" style="left: 50%;"></div>
                        </div>
                    </div>
                    <div class="progress-text" id="progressText">0% completed</div>
                </div>
            </div>
            
            <div class="tips-section">
                <div class="tips-title"><i class="fas fa-lightbulb"></i> Fertility Tips</div>
                <div class="tips-list">
                    <div class="tip-card">
                        <h4><i class="fas fa-heart"></i> Best Days to Conceive</h4>
                        <p>The two days before ovulation and the day of ovulation are your most fertile days.</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-bed"></i> Timing Intercourse</h4>
                        <p>Having intercourse every other day during your fertile window increases chances.</p>
                    </div>
                    <div class="tip-card">
                        <h4><i class="fas fa-apple-alt"></i> Healthy Lifestyle</h4>
                        <p>Maintain a healthy weight, eat nutritious foods, and reduce stress for optimal fertility.</p>
                    </div>
                </div>
            </div>
            
            <div class="notification-section">
                <h2><i class="fas fa-bell"></i> Fertility Reminders</h2>
                <p>Set reminders for your fertile window and important fertility milestones</p>
                <div class="reminder-controls">
                    <button id="setReminderBtn"><i class="fas fa-bell"></i> Set Fertility Reminder</button>
                    <button id="setDailyReminderBtn"><i class="fas fa-sun"></i> Set Daily Tracker Reminder</button>
                    <button id="cancelReminderBtn"><i class="fas fa-times"></i> Cancel Reminder</button>
                </div>
                <p id="reminderStatus" style="margin-top: 20px; text-align: center; font-weight: 500;"></p>
            </div>
            
            <div class="history-section">
                <h2><i class="fas fa-history"></i> Your Cycle History</h2>
                <div class="history-list" id="historyList"></div>
            </div>
        </div>
    </div>
    
    <!-- Mobile View -->
    <div class="mobile-view">
        <div class="mobile-header">
            <h1><i class="fas fa-seedling"></i> Ovulation Calculator</h1>
        </div>
        
        <div class="mobile-content">
            <div class="calculator-card">
                <div class="tabs">
                    <div class="tab active" data-tab="mobile-basic">Basic</div>
                    <div class="tab" data-tab="mobile-advanced">Advanced</div>
                </div>
                
                <div class="tab-content active" id="mobile-basic-tab">
                    <div class="input-group">
                        <label for="mobileFirstDay">Last Period Date</label>
                        <input type="date" id="mobileFirstDay">
                    </div>
                    
                    <div class="input-group">
                        <label for="mobileCycleLength">Cycle Length (days)</label>
                        <div class="range-container">
                            <input type="range" id="mobileCycleLength" min="21" max="45" value="28">
                            <span class="range-value" id="mobileCycleLengthValue">28</span>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="mobilePeriodLength">Period Length (days)</label>
                        <div class="range-container">
                            <input type="range" id="mobilePeriodLength" min="2" max="10" value="5">
                            <span class="range-value" id="mobilePeriodLengthValue">5</span>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="mobile-advanced-tab">
                    <div class="input-group">
                        <label for="mobileLutealPhase">Luteal Phase (days)</label>
                        <div class="range-container">
                            <input type="range" id="mobileLutealPhase" min="10" max="18" value="14">
                            <span class="range-value" id="mobileLutealPhaseValue">14</span>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="mobileCycleRegularity">Cycle Regularity</label>
                        <select id="mobileCycleRegularity">
                            <option value="regular">Regular (±2 days)</option>
                            <option value="irregular">Irregular (±5+ days)</option>
                            <option value="very_irregular">Very Irregular</option>
                        </select>
                    </div>
                </div>
                
                <button id="mobileCalculateBtn"><i class="fas fa-calculator"></i> Calculate Ovulation</button>
            </div>
            
            <div class="results" id="mobileResults">
                <h2><i class="fas fa-star"></i> Fertility Information</h2>
                <div class="ovulation-info">
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-calendar-check"></i></div>
                        <div class="info-title">Ovulation Date</div>
                        <div class="info-value" id="mobileOvulationDate">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-hourglass-half"></i></div>
                        <div class="info-title">Fertile Window</div>
                        <div class="info-value" id="mobileFertileDays">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-calendar-plus"></i></div>
                        <div class="info-title">Next Period</div>
                        <div class="info-value" id="mobileNextPeriod">-</div>
                    </div>
                    <div class="info-card">
                        <div class="info-icon"><i class="fas fa-baby"></i></div>
                        <div class="info-title">Conception Chance</div>
                        <div class="info-value" id="mobileConceptionChance">High</div>
                    </div>
                </div>
                
                <div class="fertility-window">
                    <div class="window-title"><i class="fas fa-calendar-alt"></i> Fertility Window</div>
                    <div class="window-dates">
                        <div class="window-date">
                            <div class="date-label">Start</div>
                            <div class="date-value" id="mobileFertileStart">-</div>
                        </div>
                        <div class="window-date">
                            <div class="date-label">Peak</div>
                            <div class="date-value" id="mobilePeakFertility">-</div>
                        </div>
                        <div class="window-date">
                            <div class="date-label">End</div>
                            <div class="date-value" id="mobileFertileEnd">-</div>
                        </div>
                    </div>
                </div>
                
                <div class="cycle-progress">
                    <div class="cycle-title"><i class="fas fa-sync"></i> Cycle Progress</div>
                    <div class="progress-container">
                        <div class="progress-bar" id="mobileProgressBar" style="width: 0%">
                            <div class="progress-marker" id="mobileOvulationMarker" style="left: 50%;"></div>
                        </div>
                    </div>
                    <div class="progress-text" id="mobileProgressText">0%</div>
                </div>
            </div>
            
            <div class="notification-section">
                <h2><i class="fas fa-bell"></i> Reminders</h2>
                <div class="reminder-controls">
                    <button id="mobileSetReminderBtn"><i class="fas fa-bell"></i> Set Fertility Reminder</button>
                    <button id="mobileSetDailyReminderBtn"><i class="fas fa-sun"></i> Set Daily Reminder</button>
                    <button id="mobileCancelReminderBtn"><i class="fas fa-times"></i> Cancel Reminders</button>
                </div>
                <p id="mobileReminderStatus" style="margin-top: 15px; text-align: center;"></p>
            </div>
            
            <div class="history-section">
                <h2><i class="fas fa-history"></i> Cycle History</h2>
                <div class="history-list" id="mobileHistoryList"></div>
            </div>
        </div>
    </div>

    <script>
        // Check if device is mobile
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        // DOM Elements
        const firstDayInput = isMobile ? document.getElementById('mobileFirstDay') : document.getElementById('firstDay');
        const cycleLengthInput = isMobile ? document.getElementById('mobileCycleLength') : document.getElementById('cycleLength');
        const periodLengthInput = isMobile ? document.getElementById('mobilePeriodLength') : document.getElementById('periodLength');
        const lutealPhaseInput = isMobile ? document.getElementById('mobileLutealPhase') : document.getElementById('lutealPhase');
        const cycleRegularitySelect = isMobile ? document.getElementById('mobileCycleRegularity') : document.getElementById('cycleRegularity');
        const calculateBtn = isMobile ? document.getElementById('mobileCalculateBtn') : document.getElementById('calculateBtn');
        const resultsDiv = isMobile ? document.getElementById('mobileResults') : document.getElementById('results');
        
        // Result elements
        const ovulationDateElement = isMobile ? document.getElementById('mobileOvulationDate') : document.getElementById('ovulationDate');
        const fertileDaysElement = isMobile ? document.getElementById('mobileFertileDays') : document.getElementById('fertileDays');
        const nextPeriodElement = isMobile ? document.getElementById('mobileNextPeriod') : document.getElementById('nextPeriod');
        const fertileStartElement = isMobile ? document.getElementById('mobileFertileStart') : document.getElementById('fertileStart');
        const peakFertilityElement = isMobile ? document.getElementById('mobilePeakFertility') : document.getElementById('peakFertility');
        const fertileEndElement = isMobile ? document.getElementById('mobileFertileEnd') : document.getElementById('fertileEnd');
        const progressBar = isMobile ? document.getElementById('mobileProgressBar') : document.getElementById('progressBar');
        const progressText = isMobile ? document.getElementById('mobileProgressText') : document.getElementById('progressText');
        const ovulationMarker = isMobile ? document.getElementById('mobileOvulationMarker') : document.getElementById('ovulationMarker');
        const cycleChart = isMobile ? null : document.getElementById('cycleChart');
        const conceptionChanceElement = isMobile ? document.getElementById('mobileConceptionChance') : document.getElementById('conceptionChance');
        
        // Range value displays
        const cycleLengthValue = isMobile ? document.getElementById('mobileCycleLengthValue') : document.getElementById('cycleLengthValue');
        const periodLengthValue = isMobile ? document.getElementById('mobilePeriodLengthValue') : document.getElementById('periodLengthValue');
        const lutealPhaseValue = isMobile ? document.getElementById('mobileLutealPhaseValue') : document.getElementById('lutealPhaseValue');
        
        // Reminder elements
        const setReminderBtn = isMobile ? document.getElementById('mobileSetReminderBtn') : document.getElementById('setReminderBtn');
        const setDailyReminderBtn = isMobile ? document.getElementById('mobileSetDailyReminderBtn') : document.getElementById('setDailyReminderBtn');
        const cancelReminderBtn = isMobile ? document.getElementById('mobileCancelReminderBtn') : document.getElementById('cancelReminderBtn');
        const reminderStatus = isMobile ? document.getElementById('mobileReminderStatus') : document.getElementById('reminderStatus');
        const historyList = isMobile ? document.getElementById('mobileHistoryList') : document.getElementById('historyList');
        
        // Tab functionality
        if (!isMobile) {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs and content
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    tab.classList.add('active');
                    
                    // Show corresponding content
                    const tabName = tab.getAttribute('data-tab');
                    document.getElementById(`${tabName}-tab`).classList.add('active');
                });
            });
        } else {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    tab.classList.add('active');
                    const tabName = tab.getAttribute('data-tab');
                    document.getElementById(`mobile-${tabName}-tab`).classList.add('active');
                });
            });
        }
        
        // Range input listeners
        if (cycleLengthInput) {
            cycleLengthInput.addEventListener('input', () => {
                cycleLengthValue.textContent = cycleLengthInput.value;
            });
        }
        
        if (periodLengthInput) {
            periodLengthInput.addEventListener('input', () => {
                periodLengthValue.textContent = periodLengthInput.value;
            });
        }
        
        if (lutealPhaseInput) {
            lutealPhaseInput.addEventListener('input', () => {
                lutealPhaseValue.textContent = lutealPhaseInput.value;
            });
        }
        
        // Load saved data
        function loadSavedData() {
            const savedHistory = localStorage.getItem('ovulationHistory');
            if (savedHistory) {
                const history = JSON.parse(savedHistory);
                updateHistoryDisplay(history);
            }
            
            const savedReminder = localStorage.getItem('ovulationReminder');
            if (savedReminder) {
                const reminder = JSON.parse(savedReminder);
                updateReminderStatus(reminder);
            }
            
            const savedDailyReminder = localStorage.getItem('dailyTrackerReminder');
            if (savedDailyReminder) {
                const dailyReminder = JSON.parse(savedDailyReminder);
                updateReminderStatus(dailyReminder);
            }
        }
        
        // Save to localStorage
        function saveToStorage(key, data) {
            localStorage.setItem(key, JSON.stringify(data));
        }
        
        // Calculate ovulation information
        function calculateOvulation(firstDay, cycleLength, periodLength, lutealPhase, cycleRegularity) {
            const startDate = new Date(firstDay);
            const cycle = parseInt(cycleLength);
            const period = parseInt(periodLength);
            const luteal = parseInt(lutealPhase);
            
            // Ovulation occurs luteal days before next period
            const ovulationDay = cycle - luteal;
            const ovulationDate = new Date(startDate);
            ovulationDate.setDate(ovulationDate.getDate() + ovulationDay);
            
            // Fertile window (5 days before ovulation to 1 day after)
            const fertileStart = new Date(ovulationDate);
            fertileStart.setDate(fertileStart.getDate() - 5);
            
            const fertileEnd = new Date(ovulationDate);
            fertileEnd.setDate(fertileEnd.getDate() + 1);
            
            // Next period
            const nextPeriod = new Date(startDate);
            nextPeriod.setDate(nextPeriod.getDate() + cycle);
            
            // Current cycle progress
            const today = new Date();
            const cycleStart = new Date(startDate);
            let currentCycleStart = cycleStart;
            
            // Find current cycle start
            while (currentCycleStart < today) {
                const nextCycleStart = new Date(currentCycleStart);
                nextCycleStart.setDate(nextCycleStart.getDate() + cycle);
                if (nextCycleStart > today) break;
                currentCycleStart = nextCycleStart;
            }
            
            const cycleEnd = new Date(currentCycleStart);
            cycleEnd.setDate(cycleEnd.getDate() + cycle);
            
            const totalCycleDays = cycle;
            const daysPassed = Math.floor((today - currentCycleStart) / (1000 * 60 * 60 * 24));
            const progressPercent = Math.min(100, Math.max(0, (daysPassed / totalCycleDays) * 100));
            
            // Ovulation marker position
            const ovulationPosition = (ovulationDay / cycle) * 100;
            
            // Conception chance based on cycle regularity
            let conceptionChance = "High";
            if (cycleRegularity === "irregular") {
                conceptionChance = "Moderate";
            } else if (cycleRegularity === "very_irregular") {
                conceptionChance = "Variable";
            }
            
            return {
                ovulationDate: ovulationDate,
                fertileStart: fertileStart,
                fertileEnd: fertileEnd,
                peakFertility: ovulationDate,
                nextPeriod: nextPeriod,
                fertileDays: 6, // 5 days before + ovulation day + 1 day after
                progressPercent: progressPercent,
                ovulationPosition: ovulationPosition,
                cycleStart: currentCycleStart,
                cycleEnd: cycleEnd,
                conceptionChance: conceptionChance
            };
        }
        
        // Generate cycle chart
        function generateCycleChart(cycleLength, ovulationDay) {
            if (!cycleChart) return;
            
            cycleChart.innerHTML = '';
            
            for (let i = 1; i <= cycleLength; i++) {
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                
                // Height based on cycle phase
                let heightPercent = 30;
                if (i >= ovulationDay - 3 && i <= ovulationDay + 3) {
                    heightPercent = 80; // Fertile window
                } else if (i > ovulationDay) {
                    heightPercent = 60; // Luteal phase
                }
                
                bar.style.height = `${heightPercent}%`;
                
                // Highlight ovulation day
                if (i === ovulationDay) {
                    bar.style.background = 'linear-gradient(to top, #4caf50, #8bc34a)';
                }
                
                const value = document.createElement('div');
                value.className = 'chart-bar-value';
                value.textContent = i;
                
                const label = document.createElement('div');
                label.className = 'chart-bar-label';
                label.textContent = i;
                
                bar.appendChild(value);
                bar.appendChild(label);
                cycleChart.appendChild(bar);
            }
        }
        
        // Display results
        function displayResults(info, cycleLength) {
            ovulationDateElement.textContent = info.ovulationDate.toLocaleDateString();
            fertileDaysElement.textContent = `${info.fertileDays} days`;
            if (nextPeriodElement) nextPeriodElement.textContent = info.nextPeriod.toLocaleDateString();
            fertileStartElement.textContent = info.fertileStart.toLocaleDateString();
            peakFertilityElement.textContent = info.peakFertility.toLocaleDateString();
            fertileEndElement.textContent = info.fertileEnd.toLocaleDateString();
            progressBar.style.width = `${info.progressPercent}%`;
            progressText.textContent = `${Math.round(info.progressPercent)}% completed`;
            ovulationMarker.style.left = `${info.ovulationPosition}%`;
            
            if (conceptionChanceElement) {
                conceptionChanceElement.textContent = info.conceptionChance;
            }
            
            // Generate chart (desktop only)
            if (cycleChart) {
                const ovulationDay = Math.floor((info.peakFertility - info.cycleStart) / (1000 * 60 * 60 * 24)) + 1;
                generateCycleChart(parseInt(cycleLength), ovulationDay);
            }
            
            resultsDiv.style.display = 'block';
        }
        
        // Update history display
        function updateHistoryDisplay(history) {
            const historyListElement = isMobile ? document.getElementById('mobileHistoryList') : document.getElementById('historyList');
            historyListElement.innerHTML = '';
            
            if (history.length === 0) {
                historyListElement.innerHTML = '<p style="text-align: center; opacity: 0.7; padding: 20px;">No history yet. Calculate your first ovulation to see it here!</p>';
                return;
            }
            
            // Show last 5 entries
            const recentHistory = history.slice(-5).reverse();
            
            recentHistory.forEach(entry => {
                const historyElement = document.createElement('div');
                historyElement.className = 'history-item';
                historyElement.innerHTML = `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <strong style="color: #d81b60;">Ovulation:</strong>
                        <span>${new Date(entry.ovulationDate).toLocaleDateString()}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <strong style="color: #d81b60;">Cycle Length:</strong>
                        <span>${entry.cycleLength} days</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 0.9rem; color: #666;">
                        <span>Calculated:</span>
                        <span>${new Date(entry.timestamp).toLocaleDateString()}</span>
                    </div>
                `;
                historyListElement.appendChild(historyElement);
            });
        }
        
        // Add to history
        function addToHistory(firstDay, cycleLength, periodLength, info) {
            const history = JSON.parse(localStorage.getItem('ovulationHistory') || '[]');
            
            history.push({
                firstDay: firstDay,
                cycleLength: cycleLength,
                periodLength: periodLength,
                ovulationDate: info.ovulationDate.toISOString(),
                fertileStart: info.fertileStart.toISOString(),
                fertileEnd: info.fertileEnd.toISOString(),
                nextPeriod: info.nextPeriod.toISOString(),
                timestamp: new Date().toISOString()
            });
            
            // Keep only last 20 entries
            if (history.length > 20) {
                history.shift();
            }
            
            saveToStorage('ovulationHistory', history);
            updateHistoryDisplay(history);
        }
        
        // Set fertility reminder
        function setFertilityReminder(fertileStart, fertileEnd) {
            const reminder = {
                fertileStart: fertileStart.toISOString(),
                fertileEnd: fertileEnd.toISOString(),
                enabled: true,
                timestamp: new Date().toISOString(),
                type: 'fertility'
            };
            
            saveToStorage('ovulationReminder', reminder);
            updateReminderStatus(reminder);
            
            // Request notification permission
            if ('Notification' in window) {
                Notification.requestPermission().then(permission => {
                    if (permission === 'granted') {
                        const statusElement = isMobile ? document.getElementById('mobileReminderStatus') : document.getElementById('reminderStatus');
                        statusElement.innerHTML += '<br><small style="color: #4caf50;"><i class="fas fa-check"></i> Notifications enabled</small>';
                    }
                });
            }
        }
        
        // Set daily tracker reminder
        function setDailyTrackerReminder() {
            const reminder = {
                type: 'daily',
                enabled: true,
                timestamp: new Date().toISOString()
            };
            
            saveToStorage('dailyTrackerReminder', reminder);
            updateReminderStatus(reminder);
            
            if ('Notification' in window) {
                Notification.requestPermission().then(permission => {
                    if (permission === 'granted') {
                        const statusElement = isMobile ? document.getElementById('mobileReminderStatus') : document.getElementById('reminderStatus');
                        statusElement.innerHTML = '<span style="color: #4caf50;"><i class="fas fa-check"></i> Daily tracker reminder set!</span><br><small>Notifications enabled</small>';
                    }
                });
            }
        }
        
        // Cancel reminder
        function cancelReminder() {
            localStorage.removeItem('ovulationReminder');
            localStorage.removeItem('dailyTrackerReminder');
            const statusElement = isMobile ? document.getElementById('mobileReminderStatus') : document.getElementById('reminderStatus');
            statusElement.innerHTML = '<span style="color: #ff6b6b;"><i class="fas fa-times"></i> All reminders cancelled</span>';
        }
        
        // Update reminder status display
        function updateReminderStatus(reminder) {
            const statusElement = isMobile ? document.getElementById('mobileReminderStatus') : document.getElementById('reminderStatus');
            
            if (reminder && reminder.enabled) {
                if (reminder.type === 'fertility') {
                    const startDate = new Date(reminder.fertileStart);
                    const endDate = new Date(reminder.fertileEnd);
                    statusElement.innerHTML = `<span style="color: #4caf50;"><i class="fas fa-bell"></i> Fertility reminder set</span><br>
                    <small>${startDate.toLocaleDateString()} - ${endDate.toLocaleDateString()}</small>`;
                } else if (reminder.type === 'daily') {
                    statusElement.innerHTML = '<span style="color: #4caf50;"><i class="fas fa-bell"></i> Daily tracker reminder active</span>';
                }
            } else {
                statusElement.innerHTML = '<span style="color: #ff6b6b;"><i class="fas fa-times"></i> No active reminders</span>';
            }
        }
        
        // Show notification (if supported)
        function showNotification(title, body) {
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification(title, {
                    body: body,
                    icon: 'image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">🌸</text></svg>'
                });
            } else if ('serviceWorker' in navigator && 'PushManager' in window) {
                console.log('Push notifications would be sent here');
            }
        }
        
        // Event Listeners
        calculateBtn.addEventListener('click', () => {
            const firstDay = firstDayInput.value;
            const cycleLength = cycleLengthInput.value;
            const periodLength = periodLengthInput.value;
            const lutealPhase = lutealPhaseInput ? lutealPhaseInput.value : (28 - parseInt(cycleLength) + 14);
            const cycleRegularity = cycleRegularitySelect ? cycleRegularitySelect.value : 'regular';
            
            if (!firstDay) {
                alert('Please select the first day of your last menstrual period');
                return;
            }
            
            const info = calculateOvulation(firstDay, cycleLength, periodLength, lutealPhase, cycleRegularity);
            displayResults(info, cycleLength);
            
            // Save to history
            addToHistory(firstDay, cycleLength, periodLength, info);
        });
        
        setReminderBtn.addEventListener('click', () => {
            const firstDay = firstDayInput.value;
            const cycleLength = cycleLengthInput.value;
            const periodLength = periodLengthInput.value;
            const lutealPhase = lutealPhaseInput ? lutealPhaseInput.value : (28 - parseInt(cycleLength) + 14);
            const cycleRegularity = cycleRegularitySelect ? cycleRegularitySelect.value : 'regular';
            
            if (!firstDay) {
                alert('Please calculate your ovulation first');
                return;
            }
            
            const info = calculateOvulation(firstDay, cycleLength, periodLength, lutealPhase, cycleRegularity);
            setFertilityReminder(info.fertileStart, info.fertileEnd);
        });
        
        if (setDailyReminderBtn) {
            setDailyReminderBtn.addEventListener('click', setDailyTrackerReminder);
        }
        
        cancelReminderBtn.addEventListener('click', cancelReminder);
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadSavedData();
            
            // Set default date to 28 days ago
            const defaultDate = new Date();
            defaultDate.setDate(defaultDate.getDate() - 28);
            const dateString = defaultDate.toISOString().split('T')[0];
            
            if (firstDayInput) {
                firstDayInput.value = dateString;
            }
            
            // Initialize range values
            if (cycleLengthValue) cycleLengthValue.textContent = cycleLengthInput.value;
            if (periodLengthValue) periodLengthValue.textContent = periodLengthInput.value;
            if (lutealPhaseValue) lutealPhaseValue.textContent = lutealPhaseInput ? lutealPhaseInput.value : '14';
        });
        
        // Handle notification permission
        if ('Notification' in window) {
            if (Notification.permission === 'default') {
                // Will request when setting reminder
            } else if (Notification.permission === 'granted') {
                const statusElement = isMobile ? document.getElementById('mobileReminderStatus') : document.getElementById('reminderStatus');
                if (statusElement) {
                    statusElement.innerHTML += '<br><small style="color: #4caf50;"><i class="fas fa-check"></i> Notifications enabled</small>';
                }
            }
        }
    </script>
</body>
</html>
