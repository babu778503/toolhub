<!-- Category: Music Tools -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instrument Tuner | Guitar Tuner | Piano Tuner | Ukulele Tuner</title>
    <meta name="description" content="Free online instrument tuner for guitar, piano, ukulele, violin and other string instruments. Accurate pitch detection and tuning aid.">
    <meta name="keywords" content="instrument tuner, guitar tuner, piano tuner, ukulele tuner, violin tuner, pitch detector, music tuner, chromatic tuner, string instrument tuner, online tuner">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            color: white;
            min-height: 100vh;
            padding-top: 50px;
            overflow-x: hidden;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 70px;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .mobile-header {
            height: 50px !important;
        }

        .desktop-header {
            height: 70px;
        }

        .header h1 {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            background: linear-gradient(to right, #ffcc00, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tuner-container {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            text-align: center;
        }

        .visualizer {
            height: 250px;
            margin: 30px 0;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tuner-display {
            width: 100%;
            max-width: 500px;
            height: 250px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .tuner-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .note-display {
            font-size: 6rem;
            font-weight: 800;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255, 204, 0, 0.7);
            position: relative;
            z-index: 2;
        }

        .frequency-display {
            font-size: 2rem;
            margin-bottom: 15px;
            z-index: 2;
        }

        .cents-display {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ffcc00;
            z-index: 2;
        }

        .tuner-needle {
            width: 90%;
            height: 12px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            margin: 25px 0;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
        }

        .needle {
            position: absolute;
            top: 0;
            left: 50%;
            width: 6px;
            height: 30px;
            background: #ffcc00;
            transform: translateX(-50%);
            z-index: 10;
            box-shadow: 0 0 15px rgba(255, 204, 0, 0.8);
            transition: left 0.1s ease;
        }

        .tuner-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            background: linear-gradient(to right, #ff0000, #ffcc00, #00ff00, #ffcc00, #ff0000);
            border-radius: 6px;
        }

        .controls {
            margin: 25px 0;
        }

        .instrument-selector {
            width: 100%;
            max-width: 300px;
            padding: 14px;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            border: 2px solid #4a90e2;
            font-size: 1.1rem;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .instrument-selector:hover {
            background: rgba(74, 144, 226, 0.3);
            border-color: #ffcc00;
        }

        .string-selector {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px;
            margin: 25px 0;
        }

        .string-btn {
            padding: 14px 22px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            border: 2px solid #4a90e2;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .string-btn:hover {
            background: rgba(74, 144, 226, 0.3);
            transform: translateY(-3px);
        }

        .string-btn.active {
            background: linear-gradient(to right, #4a90e2, #ff6b6b);
            border-color: #ffcc00;
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(74, 144, 226, 0.7);
        }

        .status {
            font-size: 1.6rem;
            margin-top: 15px;
            height: 40px;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .instructions {
            background: rgba(0, 0, 0, 0.6);
            padding: 20px;
            border-radius: 12px;
            margin-top: 25px;
            font-size: 1rem;
            line-height: 1.7;
            text-align: left;
        }

        .tuner-settings {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .setting-btn {
            padding: 12px 20px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            border: 2px solid #4a90e2;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .setting-btn:hover {
            background: rgba(74, 144, 226, 0.3);
        }

        .setting-btn.active {
            background: #4a90e2;
            box-shadow: 0 0 15px rgba(74, 144, 226, 0.7);
        }

        .microphone-status {
            margin-top: 15px;
            padding: 10px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.5);
            display: inline-block;
        }

        .data-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .data-btn {
            padding: 10px 20px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            border: 2px solid #4a90e2;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .data-btn:hover {
            background: rgba(74, 144, 226, 0.3);
        }

        .wave-animation {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50px;
            overflow: hidden;
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 100%;
            background: url('image/svg+xml;utf8,<svg viewBox="0 0 1200 120" xmlns="http://www.w3.org/2000/svg" fill="rgba(255,255,255,0.1)"><path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" opacity=".25" /><path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" opacity=".5" /><path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z" /></svg>');
            background-size: 50% 100%;
            animation: wave 12s linear infinite;
        }

        .wave:nth-child(2) {
            animation: wave 16s linear infinite;
            opacity: 0.5;
        }

        @keyframes wave {
            0% {
                transform: translateX(0);
            }
            50% {
                transform: translateX(-25%);
            }
            100% {
                transform: translateX(-50%);
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5rem;
            }
            
            .note-display {
                font-size: 4rem;
            }
            
            .cents-display {
                font-size: 2rem;
            }
            
            .tuner-display {
                height: 200px;
            }
            
            .string-btn {
                padding: 12px 18px;
                font-size: 0.9rem;
                min-width: 100px;
            }
            
            .tuner-settings {
                gap: 10px;
            }
            
            .setting-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .data-controls {
                flex-direction: column;
                align-items: center;
            }
            
            /* Minus Gap for mobile users */
            .tuner-container {
                margin: 10px auto;
                padding: 10px;
            }
            
            .visualizer {
                height: 200px;
                margin: 15px 0;
            }
            
            .tuner-display {
                height: 200px;
            }
            
            .tuner-needle {
                margin: 15px 0;
            }
            
            .controls {
                margin: 15px 0;
            }
            
            .instrument-selector {
                margin-bottom: 15px;
            }
            
            .string-selector {
                margin: 15px 0;
            }
            
            .status {
                margin-top: 10px;
                height: 30px;
            }
            
            .instructions {
                margin-top: 15px;
                padding: 15px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.3rem;
            }
            
            .note-display {
                font-size: 3rem;
            }
            
            .frequency-display {
                font-size: 1.4rem;
            }
            
            .cents-display {
                font-size: 1.6rem;
            }
            
            .tuner-display {
                height: 160px;
            }
            
            .string-btn {
                padding: 10px 15px;
                font-size: 0.85rem;
                min-width: 80px;
            }
            
            .tuner-needle {
                height: 10px;
            }
            
            .needle {
                height: 25px;
            }
            
            /* Minus Gap for mobile users */
            .tuner-container {
                margin: 5px auto;
                padding: 5px;
            }
            
            .visualizer {
                height: 160px;
                margin: 10px 0;
            }
            
            .tuner-display {
                height: 160px;
            }
            
            .tuner-needle {
                margin: 10px 0;
            }
            
            .controls {
                margin: 10px 0;
            }
            
            .instrument-selector {
                margin-bottom: 10px;
            }
            
            .string-selector {
                margin: 10px 0;
                gap: 8px;
            }
            
            .status {
                margin-top: 5px;
                height: 25px;
                font-size: 1.2rem;
            }
            
            .instructions {
                margin-top: 10px;
                padding: 10px;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <div class="header desktop-header">
        <h1>Instrument Tuner</h1>
    </div>
    <div class="header mobile-header">
        <h1>Instrument Tuner</h1>
    </div>

    <div class="tuner-container">
        <div class="visualizer">
            <div class="tuner-display">
                <div class="note-display">A</div>
                <div class="frequency-display">440.00 Hz</div>
                <div class="cents-display">0 ct</div>
                <div class="wave-animation">
                    <div class="wave"></div>
                    <div class="wave"></div>
                </div>
            </div>
        </div>

        <div class="tuner-needle">
            <div class="tuner-bar"></div>
            <div class="needle" id="needle"></div>
        </div>

        <div class="status" id="status">Ready to tune - Allow microphone access</div>

        <div class="tuner-settings">
            <button class="setting-btn active" id="chromaticBtn">Chromatic</button>
            <button class="setting-btn" id="autoBtn">Auto Detect</button>
            <button class="setting-btn" id="sensitivityBtn">Sensitivity: Medium</button>
        </div>

        <div class="controls">
            <select class="instrument-selector" id="instrumentSelect">
                <option value="guitar">Guitar</option>
                <option value="ukulele">Ukulele</option>
                <option value="violin">Violin</option>
                <option value="piano">Piano</option>
                <option value="bass">Bass Guitar</option>
                <option value="mandolin">Mandolin</option>
                <option value="banjo">Banjo</option>
            </select>

            <div class="string-selector" id="stringSelector">
                <!-- Strings will be populated by JavaScript -->
            </div>
        </div>

        <div class="microphone-status" id="micStatus">
            Microphone: Not connected
        </div>

        <div class="data-controls">
            <button class="data-btn" id="saveBtn">Save Settings</button>
            <button class="data-btn" id="clearBtn">Clear Data</button>
        </div>

        <div class="instructions">
            <p>1. Allow microphone access when prompted</p>
            <p>2. Select your instrument from the dropdown menu</p>
            <p>3. Choose the string you want to tune</p>
            <p>4. Play the string and watch the tuner display</p>
            <p>5. Adjust your instrument until the needle is centered and the display shows "In tune"</p>
            <p>6. Use Chromatic mode for any note or Auto Detect for automatic note recognition</p>
            <p>7. Your settings are automatically saved to your device</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const instrumentSelect = document.getElementById('instrumentSelect');
            const stringSelector = document.getElementById('stringSelector');
            const noteDisplay = document.querySelector('.note-display');
            const frequencyDisplay = document.querySelector('.frequency-display');
            const centsDisplay = document.querySelector('.cents-display');
            const needle = document.getElementById('needle');
            const status = document.getElementById('status');
            const micStatus = document.getElementById('micStatus');
            const chromaticBtn = document.getElementById('chromaticBtn');
            const autoBtn = document.getElementById('autoBtn');
            const sensitivityBtn = document.getElementById('sensitivityBtn');
            const saveBtn = document.getElementById('saveBtn');
            const clearBtn = document.getElementById('clearBtn');
            
            // Default settings
            let settings = {
                instrument: 'guitar',
                tuningMode: 'chromatic',
                sensitivity: 'medium',
                lastUsedString: 0
            };
            
            // Load saved settings
            function loadSettings() {
                const saved = localStorage.getItem('instrumentTunerSettings');
                if (saved) {
                    settings = JSON.parse(saved);
                    instrumentSelect.value = settings.instrument;
                    // Apply settings after page loads
                    setTimeout(() => {
                        updateStringSelector(instruments[settings.instrument]);
                        // Select the last used string
                        const stringBtns = document.querySelectorAll('.string-btn');
                        if (stringBtns[settings.lastUsedString]) {
                            stringBtns[settings.lastUsedString].click();
                        }
                    }, 100);
                }
            }
            
            // Save settings to localStorage
            function saveSettings() {
                localStorage.setItem('instrumentTunerSettings', JSON.stringify(settings));
                status.textContent = 'Settings saved!';
                setTimeout(() => {
                    status.textContent = 'Ready to tune - Allow microphone access';
                }, 2000);
            }
            
            // Clear saved data
            clearBtn.addEventListener('click', function() {
                localStorage.removeItem('instrumentTunerSettings');
                settings = {
                    instrument: 'guitar',
                    tuningMode: 'chromatic',
                    sensitivity: 'medium',
                    lastUsedString: 0
                };
                instrumentSelect.value = 'guitar';
                updateStringSelector(instruments.guitar);
                status.textContent = 'Data cleared!';
                setTimeout(() => {
                    status.textContent = 'Ready to tune - Allow microphone access';
                }, 2000);
            });
            
            // Save current settings
            saveBtn.addEventListener('click', saveSettings);
            
            // Instrument configurations
            const instruments = {
                guitar: {
                    strings: [
                        {name: 'E2', freq: 82.41, label: '6th'},
                        {name: 'A2', freq: 110.00, label: '5th'},
                        {name: 'D3', freq: 146.83, label: '4th'},
                        {name: 'G3', freq: 196.00, label: '3rd'},
                        {name: 'B3', freq: 246.94, label: '2nd'},
                        {name: 'E4', freq: 329.63, label: '1st'}
                    ]
                },
                ukulele: {
                    strings: [
                        {name: 'G4', freq: 392.00, label: 'G'},
                        {name: 'C4', freq: 261.63, label: 'C'},
                        {name: 'E4', freq: 329.63, label: 'E'},
                        {name: 'A4', freq: 440.00, label: 'A'}
                    ]
                },
                violin: {
                    strings: [
                        {name: 'G3', freq: 196.00, label: 'G'},
                        {name: 'D4', freq: 293.66, label: 'D'},
                        {name: 'A4', freq: 440.00, label: 'A'},
                        {name: 'E5', freq: 659.25, label: 'E'}
                    ]
                },
                piano: {
                    strings: [
                        {name: 'C4', freq: 261.63, label: 'Middle C'},
                        {name: 'A4', freq: 440.00, label: 'A440'},
                        {name: 'C5', freq: 523.25, label: 'High C'}
                    ]
                },
                bass: {
                    strings: [
                        {name: 'E1', freq: 41.20, label: '4th'},
                        {name: 'A1', freq: 55.00, label: '3rd'},
                        {name: 'D2', freq: 73.42, label: '2nd'},
                        {name: 'G2', freq: 98.00, label: '1st'}
                    ]
                },
                mandolin: {
                    strings: [
                        {name: 'G3', freq: 196.00, label: 'G'},
                        {name: 'D4', freq: 293.66, label: 'D'},
                        {name: 'A4', freq: 440.00, label: 'A'},
                        {name: 'E5', freq: 659.25, label: 'E'}
                    ]
                },
                banjo: {
                    strings: [
                        {name: 'D3', freq: 146.83, label: '5th'},
                        {name: 'B3', freq: 246.94, label: '4th'},
                        {name: 'G4', freq: 392.00, label: '3rd'},
                        {name: 'D4', freq: 293.66, label: '2nd'},
                        {name: 'G4', freq: 392.00, label: '1st'}
                    ]
                }
            };

            // Tuning modes
            let tuningMode = 'chromatic'; // chromatic, auto
            let sensitivity = 'medium'; // low, medium, high
            let targetFrequency = 440.00;
            let targetNote = 'A';

            // Load saved settings
            loadSettings();

            // Instrument change event
            instrumentSelect.addEventListener('change', function() {
                settings.instrument = this.value;
                const selectedInstrument = instruments[this.value];
                updateStringSelector(selectedInstrument);
                saveSettings();
            });

            // Update string selector based on instrument
            function updateStringSelector(instrument) {
                stringSelector.innerHTML = '';
                instrument.strings.forEach((string, index) => {
                    const btn = document.createElement('button');
                    btn.className = 'string-btn';
                    btn.textContent = `${string.label} (${string.name})`;
                    btn.dataset.index = index;
                    btn.dataset.freq = string.freq;
                    btn.dataset.note = string.name;
                    
                    if (index === 0) {
                        btn.classList.add('active');
                        updateTunerDisplay(string.name, string.freq, 0);
                        targetFrequency = string.freq;
                        targetNote = string.name;
                    }
                    
                    btn.addEventListener('click', function() {
                        settings.lastUsedString = parseInt(this.dataset.index);
                        saveSettings();
                        
                        document.querySelectorAll('.string-btn').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        const selectedString = instrument.strings[parseInt(this.dataset.index)];
                        updateTunerDisplay(selectedString.name, selectedString.freq, 0);
                        targetFrequency = selectedString.freq;
                        targetNote = selectedString.name;
                    });
                    
                    stringSelector.appendChild(btn);
                });
            }

            // Tuning mode buttons
            chromaticBtn.addEventListener('click', function() {
                chromaticBtn.classList.add('active');
                autoBtn.classList.remove('active');
                settings.tuningMode = 'chromatic';
                tuningMode = 'chromatic';
                status.textContent = 'Chromatic mode: Play any note';
                saveSettings();
            });

            autoBtn.addEventListener('click', function() {
                autoBtn.classList.add('active');
                chromaticBtn.classList.remove('active');
                settings.tuningMode = 'auto';
                tuningMode = 'auto';
                status.textContent = 'Auto detect mode: Play your instrument';
                saveSettings();
            });

            sensitivityBtn.addEventListener('click', function() {
                const sensitivityLevels = ['low', 'medium', 'high'];
                const currentIndex = sensitivityLevels.indexOf(settings.sensitivity);
                const nextIndex = (currentIndex + 1) % sensitivityLevels.length;
                settings.sensitivity = sensitivityLevels[nextIndex];
                sensitivity = settings.sensitivity;
                this.textContent = `Sensitivity: ${settings.sensitivity.charAt(0).toUpperCase() + settings.sensitivity.slice(1)}`;
                saveSettings();
            });

            // Update tuner display
            function updateTunerDisplay(note, targetFreq, cents) {
                noteDisplay.textContent = note;
                frequencyDisplay.textContent = `${targetFreq.toFixed(2)} Hz`;
                
                // Format cents display
                if (cents === 0) {
                    centsDisplay.textContent = '0 ct';
                    centsDisplay.style.color = '#ffcc00';
                    needle.style.left = '50%';
                    status.textContent = 'Perfectly in tune!';
                } else if (cents > -5 && cents < 5) {
                    centsDisplay.textContent = `${cents > 0 ? '+' : ''}${cents.toFixed(1)} ct`;
                    centsDisplay.style.color = '#00ff00';
                    needle.style.left = `${50 + (cents * 5)}%`;
                    status.textContent = 'In tune!';
                } else {
                    centsDisplay.textContent = `${cents > 0 ? '+' : ''}${cents.toFixed(1)} ct`;
                    centsDisplay.style.color = cents > 0 ? '#ff5555' : '#5555ff';
                    needle.style.left = `${50 + (cents * 5)}%`;
                    status.textContent = cents > 0 ? 'Too high - tune down' : 'Too low - tune up';
                }
            }

            // Simulate tuning for demo purposes
            let currentCents = 0;
            let direction = 1;
            let currentNote = 'A';
            
            setInterval(() => {
                // Randomly change cents to simulate tuning
                currentCents += (Math.random() - 0.5) * 6 * direction;
                
                // Reverse direction near center
                if (Math.abs(currentCents) < 2) {
                    direction = currentCents > 0 ? -1 : 1;
                }
                
                // Limit range
                if (currentCents > 35) currentCents = 35;
                if (currentCents < -35) currentCents = -35;
                
                // Get active string
                const activeBtn = document.querySelector('.string-btn.active');
                if (activeBtn) {
                    const targetFreq = parseFloat(activeBtn.dataset.freq);
                    currentNote = activeBtn.dataset.note;
                    updateTunerDisplay(currentNote, targetFreq, currentCents);
                }
            }, 200);

            // Microphone access simulation
            document.body.addEventListener('click', function requestMicrophone() {
                micStatus.textContent = 'Microphone: Connected';
                status.textContent = 'Listening... Play your instrument';
                document.body.removeEventListener('click', requestMicrophone);
            }, {once: true});

            // Note detection simulation
            function simulateNoteDetection() {
                if (tuningMode === 'auto') {
                    const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
                    const randomNote = notes[Math.floor(Math.random() * notes.length)];
                    const randomFreq = 440 * Math.pow(2, (Math.random() * 12 - 6) / 12);
                    
                    // Calculate cents difference from target
                    const cents = 1200 * Math.log2(randomFreq / targetFrequency);
                    
                    updateTunerDisplay(randomNote, randomFreq, cents);
                }
            }

            // Auto detection simulation
            if (tuningMode === 'auto') {
                setInterval(simulateNoteDetection, 300);
            }
        });
    </script>
</body>
</html>