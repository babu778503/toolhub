<!DOCTYPE html>
<!-- Category: Finance -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Paycheck Gross to Net Calculator - Calculate your take-home pay after taxes and deductions. Estimate net income from gross salary with this easy-to-use paycheck calculator.">
    <meta name="keywords" content="paycheck calculator, gross to net calculator, salary calculator, take home pay calculator, net income calculator, tax calculator, payroll calculator, wage calculator">
    <title>Paycheck Gross to Net Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 0;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        h1 {
            color: #333;
            font-size: 2.2rem;
            font-weight: 800;
            padding: 15px 0;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .calculator-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
        }

        .calculator-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .calculator-header h2 {
            color: #333;
            font-size: 1.8rem;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 25px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #555;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 14px 15px;
            border-radius: 10px;
            border: 2px solid #ddd;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.8);
            transition: border-color 0.3s;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .calculate-btn {
            display: block;
            width: 100%;
            padding: 16px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .calculate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .calculate-btn:active {
            transform: translateY(1px);
        }

        .results-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
        }

        .results-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .results-header h2 {
            color: #333;
            font-size: 1.8rem;
        }

        .pay-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .pay-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        .pay-value {
            font-size: 2.2rem;
            font-weight: 800;
            margin: 10px 0;
        }

        .pay-label {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .deductions-section {
            background: rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            padding: 25px;
        }

        .deductions-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .deductions-header h3 {
            color: #333;
            font-size: 1.5rem;
        }

        .deductions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .deduction-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        .deduction-title {
            font-weight: 700;
            color: #667eea;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .deduction-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .deduction-item:last-child {
            border-bottom: none;
        }

        .deduction-label {
            color: #666;
        }

        .deduction-value {
            font-weight: 600;
            color: #333;
        }

        .history-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .history-header h2 {
            color: #333;
            font-size: 1.8rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            padding: 14px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        th {
            background-color: rgba(102, 126, 234, 0.1);
            font-weight: 600;
            color: #333;
        }

        tr:hover {
            background-color: rgba(102, 126, 234, 0.05);
        }

        .clear-btn {
            background: linear-gradient(45deg, #ff416c, #ff4b2b);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .clear-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .empty-history {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 30px;
            font-size: 1.1rem;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            header {
                height: 50px;
                padding: 0;
                margin-bottom: 15px;
            }
            
            h1 {
                font-size: 1.5rem;
                padding: 12px 0;
            }
            
            .calculator-section, .results-section, .history-section {
                padding: 20px 15px;
                margin-bottom: 15px;
            }
            
            .calculator-header, .results-header, .history-header {
                margin-bottom: 20px;
            }
            
            .calculator-header h2, .results-header h2, .history-header h2 {
                font-size: 1.5rem;
            }
            
            .input-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .input-group input, .input-group select {
                padding: 12px 15px;
                font-size: 1rem;
            }
            
            .calculate-btn {
                padding: 14px;
                font-size: 1.1rem;
            }
            
            .pay-value {
                font-size: 1.8rem;
            }
            
            .pay-label {
                font-size: 1rem;
            }
            
            .pay-summary {
                grid-template-columns: 1fr 1fr;
                gap: 15px;
            }
            
            .deductions-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .deduction-item {
                flex-direction: column;
                gap: 5px;
            }
            
            th, td {
                padding: 12px 10px;
                font-size: 0.85rem;
            }
            
            .clear-btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* Desktop Styles */
        @media (min-width: 769px) {
            header {
                height: 80px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-file-invoice-dollar"></i> Paycheck Gross to Net Calculator</h1>
        </header>
        
        <section class="calculator-section">
            <div class="calculator-header">
                <h2><i class="fas fa-calculator"></i> Enter Your Paycheck Details</h2>
            </div>
            <div class="input-grid">
                <div class="input-group">
                    <label for="grossPay"><i class="fas fa-money-bill-wave"></i> Gross Pay ($)</label>
                    <input type="number" id="grossPay" step="0.01" min="0" placeholder="5000.00" value="5000.00">
                </div>
                <div class="input-group">
                    <label for="payFrequency"><i class="fas fa-calendar-alt"></i> Pay Frequency</label>
                    <select id="payFrequency">
                        <option value="weekly">Weekly</option>
                        <option value="biweekly" selected>Bi-Weekly</option>
                        <option value="semimonthly">Semi-Monthly</option>
                        <option value="monthly">Monthly</option>
                        <option value="annually">Annually</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="filingStatus"><i class="fas fa-user-friends"></i> Filing Status</label>
                    <select id="filingStatus">
                        <option value="single">Single</option>
                        <option value="married">Married Filing Jointly</option>
                        <option value="head">Head of Household</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="allowances"><i class="fas fa-users"></i> Federal Allowances</label>
                    <input type="number" id="allowances" min="0" max="20" value="2">
                </div>
                <div class="input-group">
                    <label for="stateTax"><i class="fas fa-landmark"></i> State Tax Rate (%)</label>
                    <input type="number" id="stateTax" step="0.1" min="0" max="20" value="5.0">
                </div>
                <div class="input-group">
                    <label for="retirement"><i class="fas fa-piggy-bank"></i> 401(k) Contribution (%)</label>
                    <input type="number" id="retirement" step="0.1" min="0" max="50" value="5.0">
                </div>
                <div class="input-group">
                    <label for="medical"><i class="fas fa-heartbeat"></i> Medical Insurance ($)</label>
                    <input type="number" id="medical" step="0.01" min="0" value="150.00">
                </div>
                <div class="input-group">
                    <label for="otherDeductions"><i class="fas fa-minus-circle"></i> Other Deductions ($)</label>
                    <input type="number" id="otherDeductions" step="0.01" min="0" value="50.00">
                </div>
            </div>
            <button class="calculate-btn" id="calculateBtn">
                <i class="fas fa-calculator"></i> Calculate Net Pay
            </button>
        </section>
        
        <section class="results-section">
            <div class="results-header">
                <h2><i class="fas fa-receipt"></i> Paycheck Summary</h2>
            </div>
            <div class="pay-summary">
                <div class="pay-card">
                    <div class="pay-value" id="grossAmount">$0.00</div>
                    <div class="pay-label">Gross Pay</div>
                </div>
                <div class="pay-card">
                    <div class="pay-value" id="totalDeductions">$0.00</div>
                    <div class="pay-label">Total Deductions</div>
                </div>
                <div class="pay-card">
                    <div class="pay-value" id="netAmount">$0.00</div>
                    <div class="pay-label">Net Pay</div>
                </div>
                <div class="pay-card">
                    <div class="pay-value" id="takeHomePercent">0%</div>
                    <div class="pay-label">Take-Home %</div>
                </div>
            </div>
            
            <div class="deductions-section">
                <div class="deductions-header">
                    <h3><i class="fas fa-list"></i> Detailed Deductions</h3>
                </div>
                <div class="deductions-grid">
                    <div class="deduction-card">
                        <div class="deduction-title">
                            <i class="fas fa-landmark"></i> Taxes
                        </div>
                        <div class="deduction-item">
                            <span class="deduction-label">Federal Income Tax:</span>
                            <span class="deduction-value" id="federalTax">$0.00</span>
                        </div>
                        <div class="deduction-item">
                            <span class="deduction-label">State Income Tax:</span>
                            <span class="deduction-value" id="stateTaxAmount">$0.00</span>
                        </div>
                        <div class="deduction-item">
                            <span class="deduction-label">Social Security (6.2%):</span>
                            <span class="deduction-value" id="socialSecurity">$0.00</span>
                        </div>
                        <div class="deduction-item">
                            <span class="deduction-label">Medicare (1.45%):</span>
                            <span class="deduction-value" id="medicare">$0.00</span>
                        </div>
                        <div class="deduction-item">
                            <span class="deduction-label"><strong>Total Taxes:</strong></span>
                            <span class="deduction-value" id="totalTaxes"><strong>$0.00</strong></span>
                        </div>
                    </div>
                    
                    <div class="deduction-card">
                        <div class="deduction-title">
                            <i class="fas fa-piggy-bank"></i> Retirement & Benefits
                        </div>
                        <div class="deduction-item">
                            <span class="deduction-label">401(k) Contribution:</span>
                            <span class="deduction-value" id="retirementAmount">$0.00</span>
                        </div>
                        <div class="deduction-item">
                            <span class="deduction-label">Medical Insurance:</span>
                            <span class="deduction-value" id="medicalAmount">$0.00</span>
                        </div>
                        <div class="deduction-item">
                            <span class="deduction-label">Other Deductions:</span>
                            <span class="deduction-value" id="otherAmount">$0.00</span>
                        </div>
                        <div class="deduction-item">
                            <span class="deduction-label"><strong>Total Benefits:</strong></span>
                            <span class="deduction-value" id="totalBenefits"><strong>$0.00</strong></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="history-section">
            <div class="history-header">
                <h2><i class="fas fa-history"></i> Calculation History</h2>
                <button class="clear-btn" id="clearHistoryBtn">
                    <i class="fas fa-trash-alt"></i> Clear History
                </button>
            </div>
            <table id="historyTable">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Gross Pay</th>
                        <th>Net Pay</th>
                        <th>Deductions</th>
                        <th>Take-Home %</th>
                    </tr>
                </thead>
                <tbody id="historyBody">
                    <!-- History will be populated here -->
                </tbody>
            </table>
        </section>
    </div>

    <script>
        // DOM Elements
        const grossPayInput = document.getElementById('grossPay');
        const payFrequencySelect = document.getElementById('payFrequency');
        const filingStatusSelect = document.getElementById('filingStatus');
        const allowancesInput = document.getElementById('allowances');
        const stateTaxInput = document.getElementById('stateTax');
        const retirementInput = document.getElementById('retirement');
        const medicalInput = document.getElementById('medical');
        const otherDeductionsInput = document.getElementById('otherDeductions');
        const calculateBtn = document.getElementById('calculateBtn');
        const clearHistoryBtn = document.getElementById('clearHistoryBtn');
        const historyBody = document.getElementById('historyBody');
        
        // Result elements
        const grossAmountEl = document.getElementById('grossAmount');
        const totalDeductionsEl = document.getElementById('totalDeductions');
        const netAmountEl = document.getElementById('netAmount');
        const takeHomePercentEl = document.getElementById('takeHomePercent');
        const federalTaxEl = document.getElementById('federalTax');
        const stateTaxAmountEl = document.getElementById('stateTaxAmount');
        const socialSecurityEl = document.getElementById('socialSecurity');
        const medicareEl = document.getElementById('medicare');
        const totalTaxesEl = document.getElementById('totalTaxes');
        const retirementAmountEl = document.getElementById('retirementAmount');
        const medicalAmountEl = document.getElementById('medicalAmount');
        const otherAmountEl = document.getElementById('otherAmount');
        const totalBenefitsEl = document.getElementById('totalBenefits');
        
        // Calculate net pay
        function calculateNetPay() {
            // Get input values
            const grossPay = parseFloat(grossPayInput.value) || 0;
            const payFrequency = payFrequencySelect.value;
            const filingStatus = filingStatusSelect.value;
            const allowances = parseInt(allowancesInput.value) || 0;
            const stateTaxRate = parseFloat(stateTaxInput.value) || 0;
            const retirementPercent = parseFloat(retirementInput.value) || 0;
            const medicalDeduction = parseFloat(medicalInput.value) || 0;
            const otherDeductions = parseFloat(otherDeductionsInput.value) || 0;
            
            // Calculate federal tax based on simplified tax brackets
            let federalTax = 0;
            const annualizedGross = getAnnualGross(grossPay, payFrequency);
            
            if (filingStatus === 'single') {
                federalTax = calculateFederalTaxSingle(annualizedGross, allowances);
            } else if (filingStatus === 'married') {
                federalTax = calculateFederalTaxMarried(annualizedGross, allowances);
            } else {
                federalTax = calculateFederalTaxHead(annualizedGross, allowances);
            }
            
            // Convert annual tax back to pay period
            const federalTaxPerPeriod = federalTax / getPeriodsPerYear(payFrequency);
            
            // Calculate other deductions
            const stateTaxAmount = grossPay * (stateTaxRate / 100);
            const socialSecurity = Math.min(grossPay * 0.062, 147000 / getPeriodsPerYear(payFrequency) * 0.062); // Cap at SS wage limit
            const medicare = grossPay * 0.0145;
            const retirementAmount = grossPay * (retirementPercent / 100);
            
            // Calculate totals
            const totalTaxes = federalTaxPerPeriod + stateTaxAmount + socialSecurity + medicare;
            const totalBenefits = retirementAmount + medicalDeduction + otherDeductions;
            const totalDeductions = totalTaxes + totalBenefits;
            const netPay = grossPay - totalDeductions;
            const takeHomePercent = grossPay > 0 ? (netPay / grossPay * 100) : 0;
            
            // Update display
            grossAmountEl.textContent = `$${grossPay.toFixed(2)}`;
            totalDeductionsEl.textContent = `$${totalDeductions.toFixed(2)}`;
            netAmountEl.textContent = `$${netPay.toFixed(2)}`;
            takeHomePercentEl.textContent = `${takeHomePercent.toFixed(1)}%`;
            
            federalTaxEl.textContent = `$${federalTaxPerPeriod.toFixed(2)}`;
            stateTaxAmountEl.textContent = `$${stateTaxAmount.toFixed(2)}`;
            socialSecurityEl.textContent = `$${socialSecurity.toFixed(2)}`;
            medicareEl.textContent = `$${medicare.toFixed(2)}`;
            totalTaxesEl.textContent = `$${totalTaxes.toFixed(2)}`;
            
            retirementAmountEl.textContent = `$${retirementAmount.toFixed(2)}`;
            medicalAmountEl.textContent = `$${medicalDeduction.toFixed(2)}`;
            otherAmountEl.textContent = `$${otherDeductions.toFixed(2)}`;
            totalBenefitsEl.textContent = `$${totalBenefits.toFixed(2)}`;
            
            // Save to history
            saveToHistory({
                date: new Date().toISOString(),
                grossPay: grossPay,
                netPay: netPay,
                totalDeductions: totalDeductions,
                takeHomePercent: takeHomePercent,
                payFrequency: payFrequency
            });
            
            // Update history display
            renderHistory();
        }
        
        // Get annual gross based on pay frequency
        function getAnnualGross(grossPay, frequency) {
            const periods = getPeriodsPerYear(frequency);
            return grossPay * periods;
        }
        
        // Get periods per year for frequency
        function getPeriodsPerYear(frequency) {
            switch(frequency) {
                case 'weekly': return 52;
                case 'biweekly': return 26;
                case 'semimonthly': return 24;
                case 'monthly': return 12;
                case 'annually': return 1;
                default: return 26;
            }
        }
        
        // Simplified federal tax calculation for single filers
        function calculateFederalTaxSingle(annualIncome, allowances) {
            const standardDeduction = 13850;
            const personalExemption = allowances * 4300;
            const taxableIncome = Math.max(0, annualIncome - standardDeduction - personalExemption);
            
            let tax = 0;
            if (taxableIncome <= 11000) {
                tax = taxableIncome * 0.10;
            } else if (taxableIncome <= 44725) {
                tax = 1100 + (taxableIncome - 11000) * 0.12;
            } else if (taxableIncome <= 95375) {
                tax = 5147 + (taxableIncome - 44725) * 0.22;
            } else if (taxableIncome <= 182100) {
                tax = 16290 + (taxableIncome - 95375) * 0.24;
            } else if (taxableIncome <= 231250) {
                tax = 37104 + (taxableIncome - 182100) * 0.32;
            } else if (taxableIncome <= 578125) {
                tax = 52832 + (taxableIncome - 231250) * 0.35;
            } else {
                tax = 174238.25 + (taxableIncome - 578125) * 0.37;
            }
            
            return tax;
        }
        
        // Simplified federal tax calculation for married filers
        function calculateFederalTaxMarried(annualIncome, allowances) {
            const standardDeduction = 27700;
            const personalExemption = allowances * 4300;
            const taxableIncome = Math.max(0, annualIncome - standardDeduction - personalExemption);
            
            let tax = 0;
            if (taxableIncome <= 22000) {
                tax = taxableIncome * 0.10;
            } else if (taxableIncome <= 89450) {
                tax = 2200 + (taxableIncome - 22000) * 0.12;
            } else if (taxableIncome <= 190750) {
                tax = 10294 + (taxableIncome - 89450) * 0.22;
            } else if (taxableIncome <= 364200) {
                tax = 32580 + (taxableIncome - 190750) * 0.24;
            } else if (taxableIncome <= 462500) {
                tax = 74208 + (taxableIncome - 364200) * 0.32;
            } else if (taxableIncome <= 693750) {
                tax = 105664 + (taxableIncome - 462500) * 0.35;
            } else {
                tax = 186601.50 + (taxableIncome - 693750) * 0.37;
            }
            
            return tax;
        }
        
        // Simplified federal tax calculation for head of household
        function calculateFederalTaxHead(annualIncome, allowances) {
            const standardDeduction = 20800;
            const personalExemption = allowances * 4300;
            const taxableIncome = Math.max(0, annualIncome - standardDeduction - personalExemption);
            
            let tax = 0;
            if (taxableIncome <= 15700) {
                tax = taxableIncome * 0.10;
            } else if (taxableIncome <= 59850) {
                tax = 1570 + (taxableIncome - 15700) * 0.12;
            } else if (taxableIncome <= 95350) {
                tax = 6868 + (taxableIncome - 59850) * 0.22;
            } else if (taxableIncome <= 182100) {
                tax = 14678 + (taxableIncome - 95350) * 0.24;
            } else if (taxableIncome <= 231250) {
                tax = 35498 + (taxableIncome - 182100) * 0.32;
            } else if (taxableIncome <= 578100) {
                tax = 51226 + (taxableIncome - 231250) * 0.35;
            } else {
                tax = 172623.50 + (taxableIncome - 578100) * 0.37;
            }
            
            return tax;
        }
        
        // Save calculation to history
        function saveToHistory(calculation) {
            let history = JSON.parse(localStorage.getItem('paycheckHistory')) || [];
            history.unshift(calculation);
            
            // Keep only last 50 entries
            if (history.length > 50) {
                history = history.slice(0, 50);
            }
            
            localStorage.setItem('paycheckHistory', JSON.stringify(history));
        }
        
        // Render history table
        function renderHistory() {
            const history = JSON.parse(localStorage.getItem('paycheckHistory')) || [];
            historyBody.innerHTML = '';
            
            if (history.length === 0) {
                historyBody.innerHTML = '<tr><td colspan="5" class="empty-history">No calculation history yet</td></tr>';
                return;
            }
            
            history.forEach(entry => {
                const row = document.createElement('tr');
                const date = new Date(entry.date);
                const formattedDate = date.toLocaleDateString();
                const frequency = getFrequencyLabel(entry.payFrequency);
                
                row.innerHTML = `
                    <td>${formattedDate}<br><small>${frequency}</small></td>
                    <td>$${entry.grossPay.toFixed(2)}</td>
                    <td>$${entry.netPay.toFixed(2)}</td>
                    <td>$${entry.totalDeductions.toFixed(2)}</td>
                    <td>${entry.takeHomePercent.toFixed(1)}%</td>
                `;
                historyBody.appendChild(row);
            });
        }
        
        // Get frequency label
        function getFrequencyLabel(frequency) {
            switch(frequency) {
                case 'weekly': return 'Weekly';
                case 'biweekly': return 'Bi-Weekly';
                case 'semimonthly': return 'Semi-Monthly';
                case 'monthly': return 'Monthly';
                case 'annually': return 'Annually';
                default: return 'Bi-Weekly';
            }
        }
        
        // Clear history
        function clearHistory() {
            if (confirm('Are you sure you want to clear all calculation history?')) {
                localStorage.removeItem('paycheckHistory');
                renderHistory();
            }
        }
        
        // Load sample data for first time users
        function loadSampleData() {
            const history = JSON.parse(localStorage.getItem('paycheckHistory'));
            if (!history || history.length === 0) {
                // Add some sample calculations
                const sampleData = [
                    {
                        date: new Date(Date.now() - 86400000).toISOString(),
                        grossPay: 4500.00,
                        netPay: 3200.50,
                        totalDeductions: 1299.50,
                        takeHomePercent: 71.1,
                        payFrequency: 'biweekly'
                    },
                    {
                        date: new Date(Date.now() - 172800000).toISOString(),
                        grossPay: 8000.00,
                        netPay: 5800.75,
                        totalDeductions: 2199.25,
                        takeHomePercent: 72.5,
                        payFrequency: 'monthly'
                    }
                ];
                
                localStorage.setItem('paycheckHistory', JSON.stringify(sampleData));
                renderHistory();
            }
        }
        
        // Event listeners
        calculateBtn.addEventListener('click', calculateNetPay);
        clearHistoryBtn.addEventListener('click', clearHistory);
        
        // Auto-calculate when inputs change
        const inputs = [grossPayInput, payFrequencySelect, filingStatusSelect, allowancesInput, 
                       stateTaxInput, retirementInput, medicalInput, otherDeductionsInput];
        
        inputs.forEach(element => {
            element.addEventListener('input', calculateNetPay);
        });
        
        // Initialize
        loadSampleData();
        renderHistory();
        calculateNetPay(); // Calculate with default values
    </script>
</body>
</html>