<!DOCTYPE html>
<!-- Category: Games -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Flip Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #36D1DC, #5B86E5, #9D50BB);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        /* Desktop Styles */
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
            padding: 40px;
            width: 100%;
            max-width: 700px;
            text-align: center;
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            margin-bottom: 30px;
            font-size: 2.5rem;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            background: linear-gradient(to right, #FFD700, #FFA500, #FF4500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .mode-btn {
            padding: 12px 22px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 30px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 1rem;
        }
        
        .mode-btn.active {
            background: linear-gradient(to right, #00b09b, #96c93d);
            border-color: #00b09b;
            box-shadow: 0 0 15px rgba(0, 176, 155, 0.5);
        }
        
        .mode-btn:hover:not(.active) {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .input-section {
            background: rgba(0, 0, 0, 0.2);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .quantity-input {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }
        
        .quantity-input label {
            font-size: 1.1rem;
            font-weight: 500;
        }
        
        .quantity-input input {
            width: 80px;
            padding: 12px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            font-size: 1.1rem;
            text-align: center;
            outline: none;
        }
        
        .coin-container {
            perspective: 1000px;
            margin: 40px 0;
            display: flex;
            justify-content: center;
        }
        
        .coin {
            width: 200px;
            height: 200px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s ease-out;
        }
        
        .coin.flipping {
            animation: flip 1.5s ease-out;
        }
        
        .coin-face {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.8rem;
            font-weight: bold;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        .heads {
            background: radial-gradient(circle at 30% 30%, #FFD700, #D4AF37);
            color: #8B4513;
            transform: rotateY(0deg);
        }
        
        .tails {
            background: radial-gradient(circle at 30% 30%, #C0C0C0, #808080);
            color: #2F4F4F;
            transform: rotateY(180deg);
        }
        
        .coin-face::before {
            content: "";
            position: absolute;
            width: 90%;
            height: 90%;
            border-radius: 50%;
            border: 5px solid rgba(255, 255, 255, 0.5);
        }
        
        .coin-face::after {
            content: "";
            position: absolute;
            width: 60%;
            height: 60%;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .result-container {
            background: rgba(0, 0, 0, 0.2);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .result-text {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            min-height: 60px;
            display: flex;
            align-items: center;
        }
        
        .result-value {
            color: #FFD700;
            text-transform: capitalize;
        }
        
        .series-result {
            font-size: 1.8rem;
            margin-top: 10px;
            color: #FF6347;
            font-weight: bold;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            min-width: 150px;
        }
        
        #flipBtn {
            background: linear-gradient(to right, #00b09b, #96c93d);
            color: white;
        }
        
        #autoFlipBtn {
            background: linear-gradient(to right, #ff9a44, #ff4b2b);
            color: white;
        }
        
        #resetBtn {
            background: linear-gradient(to right, #ff416c, #ff4b2b);
            color: white;
        }
        
        #historyBtn {
            background: linear-gradient(to right, #2193b0, #6dd5ed);
            color: white;
        }
        
        #downloadBtn {
            background: linear-gradient(to right, #834d9b, #d04ed6);
            color: white;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .stats-section {
            display: flex;
            justify-content: space-around;
            background: rgba(0, 0, 0, 0.15);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: #FFD700;
        }
        
        .stat-label {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .progress-container {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            height: 20px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #00b09b, #96c93d);
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        .history-section {
            margin-top: 30px;
            background: rgba(0, 0, 0, 0.15);
            border-radius: 15px;
            padding: 20px;
            display: none;
        }
        
        .history-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .close-history {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .history-list {
            max-height: 250px;
            overflow-y: auto;
            text-align: left;
            padding: 10px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        
        .history-item {
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        .history-result {
            font-weight: bold;
            text-transform: capitalize;
            padding: 5px 15px;
            border-radius: 20px;
        }
        
        .heads-result {
            background: rgba(255, 215, 0, 0.2);
            color: #FFD700;
        }
        
        .tails-result {
            background: rgba(192, 192, 192, 0.2);
            color: #C0C0C0;
        }
        
        .series-winner {
            font-weight: bold;
            color: #FF6347;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            transform: translateX(200%);
            transition: transform 0.3s ease;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .auto-flip-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            background: rgba(0, 0, 0, 0.15);
            padding: 15px;
            border-radius: 15px;
        }
        
        .auto-flip-controls label {
            font-size: 1rem;
        }
        
        .auto-flip-controls input {
            width: 70px;
            padding: 10px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            font-size: 1rem;
            text-align: center;
        }
        
        @keyframes flip {
            0% {
                transform: rotateY(0) rotateX(0);
            }
            25% {
                transform: rotateY(90deg) rotateX(180deg);
            }
            50% {
                transform: rotateY(180deg) rotateX(360deg);
            }
            75% {
                transform: rotateY(270deg) rotateX(540deg);
            }
            100% {
                transform: rotateY(360deg) rotateX(720deg);
            }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .winning {
            animation: pulse 0.5s 3;
        }
        
        /* Mobile Styles */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 20px;
                border-radius: 15px;
            }
            
            h1 {
                font-size: 1.8rem;
                margin-bottom: 20px;
            }
            
            .mode-selector {
                gap: 10px;
                margin-bottom: 20px;
            }
            
            .mode-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .input-section {
                padding: 15px;
            }
            
            .quantity-input {
                gap: 10px;
                margin-top: 10px;
            }
            
            .quantity-input label {
                font-size: 1rem;
            }
            
            .quantity-input input {
                width: 70px;
                padding: 10px;
                font-size: 1rem;
            }
            
            .coin {
                width: 160px;
                height: 160px;
            }
            
            .coin-face {
                font-size: 2.2rem;
            }
            
            .result-container {
                padding: 20px;
                margin: 20px 0;
                min-height: 130px;
            }
            
            .result-text {
                font-size: 1.8rem;
                margin-bottom: 10px;
                min-height: 50px;
            }
            
            .series-result {
                font-size: 1.5rem;
            }
            
            .controls {
                gap: 10px;
                margin-top: 15px;
            }
            
            button {
                padding: 12px 20px;
                font-size: 1rem;
                min-width: 130px;
            }
            
            .stats-section {
                padding: 15px;
                margin: 20px 0;
            }
            
            .stat-value {
                font-size: 1.8rem;
            }
            
            .stat-label {
                font-size: 0.9rem;
            }
            
            .history-section {
                margin-top: 20px;
                padding: 15px;
            }
            
            .history-title {
                font-size: 1.2rem;
                margin-bottom: 10px;
            }
            
            .history-list {
                max-height: 200px;
                padding: 8px;
            }
            
            .history-item {
                padding: 10px 0;
                font-size: 0.9rem;
            }
            
            .auto-flip-controls {
                padding: 10px;
                gap: 10px;
            }
            
            .auto-flip-controls input {
                width: 60px;
                padding: 8px;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 480px) {
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            button {
                width: 100%;
                max-width: 250px;
            }
            
            .coin {
                width: 140px;
                height: 140px;
            }
            
            .coin-face {
                font-size: 1.8rem;
            }
            
            .stats-section {
                flex-direction: column;
                gap: 15px;
            }
            
            .stat-item {
                width: 100%;
            }
            
            .result-text {
                font-size: 1.5rem;
            }
            
            .series-result {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Coin Flip Simulator</h1>
        
        <div class="mode-selector">
            <div class="mode-btn active" data-mode="single">Single Flip</div>
            <div class="mode-btn" data-mode="multiple">Multiple Flips</div>
            <div class="mode-btn" data-mode="bestOf">Best of Series</div>
        </div>
        
        <div class="input-section">
            <div class="quantity-input">
                <label for="quantity">Number of flips:</label>
                <input type="number" id="quantity" min="1" max="1000" value="5" disabled>
            </div>
            
            <div class="auto-flip-controls">
                <label for="flipSpeed">Auto flip speed (ms):</label>
                <input type="number" id="flipSpeed" min="100" max="5000" value="1000">
            </div>
        </div>
        
        <div class="coin-container">
            <div class="coin" id="coin">
                <div class="coin-face heads">HEADS</div>
                <div class="coin-face tails">TAILS</div>
            </div>
        </div>
        
        <div class="result-container">
            <div class="result-text">Click <span class="result-value">Flip</span> to start!</div>
            <div class="series-result" id="seriesResult"></div>
        </div>
        
        <div class="stats-section">
            <div class="stat-item">
                <div class="stat-value" id="totalFlips">0</div>
                <div class="stat-label">Total Flips</div>
                <div class="progress-container">
                    <div class="progress-bar" id="totalProgress" style="width: 0%"></div>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="headsCount">0</div>
                <div class="stat-label">Heads</div>
                <div class="progress-container">
                    <div class="progress-bar" id="headsProgress" style="width: 0%"></div>
                </div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="tailsCount">0</div>
                <div class="stat-label">Tails</div>
                <div class="progress-container">
                    <div class="progress-bar" id="tailsProgress" style="width: 0%"></div>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <button id="flipBtn">Flip Coin</button>
            <button id="autoFlipBtn">Auto Flip</button>
            <button id="resetBtn">Reset Stats</button>
            <button id="historyBtn">Show History</button>
            <button id="downloadBtn">Download Results</button>
        </div>
        
        <div class="history-section" id="historySection">
            <div class="history-title">
                <span>Flip History</span>
                <button class="close-history" id="closeHistory">Close</button>
            </div>
            <div class="history-list" id="historyList">
                <div class="history-item">No flips recorded yet</div>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification">Statistics reset!</div>

    <script>
        let currentMode = 'single';
        let flipHistory = [];
        let headsCount = 0;
        let tailsCount = 0;
        let totalFlips = 0;
        let isFlipping = false;
        let autoFlipInterval = null;
        let seriesResults = { heads: 0, tails: 0 };
        let seriesTarget = 0;
        
        const modeButtons = document.querySelectorAll('.mode-btn');
        const coin = document.getElementById('coin');
        const flipBtn = document.getElementById('flipBtn');
        const autoFlipBtn = document.getElementById('autoFlipBtn');
        const resetBtn = document.getElementById('resetBtn');
        const historyBtn = document.getElementById('historyBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const closeHistoryBtn = document.getElementById('closeHistory');
        const historySection = document.getElementById('historySection');
        const historyList = document.getElementById('historyList');
        const notification = document.getElementById('notification');
        const totalFlipsElement = document.getElementById('totalFlips');
        const headsCountElement = document.getElementById('headsCount');
        const tailsCountElement = document.getElementById('tailsCount');
        const totalProgress = document.getElementById('totalProgress');
        const headsProgress = document.getElementById('headsProgress');
        const tailsProgress = document.getElementById('tailsProgress');
        const resultText = document.querySelector('.result-text');
        const seriesResult = document.getElementById('seriesResult');
        const quantityInput = document.getElementById('quantity');
        const flipSpeedInput = document.getElementById('flipSpeed');
        
        // Mode selection
        modeButtons.forEach(button => {
            button.addEventListener('click', () => {
                modeButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                currentMode = button.getAttribute('data-mode');
                quantityInput.disabled = (currentMode === 'single');
                updateResultText('ready');
                seriesResult.textContent = '';
                seriesResults = { heads: 0, tails: 0 };
            });
        });
        
        function flipCoin() {
            if (isFlipping) return;
            
            isFlipping = true;
            coin.classList.add('flipping');
            resultText.innerHTML = 'Flipping...';
            seriesResult.textContent = '';
            
            setTimeout(() => {
                const isHeads = Math.random() < 0.5;
                const result = isHeads ? 'heads' : 'tails';
                
                // Update coin display
                if (isHeads) {
                    coin.style.transform = 'rotateY(0deg)';
                } else {
                    coin.style.transform = 'rotateY(180deg)';
                }
                
                // Update statistics
                totalFlips++;
                if (isHeads) {
                    headsCount++;
                } else {
                    tailsCount++;
                }
                
                // Handle series mode
                if (currentMode === 'bestOf') {
                    seriesResults[result]++;
                    const target = Math.ceil(parseInt(quantityInput.value) / 2);
                    if (seriesResults.heads >= target || seriesResults.tails >= target) {
                        const winner = seriesResults.heads >= target ? 'heads' : 'tails';
                        seriesResult.textContent = `${winner.toUpperCase()} wins the series!`;
                        seriesResult.classList.add('winning');
                        setTimeout(() => seriesResult.classList.remove('winning'), 2000);
                        seriesResults = { heads: 0, tails: 0 };
                    } else {
                        seriesResult.textContent = `Series: Heads ${seriesResults.heads} - ${seriesResults.tails} Tails`;
                    }
                }
                
                // Add to history
                const flipRecord = {
                    result: result,
                    mode: currentMode,
                    timestamp: new Date()
                };
                flipHistory.unshift(flipRecord);
                
                // Update display
                updateResultText(result);
                updateStatistics();
                updateHistoryDisplay();
                
                coin.classList.remove('flipping');
                isFlipping = false;
            }, 1500);
        }
        
        function autoFlip() {
            if (autoFlipInterval) {
                // Stop auto flip
                clearInterval(autoFlipInterval);
                autoFlipInterval = null;
                autoFlipBtn.textContent = 'Auto Flip';
                flipBtn.disabled = false;
                return;
            }
            
            // Start auto flip
            const quantity = parseInt(quantityInput.value) || 1;
            const speed = parseInt(flipSpeedInput.value) || 1000;
            let count = 0;
            
            autoFlipBtn.textContent = 'Stop Auto';
            flipBtn.disabled = true;
            
            autoFlipInterval = setInterval(() => {
                if (count >= quantity) {
                    clearInterval(autoFlipInterval);
                    autoFlipInterval = null;
                    autoFlipBtn.textContent = 'Auto Flip';
                    flipBtn.disabled = false;
                    showNotification(`Auto flip completed! ${quantity} flips`);
                    return;
                }
                
                flipCoin();
                count++;
            }, speed);
        }
        
        function updateResultText(result) {
            if (result === 'ready') {
                resultText.innerHTML = 'Click <span class="result-value">Flip</span> to start!';
                return;
            }
            
            if (result === 'heads') {
                resultText.innerHTML = 'Result: <span class="result-value heads-result">Heads</span>';
            } else if (result === 'tails') {
                resultText.innerHTML = 'Result: <span class="result-value tails-result">Tails</span>';
            } else {
                resultText.innerHTML = 'Flipping...';
            }
        }
        
        function updateStatistics() {
            totalFlipsElement.textContent = totalFlips;
            headsCountElement.textContent = headsCount;
            tailsCountElement.textContent = tailsCount;
            
            // Update progress bars
            if (totalFlips > 0) {
                totalProgress.style.width = '100%';
                headsProgress.style.width = `${(headsCount / totalFlips) * 100}%`;
                tailsProgress.style.width = `${(tailsCount / totalFlips) * 100}%`;
            } else {
                totalProgress.style.width = '0%';
                headsProgress.style.width = '0%';
                tailsProgress.style.width = '0%';
            }
        }
        
        function updateHistoryDisplay() {
            if (flipHistory.length === 0) {
                historyList.innerHTML = '<div class="history-item">No flips recorded yet</div>';
                return;
            }
            
            historyList.innerHTML = '';
            flipHistory.slice(0, 30).forEach((flip, index) => {
                const timeString = flip.timestamp.toLocaleTimeString();
                const historyElement = document.createElement('div');
                historyElement.className = 'history-item';
                
                const resultClass = flip.result === 'heads' ? 'heads-result' : 'tails-result';
                const modeText = flip.mode === 'single' ? '' : `(${flip.mode})`;
                
                historyElement.innerHTML = `
                    <span>Flip ${flipHistory.length - index}: <span class="history-result ${resultClass}">${flip.result}</span> ${modeText}</span>
                    <span>${timeString}</span>
                `;
                
                historyList.appendChild(historyElement);
            });
        }
        
        function resetStatistics() {
            headsCount = 0;
            tailsCount = 0;
            totalFlips = 0;
            flipHistory = [];
            seriesResults = { heads: 0, tails: 0 };
            updateStatistics();
            updateHistoryDisplay();
            updateResultText('ready');
            seriesResult.textContent = '';
            showNotification('Statistics reset!');
        }
        
        function toggleHistory() {
            if (historySection.style.display === 'block') {
                historySection.style.display = 'none';
            } else {
                historySection.style.display = 'block';
            }
        }
        
        function downloadResults() {
            if (flipHistory.length === 0) {
                showNotification('No results to download!');
                return;
            }
            
            let content = `Coin Flip Simulator Results\nGenerated on: ${new Date().toLocaleString()}\n\n`;
            content += `Total Flips: ${totalFlips}\n`;
            content += `Heads: ${headsCount}\n`;
            content += `Tails: ${tailsCount}\n`;
            content += `Heads Percentage: ${totalFlips > 0 ? ((headsCount/totalFlips)*100).toFixed(2) : 0}%\n\n`;
            content += `Flip History:\n`;
            
            flipHistory.slice().reverse().forEach((flip, index) => {
                const timeString = flip.timestamp.toLocaleString();
                content += `${index + 1}. ${flip.result.toUpperCase()} ${flip.mode !== 'single' ? `(${flip.mode})` : ''} - ${timeString}\n`;
            });
            
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `coin_flip_results_${new Date().toISOString().slice(0, 10)}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('Results downloaded!');
        }
        
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }
        
        // Event Listeners
        flipBtn.addEventListener('click', flipCoin);
        autoFlipBtn.addEventListener('click', autoFlip);
        resetBtn.addEventListener('click', resetStatistics);
        historyBtn.addEventListener('click', toggleHistory);
        downloadBtn.addEventListener('click', downloadResults);
        closeHistoryBtn.addEventListener('click', toggleHistory);
        
        // Allow spacebar to flip coin
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                flipCoin();
            }
        });
        
        // Initialize
        updateStatistics();
        updateHistoryDisplay();
    </script>
</body>
</html>