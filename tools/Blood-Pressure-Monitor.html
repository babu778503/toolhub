<!DOCTYPE html>
<!-- Category: Health -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blood Pressure Monitor - Track and monitor your blood pressure readings with this easy-to-use health tool. Check systolic and diastolic pressure levels.">
    <meta name="keywords" content="blood pressure monitor, blood pressure checker, systolic pressure, diastolic pressure, hypertension monitor, health tool, blood pressure tracker, cardiovascular health">
    <title>Blood Pressure Monitor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* Desktop Styles */
        header {
            background: linear-gradient(to right, #c0392b, #e74c3c);
            color: white;
            padding: 0 20px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        h1 {
            font-size: 28px;
            font-weight: 600;
            text-align: center;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #eee;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: 500;
            color: #6c757d;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .tab.active {
            color: #e74c3c;
            border-bottom: 3px solid #e74c3c;
            background: white;
        }

        .tab-content {
            display: none;
            padding: 30px;
        }

        .tab-content.active {
            display: block;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        input, select {
            width: 100%;
            padding: 14px;
            border: 2px solid #e1e5eb;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #e74c3c;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        button {
            background: linear-gradient(to right, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            flex: 1;
            min-width: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        .reset-btn {
            background: linear-gradient(to right, #3498db, #2c3e50);
        }

        .reset-btn:hover {
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .export-btn {
            background: linear-gradient(to right, #27ae60, #219653);
        }

        .export-btn:hover {
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .result-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
            border-top: 4px solid #e74c3c;
        }

        .result-card:hover {
            transform: translateY(-5px);
        }

        .result-card.systolic-card {
            border-top-color: #c0392b;
        }

        .result-card.diastolic-card {
            border-top-color: #3498db;
        }

        .result-card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-value {
            font-size: 28px;
            font-weight: 700;
            color: #e74c3c;
            margin: 10px 0;
        }

        .result-status {
            font-size: 16px;
            font-weight: 600;
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 8px;
        }

        .normal { background-color: #d4edda; color: #155724; }
        .elevated { background-color: #fff3cd; color: #856404; }
        .high1 { background-color: #ffeaa7; color: #856404; }
        .high2 { background-color: #f8d7da; color: #721c24; }
        .crisis { background-color: #e74c3c; color: white; }

        .interpretation {
            background: #fce4ec;
            border-left: 4px solid #e74c3c;
            padding: 20px;
            border-radius: 0 8px 8px 0;
            margin: 25px 0;
            text-align: left;
        }

        .interpretation h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .interpretation ul {
            padding-left: 20px;
        }

        .interpretation li {
            margin-bottom: 10px;
            color: #c0392b;
        }

        .chart-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
        }

        .chart-title {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .chart-bars {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            height: 200px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .chart-bar {
            width: 60px;
            background: linear-gradient(to top, #e74c3c, #c0392b);
            border-radius: 5px 5px 0 0;
            position: relative;
            transition: height 1s ease-in-out;
        }

        .chart-bar.diastolic-bar {
            background: linear-gradient(to top, #3498db, #2c3e50);
        }

        .chart-label {
            text-align: center;
            margin-top: 10px;
            font-weight: 500;
            color: #2c3e50;
        }

        .chart-value {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: bold;
            color: #2c3e50;
        }

        .data-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .data-actions button {
            flex: 1;
            min-width: 150px;
        }

        .clear-btn {
            background: linear-gradient(to right, #e74c3c, #c0392b);
        }

        .clear-btn:hover {
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        .health-tip {
            background: linear-gradient(135deg, #fce4ec, #f8d7da);
            border-radius: 8px;
            padding: 20px;
            margin-top: 25px;
            font-size: 15px;
            color: #2c3e50;
            border-left: 4px solid #e74c3c;
        }

        .health-tip h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .history-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            padding: 25px;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #777;
        }

        .history-title {
            text-align: center;
            margin-bottom: 20px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .history-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .history-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #e74c3c;
        }

        .history-item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 600;
            color: #2c3e50;
        }

        .history-item-values {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .history-value {
            text-align: center;
            font-size: 14px;
        }

        .history-value-label {
            font-weight: 500;
            color: #777;
        }

        .history-value-data {
            font-weight: 600;
            color: #e74c3c;
        }

        .delete-history {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 10px;
        }

        .no-history {
            text-align: center;
            color: #777;
            font-style: italic;
            padding: 20px;
        }

        .risk-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            background: #fff3cd;
        }

        .risk-icon {
            font-size: 24px;
            color: #856404;
        }

        .risk-text {
            font-weight: 500;
            color: #856404;
        }

        .recommendations {
            background: #e8f5e9;
            border-radius: 8px;
            padding: 20px;
            margin-top: 25px;
            border-left: 4px solid #27ae60;
        }

        .recommendations h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .recommendation-list {
            padding-left: 20px;
        }

        .recommendation-list li {
            margin-bottom: 10px;
            color: #27663a;
        }

        .progress-tracker {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
        }

        .progress-title {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .progress-charts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .progress-chart {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .progress-chart h4 {
            text-align: center;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .progress-line {
            height: 30px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #e74c3c, #c0392b);
            border-radius: 15px;
            transition: width 1s ease-in-out;
        }

        .progress-target {
            position: absolute;
            top: 0;
            height: 100%;
            width: 2px;
            background: #27ae60;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 14px;
            color: #6c757d;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            header {
                height: 50px;
                padding: 0 15px;
                margin-bottom: 20px;
                justify-content: center;
            }

            h1 {
                font-size: 18px;
                gap: 8px;
            }

            .tab-content {
                padding: 20px;
            }

            .input-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            input, select {
                padding: 12px;
                font-size: 16px;
            }

            .button-group {
                flex-direction: column;
                gap: 10px;
            }

            button {
                padding: 12px 20px;
                font-size: 14px;
                min-width: auto;
            }

            .result-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .result-value {
                font-size: 24px;
            }

            .chart-bars {
                flex-direction: column;
                height: auto;
                gap: 20px;
                padding: 20px;
            }

            .chart-bar {
                width: 100%;
                height: 40px !important;
                border-radius: 0 5px 5px 0;
            }

            .chart-value {
                top: 50%;
                left: auto;
                right: -50px;
                transform: translateY(-50%);
            }

            .data-actions {
                flex-direction: column;
            }

            .modal-content {
                width: 95%;
                padding: 20px 15px;
            }

            .history-item-values {
                grid-template-columns: 1fr 1fr;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab {
                min-width: 50%;
            }

            .progress-charts {
                grid-template-columns: 1fr;
            }
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1001;
            transform: translateX(200%);
            transition: transform 0.3s ease-in-out;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(to right, #27ae60, #219653);
        }

        .notification.error {
            background: linear-gradient(to right, #e74c3c, #c0392b);
        }

        .notification.info {
            background: linear-gradient(to right, #3498db, #2c3e50);
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-heartbeat"></i> Blood Pressure Monitor</h1>
    </header>

    <div class="container">
        <div class="tabs">
            <div class="tab active" data-tab="monitor">Monitor</div>
            <div class="tab" data-tab="history">History</div>
            <div class="tab" data-tab="progress">Progress</div>
            <div class="tab" data-tab="resources">Resources</div>
        </div>

        <div class="tab-content active" id="monitor-tab">
            <div class="input-grid">
                <div class="input-group">
                    <label for="systolic"><i class="fas fa-arrow-up"></i> Systolic (mmHg)</label>
                    <input type="number" id="systolic" placeholder="Enter systolic pressure" min="0">
                </div>
                
                <div class="input-group">
                    <label for="diastolic"><i class="fas fa-arrow-down"></i> Diastolic (mmHg)</label>
                    <input type="number" id="diastolic" placeholder="Enter diastolic pressure" min="0">
                </div>
                
                <div class="input-group">
                    <label for="pulse"><i class="fas fa-heart-pulse"></i> Pulse Rate (bpm)</label>
                    <input type="number" id="pulse" placeholder="Enter pulse rate" min="0">
                </div>
                
                <div class="input-group">
                    <label for="date"><i class="fas fa-calendar"></i> Date & Time</label>
                    <input type="datetime-local" id="date">
                </div>
                
                <div class="input-group">
                    <label for="arm"><i class="fas fa-arm"></i> Arm Used</label>
                    <select id="arm">
                        <option value="">Select Arm</option>
                        <option value="left">Left Arm</option>
                        <option value="right">Right Arm</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="position"><i class="fas fa-chair"></i> Position</label>
                    <select id="position">
                        <option value="">Select Position</option>
                        <option value="seated">Seated</option>
                        <option value="standing">Standing</option>
                        <option value="lying">Lying Down</option>
                    </select>
                </div>
            </div>
            
            <div class="button-group">
                <button id="calculate-btn"><i class="fas fa-calculator"></i> Check Blood Pressure</button>
                <button id="reset-btn" class="reset-btn"><i class="fas fa-redo"></i> Reset</button>
                <button id="export-btn" class="export-btn"><i class="fas fa-file-export"></i> Export Results</button>
            </div>

            <div class="result-grid">
                <div class="result-card">
                    <h3><i class="fas fa-heart"></i> Blood Pressure</h3>
                    <div class="result-value" id="bp-result">-- / -- mmHg</div>
                    <div class="result-status" id="bp-status">Enter values to check</div>
                </div>
                
                <div class="result-card systolic-card">
                    <h3><i class="fas fa-arrow-up"></i> Systolic</h3>
                    <div class="result-value" id="systolic-result">-- mmHg</div>
                    <div class="result-status" id="systolic-status">--</div>
                </div>
                
                <div class="result-card diastolic-card">
                    <h3><i class="fas fa-arrow-down"></i> Diastolic</h3>
                    <div class="result-value" id="diastolic-result">-- mmHg</div>
                    <div class="result-status" id="diastolic-status">--</div>
                </div>
                
                <div class="result-card">
                    <h3><i class="fas fa-heart-pulse"></i> Pulse Rate</h3>
                    <div class="result-value" id="pulse-result">-- bpm</div>
                    <div class="result-status" id="pulse-status">--</div>
                </div>
            </div>

            <div class="chart-container">
                <h3 class="chart-title"><i class="fas fa-chart-bar"></i> Blood Pressure Comparison</h3>
                <div class="chart-bars">
                    <div class="chart-bar" id="systolic-bar" style="height: 0px;">
                        <div class="chart-value" id="systolic-bar-value">0</div>
                        <div class="chart-label">Systolic</div>
                    </div>
                    <div class="chart-bar diastolic-bar" id="diastolic-bar" style="height: 0px;">
                        <div class="chart-value" id="diastolic-bar-value">0</div>
                        <div class="chart-label">Diastolic</div>
                    </div>
                </div>
            </div>

            <div class="interpretation">
                <h3><i class="fas fa-info-circle"></i> Blood Pressure Categories</h3>
                <ul>
                    <li><strong>Normal:</strong> Systolic <120 AND Diastolic <80 mmHg</li>
                    <li><strong>Elevated:</strong> Systolic 120-129 AND Diastolic <80 mmHg</li>
                    <li><strong>High Blood Pressure Stage 1:</strong> Systolic 130-139 OR Diastolic 80-89 mmHg</li>
                    <li><strong>High Blood Pressure Stage 2:</strong> Systolic ≥140 OR Diastolic ≥90 mmHg</li>
                    <li><strong>Hypertensive Crisis:</strong> Systolic >180 AND/OR Diastolic >120 mmHg (Seek immediate medical attention)</li>
                </ul>
            </div>

            <div id="risk-indicator" class="risk-indicator" style="display: none;">
                <i class="fas fa-exclamation-triangle risk-icon"></i>
                <div class="risk-text" id="risk-text">Your blood pressure risk level will be calculated based on your results</div>
            </div>

            <div class="recommendations">
                <h3><i class="fas fa-lightbulb"></i> Personalized Recommendations</h3>
                <ul class="recommendation-list" id="recommendations-list">
                    <li>Enter your blood pressure values to receive personalized health recommendations</li>
                </ul>
            </div>

            <div class="data-actions">
                <button id="save-btn"><i class="fas fa-save"></i> Save Current Reading</button>
                <button id="clear-btn" class="clear-btn"><i class="fas fa-trash-alt"></i> Clear All Data</button>
            </div>

            <div class="health-tip">
                <h3><i class="fas fa-lightbulb"></i> Health Tip</h3>
                <p>For accurate blood pressure readings, rest quietly for 5 minutes before measuring. Avoid caffeine, alcohol, and smoking for at least 30 minutes before taking your blood pressure. Take readings at the same time each day for consistency.</p>
            </div>
        </div>

        <div class="tab-content" id="history-tab">
            <h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50;"><i class="fas fa-history"></i> Blood Pressure History</h2>
            <div class="history-list" id="history-list">
                <div class="no-history">No history available. Save your readings to see them here.</div>
            </div>
            <div class="button-group" style="margin-top: 20px;">
                <button id="export-history" class="export-btn"><i class="fas fa-file-export"></i> Export History</button>
                <button id="clear-history" class="clear-btn"><i class="fas fa-trash-alt"></i> Clear History</button>
            </div>
        </div>

        <div class="tab-content" id="progress-tab">
            <h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50;"><i class="fas fa-chart-line"></i> Progress Tracker</h2>
            <div class="progress-tracker">
                <h3 class="progress-title"><i class="fas fa-tasks"></i> Your Progress Goals</h3>
                <div class="progress-charts" id="progress-charts">
                    <div class="no-history">No progress data available. Save your readings to track progress.</div>
                </div>
            </div>
        </div>

        <div class="tab-content" id="resources-tab">
            <h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50;"><i class="fas fa-book"></i> Health Resources</h2>
            
            <div class="interpretation">
                <h3><i class="fas fa-heartbeat"></i> Understanding Blood Pressure</h3>
                <p>Blood pressure is the force of your blood pushing against the walls of your arteries. Each heartbeat pushes blood through your arteries to all parts of your body.</p>
                <p>Systolic pressure (the top number) measures the pressure in your arteries when your heart beats. Diastolic pressure (the bottom number) measures the pressure in your arteries when your heart rests between beats.</p>
                <p>Blood pressure is measured in millimeters of mercury (mmHg) and is given as two numbers: systolic over diastolic.</p>
            </div>
            
            <div class="health-tip">
                <h3><i class="fas fa-utensils"></i> Heart-Healthy Lifestyle Tips</h3>
                <ul>
                    <li>Eat a diet rich in fruits, vegetables, and whole grains</li>
                    <li>Limit sodium intake to less than 2,300 mg per day</li>
                    <li>Maintain a healthy weight</li>
                    <li>Exercise regularly (at least 150 minutes per week)</li>
                    <li>Limit alcohol consumption</li>
                    <li>Avoid smoking and tobacco products</li>
                    <li>Manage stress through relaxation techniques</li>
                    <li>Get adequate sleep (7-9 hours per night)</li>
                </ul>
            </div>
            
            <div class="recommendations">
                <h3><i class="fas fa-running"></i> Exercise Recommendations</h3>
                <ul class="recommendation-list">
                    <li>Aim for at least 150 minutes of moderate-intensity aerobic activity per week</li>
                    <li>Include muscle-strengthening activities on 2 or more days per week</li>
                    <li>Try brisk walking, cycling, swimming, or dancing</li>
                    <li>Start slowly and gradually increase intensity and duration</li>
                    <li>Find activities you enjoy to maintain consistency</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // DOM Elements
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const systolicInput = document.getElementById('systolic');
        const diastolicInput = document.getElementById('diastolic');
        const pulseInput = document.getElementById('pulse');
        const dateInput = document.getElementById('date');
        const armSelect = document.getElementById('arm');
        const positionSelect = document.getElementById('position');
        const calculateBtn = document.getElementById('calculate-btn');
        const resetBtn = document.getElementById('reset-btn');
        const exportBtn = document.getElementById('export-btn');
        const bpResult = document.getElementById('bp-result');
        const systolicResult = document.getElementById('systolic-result');
        const diastolicResult = document.getElementById('diastolic-result');
        const pulseResult = document.getElementById('pulse-result');
        const bpStatus = document.getElementById('bp-status');
        const systolicStatus = document.getElementById('systolic-status');
        const diastolicStatus = document.getElementById('diastolic-status');
        const pulseStatus = document.getElementById('pulse-status');
        const saveBtn = document.getElementById('save-btn');
        const clearBtn = document.getElementById('clear-btn');
        const exportHistoryBtn = document.getElementById('export-history');
        const clearHistoryBtn = document.getElementById('clear-history');
        const historyList = document.getElementById('history-list');
        const riskIndicator = document.getElementById('risk-indicator');
        const riskText = document.getElementById('risk-text');
        const recommendationsList = document.getElementById('recommendations-list');
        const notification = document.getElementById('notification');
        const progressCharts = document.getElementById('progress-charts');

        // Chart bars
        const systolicBar = document.getElementById('systolic-bar');
        const diastolicBar = document.getElementById('diastolic-bar');
        const systolicBarValue = document.getElementById('systolic-bar-value');
        const diastolicBarValue = document.getElementById('diastolic-bar-value');

        // Set default date to current time
        window.addEventListener('DOMContentLoaded', () => {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            dateInput.value = `${year}-${month}-${day}T${hours}:${minutes}`;
        });

        // Tab switching
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.getAttribute('data-tab');
                
                // Update active tab
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Show active content
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === `${tabName}-tab`) {
                        content.classList.add('active');
                        if (tabName === 'history') {
                            loadHistory();
                        } else if (tabName === 'progress') {
                            loadProgressData();
                        }
                    }
                });
            });
        });

        // Load saved data on page load
        window.addEventListener('DOMContentLoaded', () => {
            loadSavedData();
            updateChartBars(0, 0);
        });

        // Check blood pressure
        calculateBtn.addEventListener('click', () => {
            const systolic = parseFloat(systolicInput.value);
            const diastolic = parseFloat(diastolicInput.value);
            const pulse = parseFloat(pulseInput.value);

            if (isNaN(systolic) || isNaN(diastolic)) {
                showNotification('Please enter valid systolic and diastolic values', 'error');
                return;
            }

            // Update results
            bpResult.textContent = `${systolic} / ${diastolic} mmHg`;
            systolicResult.textContent = `${systolic} mmHg`;
            diastolicResult.textContent = `${diastolic} mmHg`;
            pulseResult.textContent = pulse ? `${pulse} bpm` : '-- bpm';

            // Determine statuses
            updateStatuses(systolic, diastolic, pulse);
            
            // Update chart
            updateChartBars(systolic, diastolic);
            
            // Calculate risk
            calculateRisk(systolic, diastolic);
            
            // Generate recommendations
            generateRecommendations(systolic, diastolic);
            
            showNotification('Blood pressure checked successfully!', 'success');
        });

        // Reset form
        resetBtn.addEventListener('click', () => {
            systolicInput.value = '';
            diastolicInput.value = '';
            pulseInput.value = '';
            armSelect.value = '';
            positionSelect.value = '';
            bpResult.textContent = '-- / -- mmHg';
            systolicResult.textContent = '-- mmHg';
            diastolicResult.textContent = '-- mmHg';
            pulseResult.textContent = '-- bpm';
            bpStatus.textContent = 'Enter values to check';
            systolicStatus.textContent = '--';
            diastolicStatus.textContent = '--';
            pulseStatus.textContent = '--';
            bpStatus.className = 'result-status';
            systolicStatus.className = 'result-status';
            diastolicStatus.className = 'result-status';
            pulseStatus.className = 'result-status';
            riskIndicator.style.display = 'none';
            recommendationsList.innerHTML = '<li>Enter your blood pressure values to receive personalized health recommendations</li>';
            updateChartBars(0, 0);
            showNotification('Form reset successfully!', 'info');
        });

        // Save data to localStorage
        saveBtn.addEventListener('click', () => {
            const systolic = parseFloat(systolicInput.value);
            const diastolic = parseFloat(diastolicInput.value);
            const pulse = parseFloat(pulseInput.value);
            const date = dateInput.value;
            const arm = armSelect.value;
            const position = positionSelect.value;

            if (isNaN(systolic) || isNaN(diastolic)) {
                showNotification('Please check blood pressure first', 'error');
                return;
            }

            const data = {
                systolic: systolic,
                diastolic: diastolic,
                pulse: pulse,
                date: date,
                arm: arm,
                position: position,
                timestamp: new Date().toLocaleString()
            };
            
            // Get existing history
            let history = JSON.parse(localStorage.getItem('bpHistory')) || [];
            history.push(data);
            
            // Keep only last 50 entries
            if (history.length > 50) {
                history = history.slice(-50);
            }
            
            localStorage.setItem('bpHistory', JSON.stringify(history));
            showNotification('Reading saved successfully!', 'success');
        });

        // Clear all data from localStorage
        clearBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to clear all saved data? This cannot be undone.')) {
                localStorage.removeItem('bpData');
                localStorage.removeItem('bpHistory');
                showNotification('All data cleared successfully!', 'info');
            }
        });

        // Export current results
        exportBtn.addEventListener('click', () => {
            const systolic = parseFloat(systolicInput.value);
            const diastolic = parseFloat(diastolicInput.value);
            const pulse = parseFloat(pulseInput.value);

            if (isNaN(systolic) || isNaN(diastolic)) {
                showNotification('Please check blood pressure first', 'error');
                return;
            }

            const csvContent = `Blood Pressure Results\nDate: ${new Date().toLocaleString()}\nSystolic: ${systolic} mmHg\nDiastolic: ${diastolic} mmHg\nPulse: ${pulse || 'N/A'} bpm`;
            
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.setAttribute('hidden', '');
            a.setAttribute('href', url);
            a.setAttribute('download', `blood_pressure_${new Date().toISOString().slice(0,10)}.txt`);
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showNotification('Results exported successfully!', 'success');
        });

        // Export history
        exportHistoryBtn.addEventListener('click', () => {
            const history = JSON.parse(localStorage.getItem('bpHistory')) || [];
            
            if (history.length === 0) {
                showNotification('No history to export', 'error');
                return;
            }
            
            let csvContent = 'Date,Systolic,Diastolic,Pulse,Arm,Position\n';
            history.forEach(entry => {
                csvContent += `"${entry.timestamp}",${entry.systolic},${entry.diastolic},${entry.pulse || ''},"${entry.arm || ''}","${entry.position || ''}"\n`;
            });
            
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.setAttribute('hidden', '');
            a.setAttribute('href', url);
            a.setAttribute('download', `blood_pressure_history_${new Date().toISOString().slice(0,10)}.csv`);
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showNotification('History exported successfully!', 'success');
        });

        // Clear history
        clearHistoryBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to clear all history? This cannot be undone.')) {
                localStorage.removeItem('bpHistory');
                loadHistory();
                showNotification('History cleared successfully!', 'info');
            }
        });

        // Load saved data from localStorage
        function loadSavedData() {
            const savedData = localStorage.getItem('bpData');
            if (savedData) {
                const data = JSON.parse(savedData);
                systolicInput.value = data.systolic || '';
                diastolicInput.value = data.diastolic || '';
                pulseInput.value = data.pulse || '';
                armSelect.value = data.arm || '';
                positionSelect.value = data.position || '';
            }
        }

        // Update status indicators
        function updateStatuses(systolic, diastolic, pulse) {
            // Blood pressure status
            let status, statusClass;
            
            if (systolic < 120 && diastolic < 80) {
                status = 'Normal';
                statusClass = 'normal';
            } else if (systolic >= 120 && systolic <= 129 && diastolic < 80) {
                status = 'Elevated';
                statusClass = 'elevated';
            } else if ((systolic >= 130 && systolic <= 139) || (diastolic >= 80 && diastolic <= 89)) {
                status = 'High BP Stage 1';
                statusClass = 'high1';
            } else if (systolic >= 140 || diastolic >= 90) {
                status = 'High BP Stage 2';
                statusClass = 'high2';
            } else {
                status = 'Unknown';
                statusClass = 'normal';
            }
            
            bpStatus.textContent = status;
            bpStatus.className = 'result-status ' + statusClass;

            // Systolic status
            if (systolic < 120) {
                status = 'Normal';
                statusClass = 'normal';
            } else if (systolic >= 120 && systolic <= 129) {
                status = 'Elevated';
                statusClass = 'elevated';
            } else if (systolic >= 130 && systolic <= 139) {
                status = 'High Stage 1';
                statusClass = 'high1';
            } else if (systolic >= 140 && systolic <= 179) {
                status = 'High Stage 2';
                statusClass = 'high2';
            } else if (systolic >= 180) {
                status = 'Crisis';
                statusClass = 'crisis';
            } else {
                status = '--';
                statusClass = '';
            }
            
            systolicStatus.textContent = status;
            systolicStatus.className = 'result-status ' + statusClass;

            // Diastolic status
            if (diastolic < 80) {
                status = 'Normal';
                statusClass = 'normal';
            } else if (diastolic >= 80 && diastolic <= 89) {
                status = 'High Stage 1';
                statusClass = 'high1';
            } else if (diastolic >= 90 && diastolic <= 119) {
                status = 'High Stage 2';
                statusClass = 'high2';
            } else if (diastolic >= 120) {
                status = 'Crisis';
                statusClass = 'crisis';
            } else {
                status = '--';
                statusClass = '';
            }
            
            diastolicStatus.textContent = status;
            diastolicStatus.className = 'result-status ' + statusClass;

            // Pulse status
            if (pulse) {
                if (pulse >= 60 && pulse <= 100) {
                    status = 'Normal';
                    statusClass = 'normal';
                } else if (pulse < 60) {
                    status = 'Low';
                    statusClass = 'elevated';
                } else {
                    status = 'High';
                    statusClass = 'high1';
                }
                pulseStatus.textContent = status;
                pulseStatus.className = 'result-status ' + statusClass;
            } else {
                pulseStatus.textContent = '--';
                pulseStatus.className = 'result-status';
            }
        }

        // Update chart bars with animation
        function updateChartBars(systolic, diastolic) {
            // Normalize values for chart display (max 200 for visualization)
            const maxValue = 200;
            const systolicHeight = Math.min(100, (systolic / maxValue) * 100);
            const diastolicHeight = Math.min(100, (diastolic / maxValue) * 100);
            
            systolicBar.style.height = `${systolicHeight}%`;
            diastolicBar.style.height = `${diastolicHeight}%`;
            
            systolicBarValue.textContent = systolic;
            diastolicBarValue.textContent = diastolic;
        }

        // Calculate blood pressure risk
        function calculateRisk(systolic, diastolic) {
            let riskLevel = '';
            let riskMessage = '';
            
            if (systolic > 180 || diastolic > 120) {
                riskLevel = 'Hypertensive Crisis';
                riskMessage = 'This is a hypertensive crisis. Seek immediate medical attention.';
            } else if (systolic >= 140 || diastolic >= 90) {
                riskLevel = 'High Risk';
                riskMessage = 'You have high blood pressure. Consult your doctor for treatment options.';
            } else if ((systolic >= 130 && systolic <= 139) || (diastolic >= 80 && diastolic <= 89)) {
                riskLevel = 'Moderate Risk';
                riskMessage = 'You have elevated blood pressure. Lifestyle changes are recommended.';
            } else if (systolic >= 120 && systolic <= 129 && diastolic < 80) {
                riskLevel = 'Slight Risk';
                riskMessage = 'Your blood pressure is elevated. Monitor regularly and maintain healthy habits.';
            } else {
                riskLevel = 'Low Risk';
                riskMessage = 'Your blood pressure is in the normal range. Continue maintaining a healthy lifestyle.';
            }
            
            riskText.innerHTML = `<strong>${riskLevel}:</strong> ${riskMessage}`;
            riskIndicator.style.display = 'flex';
            
            if (systolic > 180 || diastolic > 120) {
                riskIndicator.style.backgroundColor = '#f8d7da';
                document.querySelector('.risk-icon').style.color = '#721c24';
                riskText.style.color = '#721c24';
            } else {
                riskIndicator.style.backgroundColor = '#fff3cd';
                document.querySelector('.risk-icon').style.color = '#856404';
                riskText.style.color = '#856404';
            }
        }

        // Generate personalized recommendations
        function generateRecommendations(systolic, diastolic) {
            let recommendations = [];
            
            if (systolic >= 140 || diastolic >= 90) {
                recommendations.push('Consult your doctor immediately for proper treatment and medication.');
                recommendations.push('Follow a low-sodium diet (less than 1,500 mg per day).');
                recommendations.push('Monitor your blood pressure daily and keep a log.');
            } else if (systolic >= 130 || diastolic >= 80) {
                recommendations.push('Reduce sodium intake and increase potassium-rich foods.');
                recommendations.push('Engage in regular physical activity (30 minutes most days).');
                recommendations.push('Maintain a healthy weight through diet and exercise.');
            } else if (systolic >= 120 || diastolic >= 80) {
                recommendations.push('Adopt heart-healthy eating patterns (DASH diet).');
                recommendations.push('Limit alcohol consumption to moderate levels.');
                recommendations.push('Manage stress through relaxation techniques.');
            } else {
                recommendations.push('Continue your healthy lifestyle habits to maintain normal blood pressure.');
                recommendations.push('Regular monitoring is still important for prevention.');
            }
            
            recommendationsList.innerHTML = recommendations.map(rec => `<li>${rec}</li>`).join('');
        }

        // Load history into tab
        function loadHistory() {
            const history = JSON.parse(localStorage.getItem('bpHistory')) || [];
            
            if (history.length === 0) {
                historyList.innerHTML = '<div class="no-history">No history available. Save your readings to see them here.</div>';
                return;
            }
            
            let historyHTML = '';
            history.slice().reverse().forEach((entry, index) => {
                const originalIndex = history.length - 1 - index;
                historyHTML += `
                    <div class="history-item">
                        <div class="history-item-header">
                            <span>${entry.timestamp}</span>
                            <button class="delete-history" data-index="${originalIndex}" style="background: #e74c3c; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 12px;">Delete</button>
                        </div>
                        <div class="history-item-values">
                            <div class="history-value">
                                <div class="history-value-label">Systolic</div>
                                <div class="history-value-data">${entry.systolic} mmHg</div>
                            </div>
                            <div class="history-value">
                                <div class="history-value-label">Diastolic</div>
                                <div class="history-value-data">${entry.diastolic} mmHg</div>
                            </div>
                            <div class="history-value">
                                <div class="history-value-label">Pulse</div>
                                <div class="history-value-data">${entry.pulse || '--'} bpm</div>
                            </div>
                        </div>
                        <div style="margin-top: 10px; font-size: 12px; color: #666;">
                            Arm: ${entry.arm || 'N/A'} | Position: ${entry.position || 'N/A'}
                        </div>
                    </div>
                `;
            });
            
            historyList.innerHTML = historyHTML;
            
            // Add event listeners to delete buttons
            document.querySelectorAll('.delete-history').forEach(button => {
                button.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    deleteHistoryEntry(index);
                });
            });
        }

        // Delete a history entry
        function deleteHistoryEntry(index) {
            let history = JSON.parse(localStorage.getItem('bpHistory')) || [];
            history.splice(index, 1);
            localStorage.setItem('bpHistory', JSON.stringify(history));
            loadHistory();
            showNotification('History entry deleted!', 'info');
        }

        // Load progress data
        function loadProgressData() {
            const history = JSON.parse(localStorage.getItem('bpHistory')) || [];
            
            if (history.length === 0) {
                progressCharts.innerHTML = '<div class="no-history">No progress data available. Save your readings to track progress.</div>';
                return;
            }
            
            // Calculate averages
            const avgSystolic = history.reduce((sum, entry) => sum + entry.systolic, 0) / history.length;
            const avgDiastolic = history.reduce((sum, entry) => sum + entry.diastolic, 0) / history.length;
            
            // Create progress charts
            let chartsHTML = `
                <div class="progress-chart">
                    <h4>Systolic Pressure Progress</h4>
                    <div class="progress-line">
                        <div class="progress-fill" style="width: ${Math.min(100, (avgSystolic / 180) * 100)}%"></div>
                        <div class="progress-target" style="left: ${(120 / 180) * 100}%"></div>
                    </div>
                    <div class="progress-info">
                        <span>Average: ${avgSystolic.toFixed(1)} mmHg</span>
                        <span>Target: <120 mmHg</span>
                    </div>
                </div>
                
                <div class="progress-chart">
                    <h4>Diastolic Pressure Progress</h4>
                    <div class="progress-line">
                        <div class="progress-fill" style="width: ${Math.min(100, (avgDiastolic / 120) * 100)}%"></div>
                        <div class="progress-target" style="left: ${(80 / 120) * 100}%"></div>
                    </div>
                    <div class="progress-info">
                        <span>Average: ${avgDiastolic.toFixed(1)} mmHg</span>
                        <span>Target: <80 mmHg</span>
                    </div>
                </div>
            `;
            
            progressCharts.innerHTML = chartsHTML;
        }

        // Show notification
        function showNotification(message, type) {
            notification.textContent = message;
            notification.className = 'notification ' + type;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>