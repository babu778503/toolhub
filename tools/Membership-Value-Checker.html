<!DOCTYPE html>
<!-- Category: Business Tools -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Membership Value Checker</title>
    <meta name="description" content="Membership Value Checker - Advanced tool to calculate, analyze, and compare membership benefits, costs, ROI, and value for your business or organization.">
    <meta name="keywords" content="membership value checker, membership calculator, membership analysis, business tools, membership ROI, membership benefits calculator, value comparison, membership planning">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        /* Desktop Styles */
        header {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2, #667eea);
            background-size: 200% 100%;
            animation: gradientAnimation 3s linear infinite;
        }
        
        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }
        
        h1 {
            color: #333;
            font-size: 2.5rem;
            margin-bottom: 0;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .tool-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .input-section, .result-section, .comparison-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            backdrop-filter: blur(10px);
        }
        
        .section-title {
            color: #555;
            font-size: 1.5rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .range-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .range-container input[type="range"] {
            flex: 1;
        }
        
        .range-value {
            min-width: 60px;
            text-align: center;
            font-weight: 600;
            color: #667eea;
        }
        
        button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .secondary-btn {
            background: linear-gradient(45deg, #28a745, #238636);
        }
        
        .danger-btn {
            background: linear-gradient(45deg, #dc3545, #c82333);
        }
        
        .result-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            transition: transform 0.2s ease;
        }
        
        .result-item:hover {
            transform: translateX(5px);
        }
        
        .result-label {
            font-weight: 600;
            color: #555;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .result-value {
            font-size: 1.4rem;
            color: #333;
            font-weight: 700;
        }
        
        .positive {
            color: #28a745;
        }
        
        .negative {
            color: #dc3545;
        }
        
        .warning {
            color: #ffc107;
        }
        
        .info {
            color: #17a2b8;
        }
        
        .data-management {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            text-align: center;
            margin-bottom: 30px;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .chart-container {
            height: 200px;
            margin: 20px 0;
            position: relative;
        }
        
        .chart-bar {
            position: absolute;
            bottom: 0;
            width: 40px;
            background: linear-gradient(to top, #667eea, #764ba2);
            border-radius: 4px 4px 0 0;
            transition: height 1s ease;
        }
        
        .chart-label {
            position: absolute;
            bottom: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 12px;
            font-weight: 600;
        }
        
        .chart-value {
            position: absolute;
            top: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 12px;
            font-weight: 600;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .comparison-table th, .comparison-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .comparison-table th {
            background: #f8f9fa;
            font-weight: 600;
        }
        
        .comparison-table tr:hover {
            background: #f0f5ff;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .badge-excellent {
            background: #d4edda;
            color: #155724;
        }
        
        .badge-good {
            background: #cce7ff;
            color: #004085;
        }
        
        .badge-fair {
            background: #fff3cd;
            color: #856404;
        }
        
        .badge-poor {
            background: #f8d7da;
            color: #721c24;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: linear-gradient(45deg, #28a745, #238636);
        }
        
        .notification.error {
            background: linear-gradient(45deg, #dc3545, #c82333);
        }
        
        /* Mobile Styles */
        @media (max-width: 1024px) {
            .tool-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            header {
                height: 50px;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 0 15px;
                margin-bottom: 20px;
            }
            
            h1 {
                font-size: 1.5rem;
                margin: 0;
            }
            
            .tool-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                margin-bottom: 20px;
            }
            
            .input-section, .result-section, .comparison-section {
                padding: 20px;
            }
            
            .section-title {
                font-size: 1.3rem;
                margin-bottom: 15px;
            }
            
            .form-group {
                margin-bottom: 15px;
            }
            
            input, select, textarea {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            button {
                padding: 12px 20px;
                font-size: 14px;
            }
            
            .result-value {
                font-size: 1.2rem;
            }
            
            .data-management {
                padding: 20px;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .range-container {
                flex-direction: column;
                gap: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-calculator"></i> Membership Value Checker</h1>
        </header>
        
        <div class="tabs">
            <div class="tab active" data-tab="calculator">Calculator</div>
            <div class="tab" data-tab="comparison">Comparison</div>
            <div class="tab" data-tab="analytics">Analytics</div>
        </div>
        
        <div class="tab-content active" id="calculator-tab">
            <div class="tool-grid">
                <div class="input-section">
                    <h2 class="section-title"><i class="fas fa-edit"></i> Membership Details</h2>
                    
                    <div class="form-group">
                        <label for="membershipName"><i class="fas fa-tag"></i> Membership Name</label>
                        <input type="text" id="membershipName" placeholder="e.g., Premium Plus Membership">
                    </div>
                    
                    <div class="form-group">
                        <label for="membershipType"><i class="fas fa-crown"></i> Membership Type</label>
                        <select id="membershipType">
                            <option value="basic">Basic Membership</option>
                            <option value="premium" selected>Premium Membership</option>
                            <option value="vip">VIP Membership</option>
                            <option value="corporate">Corporate Membership</option>
                            <option value="lifetime">Lifetime Membership</option>
                            <option value="student">Student Membership</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="annualFee"><i class="fas fa-dollar-sign"></i> Annual Membership Fee ($)</label>
                        <input type="number" id="annualFee" min="0" step="0.01" value="199">
                    </div>
                    
                    <div class="form-group">
                        <label for="benefitsValue"><i class="fas fa-gift"></i> Estimated Annual Benefits Value ($)</label>
                        <input type="number" id="benefitsValue" min="0" step="0.01" value="350">
                    </div>
                    
                    <div class="form-group">
                        <label for="usageFrequency"><i class="fas fa-calendar-alt"></i> Expected Usage Frequency</label>
                        <select id="usageFrequency">
                            <option value="rarely">Rarely (1-2 times/year)</option>
                            <option value="occasionally">Occasionally (3-6 times/year)</option>
                            <option value="regularly" selected>Regularly (7-12 times/year)</option>
                            <option value="frequently">Frequently (13+ times/year)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="discountPercentage"><i class="fas fa-percent"></i> Average Discount Percentage (%)</label>
                        <div class="range-container">
                            <input type="range" id="discountPercentage" min="0" max="50" step="0.5" value="15">
                            <span class="range-value" id="discountValue">15%</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="additionalBenefits"><i class="fas fa-plus-circle"></i> Additional Benefits (Optional)</label>
                        <textarea id="additionalBenefits" rows="3" placeholder="List any additional benefits like exclusive events, priority support, etc."></textarea>
                    </div>
                    
                    <button id="calculateBtn"><i class="fas fa-calculator"></i> Calculate Membership Value</button>
                    <button id="saveMembershipBtn" class="secondary-btn"><i class="fas fa-save"></i> Save Membership</button>
                </div>
                
                <div class="result-section">
                    <h2 class="section-title"><i class="fas fa-chart-line"></i> Value Analysis</h2>
                    
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-wallet"></i> Net Value</div>
                        <div class="result-value positive" id="netValue">$151.00</div>
                    </div>
                    
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-percentage"></i> Return on Investment</div>
                        <div class="result-value positive" id="roi">75.9%</div>
                    </div>
                    
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-coins"></i> Value per Usage</div>
                        <div class="result-value" id="valuePerUsage">$25.17</div>
                    </div>
                    
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-lightbulb"></i> Recommendation</div>
                        <div class="result-value positive" id="recommendation">Excellent Value</div>
                        <div class="badge badge-excellent" id="recommendationBadge">Excellent Value</div>
                    </div>
                    
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-balance-scale"></i> Break-even Point</div>
                        <div class="result-value" id="breakEven">3.4 times/year</div>
                    </div>
                    
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-clock"></i> Payback Period</div>
                        <div class="result-value info" id="paybackPeriod">1.3 years</div>
                    </div>
                </div>
                
                <div class="comparison-section">
                    <h2 class="section-title"><i class="fas fa-chart-bar"></i> Visual Analysis</h2>
                    
                    <div class="chart-container" id="valueChart">
                        <!-- Chart will be generated by JavaScript -->
                    </div>
                    
                    <div class="form-group">
                        <label for="comparisonMembership"><i class="fas fa-exchange-alt"></i> Compare With</label>
                        <select id="comparisonMembership">
                            <option value="">Select a saved membership</option>
                        </select>
                    </div>
                    
                    <div id="comparisonResult"></div>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="comparison-tab">
            <div class="input-section">
                <h2 class="section-title"><i class="fas fa-columns"></i> Membership Comparison</h2>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Membership</th>
                            <th>Annual Fee</th>
                            <th>Benefits Value</th>
                            <th>Net Value</th>
                            <th>ROI</th>
                            <th>Recommendation</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="comparisonTableBody">
                        <!-- Comparison data will be populated here -->
                    </tbody>
                </table>
                <button id="clearAllBtn" class="danger-btn"><i class="fas fa-trash"></i> Clear All Memberships</button>
            </div>
        </div>
        
        <div class="tab-content" id="analytics-tab">
            <div class="tool-grid">
                <div class="input-section">
                    <h2 class="section-title"><i class="fas fa-chart-pie"></i> Advanced Analytics</h2>
                    
                    <div class="form-group">
                        <label for="timePeriod"><i class="fas fa-history"></i> Analysis Period</label>
                        <select id="timePeriod">
                            <option value="1">1 Year</option>
                            <option value="3" selected>3 Years</option>
                            <option value="5">5 Years</option>
                            <option value="10">10 Years</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="inflationRate"><i class="fas fa-percentage"></i> Inflation Rate (%)</label>
                        <div class="range-container">
                            <input type="range" id="inflationRate" min="0" max="10" step="0.1" value="2.5">
                            <span class="range-value" id="inflationValue">2.5%</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="investmentReturn"><i class="fas fa-chart-line"></i> Alternative Investment Return (%)</label>
                        <div class="range-container">
                            <input type="range" id="investmentReturn" min="0" max="15" step="0.1" value="5">
                            <span class="range-value" id="investmentValue">5.0%</span>
                        </div>
                    </div>
                    
                    <button id="analyzeBtn"><i class="fas fa-search"></i> Run Advanced Analysis</button>
                </div>
                
                <div class="result-section">
                    <h2 class="section-title"><i class="fas fa-file-invoice-dollar"></i> Long-term Analysis</h2>
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-coins"></i> 3-Year Net Value</div>
                        <div class="result-value positive" id="longTermValue">$453.00</div>
                    </div>
                    
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-chart-line"></i> Opportunity Cost</div>
                        <div class="result-value negative" id="opportunityCost">$-150.00</div>
                    </div>
                    
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-balance-scale"></i> Net Present Value</div>
                        <div class="result-value positive" id="npv">$303.00</div>
                    </div>
                    
                    <div class="result-item">
                        <div class="result-label"><i class="fas fa-trophy"></i> Best Value Option</div>
                        <div class="result-value positive" id="bestValue">Premium Membership</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="data-management">
            <h2 class="section-title"><i class="fas fa-database"></i> Data Management</h2>
            <p>Your data is automatically saved in your browser. Clear all saved data if needed.</p>
            <button class="danger-btn" id="clearDataBtn"><i class="fas fa-trash"></i> Clear All Saved Data</button>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>

    <script>
        // DOM Elements
        const calculateBtn = document.getElementById('calculateBtn');
        const saveMembershipBtn = document.getElementById('saveMembershipBtn');
        const clearDataBtn = document.getElementById('clearDataBtn');
        const clearAllBtn = document.getElementById('clearAllBtn');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const notification = document.getElementById('notification');
        
        // Input elements
        const inputs = {
            membershipName: document.getElementById('membershipName'),
            membershipType: document.getElementById('membershipType'),
            annualFee: document.getElementById('annualFee'),
            benefitsValue: document.getElementById('benefitsValue'),
            usageFrequency: document.getElementById('usageFrequency'),
            discountPercentage: document.getElementById('discountPercentage'),
            additionalBenefits: document.getElementById('additionalBenefits'),
            timePeriod: document.getElementById('timePeriod'),
            inflationRate: document.getElementById('inflationRate'),
            investmentReturn: document.getElementById('investmentReturn')
        };
        
        // Display elements
        const displayElements = {
            netValue: document.getElementById('netValue'),
            roi: document.getElementById('roi'),
            valuePerUsage: document.getElementById('valuePerUsage'),
            recommendation: document.getElementById('recommendation'),
            recommendationBadge: document.getElementById('recommendationBadge'),
            breakEven: document.getElementById('breakEven'),
            paybackPeriod: document.getElementById('paybackPeriod'),
            longTermValue: document.getElementById('longTermValue'),
            opportunityCost: document.getElementById('opportunityCost'),
            npv: document.getElementById('npv'),
            bestValue: document.getElementById('bestValue'),
            discountValue: document.getElementById('discountValue'),
            inflationValue: document.getElementById('inflationValue'),
            investmentValue: document.getElementById('investmentValue')
        };
        
        // Usage frequency mapping
        const usageValues = {
            'rarely': 1.5,
            'occasionally': 4.5,
            'regularly': 9.5,
            'frequently': 15
        };
        
        // Show notification
        function showNotification(message, type = 'success') {
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Load saved data
        function loadSavedData() {
            for (let key in inputs) {
                const savedValue = localStorage.getItem(`mvc_${key}`);
                if (savedValue !== null) {
                    inputs[key].value = savedValue;
                }
            }
            
            // Update range displays
            displayElements.discountValue.textContent = inputs.discountPercentage.value + '%';
            displayElements.inflationValue.textContent = inputs.inflationRate.value + '%';
            displayElements.investmentValue.textContent = inputs.investmentReturn.value + '%';
            
            // Load saved memberships
            loadSavedMemberships();
        }
        
        // Save data to localStorage
        function saveData() {
            for (let key in inputs) {
                localStorage.setItem(`mvc_${key}`, inputs[key].value);
            }
        }
        
        // Save membership
        function saveMembership() {
            const membershipData = {
                id: Date.now(),
                name: inputs.membershipName.value || inputs.membershipType.options[inputs.membershipType.selectedIndex].text,
                type: inputs.membershipType.value,
                annualFee: parseFloat(inputs.annualFee.value) || 0,
                benefitsValue: parseFloat(inputs.benefitsValue.value) || 0,
                usageFrequency: inputs.usageFrequency.value,
                discountPercentage: parseFloat(inputs.discountPercentage.value) || 0,
                additionalBenefits: inputs.additionalBenefits.value,
                timestamp: new Date().toISOString()
            };
            
            let savedMemberships = JSON.parse(localStorage.getItem('mvc_memberships') || '[]');
            savedMemberships.push(membershipData);
            localStorage.setItem('mvc_memberships', JSON.stringify(savedMemberships));
            
            showNotification('Membership saved successfully!');
            loadSavedMemberships();
        }
        
        // Load saved memberships
        function loadSavedMemberships() {
            const savedMemberships = JSON.parse(localStorage.getItem('mvc_memberships') || '[]');
            const comparisonSelect = document.getElementById('comparisonMembership');
            const comparisonTableBody = document.getElementById('comparisonTableBody');
            
            // Clear existing options
            comparisonSelect.innerHTML = '<option value="">Select a saved membership</option>';
            comparisonTableBody.innerHTML = '';
            
            // Add saved memberships to select and table
            savedMemberships.forEach(membership => {
                const option = document.createElement('option');
                option.value = membership.id;
                option.textContent = membership.name;
                comparisonSelect.appendChild(option);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${membership.name}</td>
                    <td>$${membership.annualFee.toFixed(2)}</td>
                    <td>$${membership.benefitsValue.toFixed(2)}</td>
                    <td class="${getNetValueClass(membership)}">$${getNetValue(membership).toFixed(2)}</td>
                    <td class="${getRoiClass(membership)}">${getRoi(membership).toFixed(1)}%</td>
                    <td><span class="badge ${getRecommendationBadge(membership)}">${getRecommendation(membership)}</span></td>
                    <td>
                        <button onclick="loadMembership(${membership.id})" class="secondary-btn" style="padding: 5px 10px; font-size: 12px;">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button onclick="deleteMembership(${membership.id})" class="danger-btn" style="padding: 5px 10px; font-size: 12px; margin-left: 5px;">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                comparisonTableBody.appendChild(row);
            });
        }
        
        // Load membership data
        function loadMembership(id) {
            const savedMemberships = JSON.parse(localStorage.getItem('mvc_memberships') || '[]');
            const membership = savedMemberships.find(m => m.id == id);
            
            if (membership) {
                inputs.membershipName.value = membership.name;
                inputs.membershipType.value = membership.type;
                inputs.annualFee.value = membership.annualFee;
                inputs.benefitsValue.value = membership.benefitsValue;
                inputs.usageFrequency.value = membership.usageFrequency;
                inputs.discountPercentage.value = membership.discountPercentage;
                inputs.additionalBenefits.value = membership.additionalBenefits;
                
                calculateValue();
                showNotification('Membership loaded successfully!');
                
                // Switch to calculator tab
                document.querySelector('[data-tab="calculator"]').click();
            }
        }
        
        // Delete membership
        function deleteMembership(id) {
            if (confirm('Are you sure you want to delete this membership?')) {
                let savedMemberships = JSON.parse(localStorage.getItem('mvc_memberships') || '[]');
                savedMemberships = savedMemberships.filter(m => m.id != id);
                localStorage.setItem('mvc_memberships', JSON.stringify(savedMemberships));
                loadSavedMemberships();
                showNotification('Membership deleted successfully!');
            }
        }
        
        // Clear all saved data
        function clearSavedData() {
            if (confirm('Are you sure you want to clear all saved data? This cannot be undone.')) {
                localStorage.clear();
                // Reset to default values
                inputs.membershipName.value = '';
                inputs.membershipType.value = 'premium';
                inputs.annualFee.value = '199';
                inputs.benefitsValue.value = '350';
                inputs.usageFrequency.value = 'regularly';
                inputs.discountPercentage.value = '15';
                inputs.additionalBenefits.value = '';
                inputs.timePeriod.value = '3';
                inputs.inflationRate.value = '2.5';
                inputs.investmentReturn.value = '5';
                
                // Update range displays
                displayElements.discountValue.textContent = '15%';
                displayElements.inflationValue.textContent = '2.5%';
                displayElements.investmentValue.textContent = '5.0%';
                
                // Clear comparison table
                document.getElementById('comparisonTableBody').innerHTML = '';
                document.getElementById('comparisonMembership').innerHTML = '<option value="">Select a saved membership</option>';
                
                calculateValue();
                showNotification('All data cleared successfully!');
            }
        }
        
        // Helper functions for calculations
        function getNetValue(membership) {
            const annualFee = membership.annualFee || 0;
            const benefitsValue = membership.benefitsValue || 0;
            const usageFrequency = membership.usageFrequency;
            const discountPercentage = membership.discountPercentage || 0;
            
            const averageAnnualSpending = usageValues[usageFrequency] * 50;
            const discountSavings = averageAnnualSpending * (discountPercentage / 100);
            const totalBenefits = benefitsValue + discountSavings;
            return totalBenefits - annualFee;
        }
        
        function getRoi(membership) {
            const annualFee = membership.annualFee || 0;
            const netValue = getNetValue(membership);
            return annualFee > 0 ? ((netValue / annualFee) * 100) : (netValue > 0 ? 100 : 0);
        }
        
        function getRecommendation(membership) {
            const netValue = getNetValue(membership);
            if (netValue > 100) return 'Excellent Value';
            if (netValue > 50) return 'Good Value';
            if (netValue > 0) return 'Fair Value';
            return 'Poor Value';
        }
        
        function getNetValueClass(membership) {
            const netValue = getNetValue(membership);
            return netValue >= 0 ? 'positive' : 'negative';
        }
        
        function getRoiClass(membership) {
            const roi = getRoi(membership);
            return roi >= 0 ? 'positive' : 'negative';
        }
        
        function getRecommendationBadge(membership) {
            const recommendation = getRecommendation(membership);
            switch(recommendation) {
                case 'Excellent Value': return 'badge-excellent';
                case 'Good Value': return 'badge-good';
                case 'Fair Value': return 'badge-fair';
                default: return 'badge-poor';
            }
        }
        
        // Calculate membership value
        function calculateValue() {
            const annualFee = parseFloat(inputs.annualFee.value) || 0;
            const benefitsValue = parseFloat(inputs.benefitsValue.value) || 0;
            const usageFrequency = inputs.usageFrequency.value;
            const discountPercentage = parseFloat(inputs.discountPercentage.value) || 0;
            
            // Calculate additional savings from discounts
            const averageAnnualSpending = usageValues[usageFrequency] * 50;
            const discountSavings = averageAnnualSpending * (discountPercentage / 100);
            
            // Total benefits value
            const totalBenefits = benefitsValue + discountSavings;
            
            // Net value calculation
            const netValue = totalBenefits - annualFee;
            
            // ROI calculation
            const roi = annualFee > 0 ? ((netValue / annualFee) * 100) : (netValue > 0 ? 100 : 0);
            
            // Value per usage
            const valuePerUsage = usageValues[usageFrequency] > 0 ? (netValue / usageValues[usageFrequency]) : 0;
            
            // Break-even point
            const breakEven = annualFee > 0 && benefitsValue > 0 ? 
                (annualFee / (benefitsValue / usageValues[usageFrequency])).toFixed(1) : '0';
            
            // Payback period
            const paybackPeriod = netValue > 0 ? (annualFee / netValue).toFixed(1) : '∞';
            
            // Recommendation
            let recommendation = '';
            let recommendationClass = '';
            let badgeClass = '';
            
            if (netValue > 100) {
                recommendation = 'Excellent Value';
                recommendationClass = 'positive';
                badgeClass = 'badge-excellent';
            } else if (netValue > 50) {
                recommendation = 'Good Value';
                recommendationClass = 'positive';
                badgeClass = 'badge-good';
            } else if (netValue > 0) {
                recommendation = 'Fair Value';
                recommendationClass = 'warning';
                badgeClass = 'badge-fair';
            } else {
                recommendation = 'Poor Value';
                recommendationClass = 'negative';
                badgeClass = 'badge-poor';
            }
            
            // Update UI
            displayElements.netValue.textContent = `$${netValue.toFixed(2)}`;
            displayElements.netValue.className = `result-value ${netValue >= 0 ? 'positive' : 'negative'}`;
            
            displayElements.roi.textContent = `${roi.toFixed(1)}%`;
            displayElements.roi.className = `result-value ${roi >= 0 ? 'positive' : 'negative'}`;
            
            displayElements.valuePerUsage.textContent = `$${valuePerUsage.toFixed(2)}`;
            displayElements.valuePerUsage.className = `result-value ${valuePerUsage >= 0 ? 'positive' : 'negative'}`;
            
            displayElements.recommendation.textContent = recommendation;
            displayElements.recommendation.className = `result-value ${recommendationClass}`;
            displayElements.recommendationBadge.textContent = recommendation;
            displayElements.recommendationBadge.className = `badge ${badgeClass}`;
            
            displayElements.breakEven.textContent = `${breakEven} times/year`;
            displayElements.paybackPeriod.textContent = paybackPeriod === '∞' ? 'Never' : `${paybackPeriod} years`;
            displayElements.paybackPeriod.className = `result-value ${paybackPeriod === '∞' ? 'negative' : 'info'}`;
            
            // Generate chart
            generateChart(netValue, annualFee, totalBenefits);
            
            // Save data
            saveData();
        }
        
        // Generate value chart
        function generateChart(netValue, annualFee, totalBenefits) {
            const chartContainer = document.getElementById('valueChart');
            chartContainer.innerHTML = '';
            
            const maxValue = Math.max(Math.abs(netValue), annualFee, totalBenefits);
            const chartHeight = 150;
            
            // Annual Fee bar
            const feeBar = document.createElement('div');
            feeBar.className = 'chart-bar';
            feeBar.style.left = '50px';
            feeBar.style.height = `${(annualFee / maxValue) * chartHeight}px`;
            feeBar.style.backgroundColor = '#dc3545';
            
            const feeLabel = document.createElement('div');
            feeLabel.className = 'chart-label';
            feeLabel.textContent = 'Fee';
            feeLabel.style.left = '50px';
            
            const feeValue = document.createElement('div');
            feeValue.className = 'chart-value';
            feeValue.textContent = `$${annualFee.toFixed(0)}`;
            feeValue.style.left = '50px';
            feeValue.style.color = '#dc3545';
            
            // Benefits bar
            const benefitsBar = document.createElement('div');
            benefitsBar.className = 'chart-bar';
            benefitsBar.style.left = '120px';
            benefitsBar.style.height = `${(totalBenefits / maxValue) * chartHeight}px`;
            benefitsBar.style.backgroundColor = '#28a745';
            
            const benefitsLabel = document.createElement('div');
            benefitsLabel.className = 'chart-label';
            benefitsLabel.textContent = 'Benefits';
            benefitsLabel.style.left = '120px';
            
            const benefitsValue = document.createElement('div');
            benefitsValue.className = 'chart-value';
            benefitsValue.textContent = `$${totalBenefits.toFixed(0)}`;
            benefitsValue.style.left = '120px';
            benefitsValue.style.color = '#28a745';
            
            // Net Value bar
            const netBar = document.createElement('div');
            netBar.className = 'chart-bar';
            netBar.style.left = '190px';
            netBar.style.height = `${(Math.abs(netValue) / maxValue) * chartHeight}px`;
            netBar.style.backgroundColor = netValue >= 0 ? '#17a2b8' : '#ffc107';
            
            const netLabel = document.createElement('div');
            netLabel.className = 'chart-label';
            netLabel.textContent = 'Net Value';
            netLabel.style.left = '190px';
            
            const netValueDisplay = document.createElement('div');
            netValueDisplay.className = 'chart-value';
            netValueDisplay.textContent = `$${netValue.toFixed(0)}`;
            netValueDisplay.style.left = '190px';
            netValueDisplay.style.color = netValue >= 0 ? '#17a2b8' : '#ffc107';
            
            chartContainer.appendChild(feeBar);
            chartContainer.appendChild(feeLabel);
            chartContainer.appendChild(feeValue);
            chartContainer.appendChild(benefitsBar);
            chartContainer.appendChild(benefitsLabel);
            chartContainer.appendChild(benefitsValue);
            chartContainer.appendChild(netBar);
            chartContainer.appendChild(netLabel);
            chartContainer.appendChild(netValueDisplay);
        }
        
        // Run advanced analysis
        function runAdvancedAnalysis() {
            const timePeriod = parseInt(inputs.timePeriod.value) || 3;
            const inflationRate = parseFloat(inputs.inflationRate.value) || 2.5;
            const investmentReturn = parseFloat(inputs.investmentReturn.value) || 5;
            const annualFee = parseFloat(inputs.annualFee.value) || 0;
            const netValue = getNetValue({
                annualFee: annualFee,
                benefitsValue: parseFloat(inputs.benefitsValue.value) || 0,
                usageFrequency: inputs.usageFrequency.value,
                discountPercentage: parseFloat(inputs.discountPercentage.value) || 0
            });
            
            // Calculate long-term value
            let totalValue = 0;
            let totalInvestment = 0;
            let opportunityCost = 0;
            
            for (let year = 1; year <= timePeriod; year++) {
                const adjustedValue = netValue / Math.pow(1 + (inflationRate / 100), year - 1);
                const investmentGain = totalInvestment * (investmentReturn / 100);
                
                totalValue += adjustedValue;
                totalInvestment += annualFee;
                opportunityCost -= investmentGain;
            }
            
            // Net Present Value
            const npv = totalValue + opportunityCost;
            
            // Update UI
            displayElements.longTermValue.textContent = `$${totalValue.toFixed(2)}`;
            displayElements.opportunityCost.textContent = `$${opportunityCost.toFixed(2)}`;
            displayElements.npv.textContent = `$${npv.toFixed(2)}`;
            displayElements.npv.className = `result-value ${npv >= 0 ? 'positive' : 'negative'}`;
            displayElements.bestValue.textContent = npv >= 0 ? inputs.membershipType.options[inputs.membershipType.selectedIndex].text : 'Alternative Investment';
            
            showNotification('Advanced analysis completed!');
        }
        
        // Tab switching
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.getAttribute('data-tab');
                
                // Remove active class from all tabs and contents
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding content
                tab.classList.add('active');
                document.getElementById(`${tabName}-tab`).classList.add('active');
            });
        });
        
        // Event Listeners
        calculateBtn.addEventListener('click', calculateValue);
        saveMembershipBtn.addEventListener('click', saveMembership);
        clearDataBtn.addEventListener('click', clearSavedData);
        clearAllBtn.addEventListener('click', clearSavedData);
        analyzeBtn.addEventListener('click', runAdvancedAnalysis);
        
        // Range input listeners
        inputs.discountPercentage.addEventListener('input', () => {
            displayElements.discountValue.textContent = inputs.discountPercentage.value + '%';
            saveData();
        });
        
        inputs.inflationRate.addEventListener('input', () => {
            displayElements.inflationValue.textContent = inputs.inflationRate.value + '%';
            saveData();
        });
        
        inputs.investmentReturn.addEventListener('input', () => {
            displayElements.investmentValue.textContent = inputs.investmentReturn.value + '%';
            saveData();
        });
        
        // Auto-save on input change
        for (let key in inputs) {
            if (!['discountPercentage', 'inflationRate', 'investmentReturn'].includes(key)) {
                inputs[key].addEventListener('change', () => {
                    calculateValue();
                    saveData();
                });
                inputs[key].addEventListener('input', saveData);
            }
        }
        
        // Initialize
        loadSavedData();
        calculateValue();
        
        // Make functions available globally for onclick handlers
        window.loadMembership = loadMembership;
        window.deleteMembership = deleteMembership;
    </script>
</body>
</html>