<!DOCTYPE html>
<!-- Category: Fitness -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Injury Prevention Planner - Plan and track your injury prevention strategies with this easy-to-use fitness tool. Perfect for athletes and fitness enthusiasts.">
    <meta name="keywords" content="injury prevention planner, injury prevention, fitness safety, workout safety, exercise injury prevention, athletic training, sports safety, injury risk assessment">
    <title>Injury Prevention Planner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* Desktop Styles */
        header {
            background: linear-gradient(to right, #e74c3c, #c0392b);
            color: white;
            padding: 0 20px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        h1 {
            font-size: 28px;
            font-weight: 600;
            text-align: center;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #eee;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: 500;
            color: #6c757d;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .tab.active {
            color: #e74c3c;
            border-bottom: 3px solid #e74c3c;
            background: white;
        }

        .tab-content {
            display: none;
            padding: 30px;
        }

        .tab-content.active {
            display: block;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        input, select, textarea {
            width: 100%;
            padding: 14px;
            border: 2px solid #e1e5eb;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #e74c3c;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        button {
            background: linear-gradient(to right, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            flex: 1;
            min-width: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        .reset-btn {
            background: linear-gradient(to right, #3498db, #2c3e50);
        }

        .reset-btn:hover {
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .export-btn {
            background: linear-gradient(to right, #27ae60, #219653);
        }

        .export-btn:hover {
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .prevention-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .prevention-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
            border-top: 4px solid #e74c3c;
        }

        .prevention-card:hover {
            transform: translateY(-5px);
        }

        .prevention-card.warmup {
            border-top-color: #f39c12;
        }

        .prevention-card.strength {
            border-top-color: #27ae60;
        }

        .prevention-card.flexibility {
            border-top-color: #9b59b6;
        }

        .prevention-card.recovery {
            border-top-color: #3498db;
        }

        .prevention-card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .prevention-value {
            font-size: 28px;
            font-weight: 700;
            color: #e74c3c;
            margin: 10px 0;
        }

        .prevention-status {
            font-size: 16px;
            font-weight: 600;
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 8px;
        }

        .low { background-color: #d4edda; color: #155724; }
        .moderate { background-color: #fff3cd; color: #856404; }
        .high { background-color: #ffeaa7; color: #856404; }
        .critical { background-color: #f8d7da; color: #721c24; }

        .interpretation {
            background: #fce4ec;
            border-left: 4px solid #e74c3c;
            padding: 20px;
            border-radius: 0 8px 8px 0;
            margin: 25px 0;
            text-align: left;
        }

        .interpretation h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .interpretation ul {
            padding-left: 20px;
        }

        .interpretation li {
            margin-bottom: 10px;
            color: #c0392b;
        }

        .chart-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
        }

        .chart-title {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .chart-bars {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            height: 200px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .chart-bar {
            width: 50px;
            background: linear-gradient(to top, #e74c3c, #c0392b);
            border-radius: 5px 5px 0 0;
            position: relative;
            transition: height 1s ease-in-out;
        }

        .chart-bar.warmup-bar {
            background: linear-gradient(to top, #f39c12, #e67e22);
        }

        .chart-bar.strength-bar {
            background: linear-gradient(to top, #27ae60, #219653);
        }

        .chart-bar.flexibility-bar {
            background: linear-gradient(to top, #9b59b6, #8e44ad);
        }

        .chart-bar.recovery-bar {
            background: linear-gradient(to top, #3498db, #2c3e50);
        }

        .chart-label {
            text-align: center;
            margin-top: 10px;
            font-weight: 500;
            color: #2c3e50;
        }

        .chart-value {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: bold;
            color: #2c3e50;
        }

        .data-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .data-actions button {
            flex: 1;
            min-width: 150px;
        }

        .clear-btn {
            background: linear-gradient(to right, #e74c3c, #c0392b);
        }

        .clear-btn:hover {
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        .health-tip {
            background: linear-gradient(135deg, #fce4ec, #f8d7da);
            border-radius: 8px;
            padding: 20px;
            margin-top: 25px;
            font-size: 15px;
            color: #2c3e50;
            border-left: 4px solid #e74c3c;
        }

        .health-tip h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .history-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            padding: 25px;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #777;
        }

        .history-title {
            text-align: center;
            margin-bottom: 20px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .history-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .history-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #e74c3c;
        }

        .history-item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: 600;
            color: #2c3e50;
        }

        .history-item-values {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .history-value {
            text-align: center;
            font-size: 14px;
        }

        .history-value-label {
            font-weight: 500;
            color: #777;
        }

        .history-value-data {
            font-weight: 600;
            color: #e74c3c;
        }

        .delete-history {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 10px;
        }

        .no-history {
            text-align: center;
            color: #777;
            font-style: italic;
            padding: 20px;
        }

        .risk-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            background: #fff3cd;
        }

        .risk-icon {
            font-size: 24px;
            color: #856404;
        }

        .risk-text {
            font-weight: 500;
            color: #856404;
        }

        .recommendations {
            background: #e8f5e9;
            border-radius: 8px;
            padding: 20px;
            margin-top: 25px;
            border-left: 4px solid #27ae60;
        }

        .recommendations h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .recommendation-list {
            padding-left: 20px;
        }

        .recommendation-list li {
            margin-bottom: 10px;
            color: #27663a;
        }

        .progress-tracker {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
        }

        .progress-title {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .progress-charts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .progress-chart {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .progress-chart h4 {
            text-align: center;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .progress-line {
            height: 30px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #e74c3c, #c0392b);
            border-radius: 15px;
            transition: width 1s ease-in-out;
        }

        .progress-target {
            position: absolute;
            top: 0;
            height: 100%;
            width: 2px;
            background: #27ae60;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 14px;
            color: #6c757d;
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            header {
                height: 50px;
                padding: 0 15px;
                margin-bottom: 20px;
                justify-content: center;
            }

            h1 {
                font-size: 18px;
                gap: 8px;
            }

            .tab-content {
                padding: 20px;
            }

            .input-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            input, select, textarea {
                padding: 12px;
                font-size: 16px;
            }

            .button-group {
                flex-direction: column;
                gap: 10px;
            }

            button {
                padding: 12px 20px;
                font-size: 14px;
                min-width: auto;
            }

            .prevention-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .prevention-value {
                font-size: 24px;
            }

            .chart-bars {
                flex-direction: column;
                height: auto;
                gap: 20px;
                padding: 20px;
            }

            .chart-bar {
                width: 100%;
                height: 40px !important;
                border-radius: 0 5px 5px 0;
            }

            .chart-value {
                top: 50%;
                left: auto;
                right: -50px;
                transform: translateY(-50%);
            }

            .data-actions {
                flex-direction: column;
            }

            .modal-content {
                width: 95%;
                padding: 20px 15px;
            }

            .history-item-values {
                grid-template-columns: 1fr 1fr;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab {
                min-width: 50%;
            }

            .progress-charts {
                grid-template-columns: 1fr;
            }
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1001;
            transform: translateX(200%);
            transition: transform 0.3s ease-in-out;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(to right, #27ae60, #219653);
        }

        .notification.error {
            background: linear-gradient(to right, #e74c3c, #c0392b);
        }

        .notification.info {
            background: linear-gradient(to right, #3498db, #2c3e50);
        }

        .safety-info {
            display: flex;
            align-items: center;
            gap: 15px;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .safety-icon {
            font-size: 32px;
            color: #e74c3c;
        }

        .safety-details {
            flex: 1;
        }

        .safety-details h4 {
            margin-bottom: 5px;
            color: #2c3e50;
        }

        .safety-details p {
            color: #6c757d;
            margin: 0;
        }

        .risk-assessment {
            background: #fff3cd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #856404;
        }

        .risk-assessment h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .risk-question {
            margin-bottom: 15px;
            padding: 10px;
            background: white;
            border-radius: 5px;
        }

        .risk-question label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .risk-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .risk-option {
            flex: 1;
            min-width: 100px;
            text-align: center;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .risk-option:hover {
            background: #e3f2fd;
        }

        .risk-option.selected {
            background: #e74c3c;
            color: white;
        }

        .prevention-plan {
            background: #e8f5e9;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #27ae60;
        }

        .prevention-plan h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .plan-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .plan-item input[type="checkbox"] {
            width: auto;
            margin: 0;
        }

        .plan-item.completed {
            opacity: 0.7;
        }

        .plan-item.completed label {
            text-decoration: line-through;
        }

        .priority-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .high-priority {
            background-color: #e74c3c;
        }

        .medium-priority {
            background-color: #f39c12;
        }

        .low-priority {
            background-color: #27ae60;
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-shield-alt"></i> Injury Prevention Planner</h1>
    </header>

    <div class="container">
        <div class="tabs">
            <div class="tab active" data-tab="planner">Planner</div>
            <div class="tab" data-tab="history">History</div>
            <div class="tab" data-tab="progress">Progress</div>
            <div class="tab" data-tab="resources">Resources</div>
        </div>

        <div class="tab-content active" id="planner-tab">
            <div class="input-grid">
                <div class="input-group">
                    <label for="sport"><i class="fas fa-running"></i> Sport/Activity</label>
                    <select id="sport">
                        <option value="">Select Sport/Activity</option>
                        <option value="running">Running</option>
                        <option value="weightlifting">Weightlifting</option>
                        <option value="basketball">Basketball</option>
                        <option value="soccer">Soccer</option>
                        <option value="swimming">Swimming</option>
                        <option value="cycling">Cycling</option>
                        <option value="tennis">Tennis</option>
                        <option value="yoga">Yoga</option>
                        <option value="crossfit">CrossFit</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="experience"><i class="fas fa-graduation-cap"></i> Experience Level</label>
                    <select id="experience">
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                        <option value="expert">Expert</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="frequency"><i class="fas fa-calendar-alt"></i> Training Frequency (per week)</label>
                    <input type="number" id="frequency" placeholder="Enter sessions per week" min="1" max="14" value="5">
                </div>
                
                <div class="input-group">
                    <label for="intensity"><i class="fas fa-fire"></i> Average Intensity</label>
                    <select id="intensity">
                        <option value="low">Low</option>
                        <option value="moderate">Moderate</option>
                        <option value="high">High</option>
                        <option value="very-high">Very High</option>
                    </select>
                </div>
            </div>
            
            <div class="safety-info">
                <div class="safety-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="safety-details">
                    <h4>Injury Prevention Information</h4>
                    <p>Proper injury prevention planning can reduce injury risk by up to 50%. Complete the assessment to get personalized recommendations.</p>
                </div>
            </div>

            <div class="risk-assessment">
                <h3><i class="fas fa-clipboard-list"></i> Risk Assessment</h3>
                
                <div class="risk-question">
                    <label>Do you have any previous injuries?</label>
                    <div class="risk-options">
                        <div class="risk-option" data-value="0">No</div>
                        <div class="risk-option" data-value="2">Minor</div>
                        <div class="risk-option" data-value="4">Moderate</div>
                        <div class="risk-option" data-value="6">Severe</div>
                    </div>
                </div>
                
                <div class="risk-question">
                    <label>How often do you warm up before training?</label>
                    <div class="risk-options">
                        <div class="risk-option" data-value="4">Never</div>
                        <div class="risk-option" data-value="2">Rarely</div>
                        <div class="risk-option" data-value="1">Sometimes</div>
                        <div class="risk-option" data-value="0">Always</div>
                    </div>
                </div>
                
                <div class="risk-question">
                    <label>How often do you stretch after training?</label>
                    <div class="risk-options">
                        <div class="risk-option" data-value="4">Never</div>
                        <div class="risk-option" data-value="2">Rarely</div>
                        <div class="risk-option" data-value="1">Sometimes</div>
                        <div class="risk-option" data-value="0">Always</div>
                    </div>
                </div>
                
                <div class="risk-question">
                    <label>Do you get adequate sleep (7-9 hours)?</label>
                    <div class="risk-options">
                        <div class="risk-option" data-value="3">No</div>
                        <div class="risk-option" data-value="1">Sometimes</div>
                        <div class="risk-option" data-value="0">Yes</div>
                    </div>
                </div>
                
                <div class="risk-question">
                    <label>Do you maintain proper nutrition for recovery?</label>
                    <div class="risk-options">
                        <div class="risk-option" data-value="3">Poor</div>
                        <div class="risk-option" data-value="1">Fair</div>
                        <div class="risk-option" data-value="0">Good</div>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button id="assess-btn"><i class="fas fa-calculator"></i> Assess Risk & Plan</button>
                <button id="reset-btn" class="reset-btn"><i class="fas fa-redo"></i> Reset</button>
                <button id="export-btn" class="export-btn"><i class="fas fa-file-export"></i> Export Plan</button>
            </div>

            <div class="prevention-grid">
                <div class="prevention-card warmup">
                    <h3><i class="fas fa-fire"></i> Warm-up</h3>
                    <div class="prevention-value" id="warmup-score">--</div>
                    <div class="prevention-status" id="warmup-status">--</div>
                </div>
                
                <div class="prevention-card strength">
                    <h3><i class="fas fa-dumbbell"></i> Strength</h3>
                    <div class="prevention-value" id="strength-score">--</div>
                    <div class="prevention-status" id="strength-status">--</div>
                </div>
                
                <div class="prevention-card flexibility">
                    <h3><i class="fas fa-yin-yang"></i> Flexibility</h3>
                    <div class="prevention-value" id="flexibility-score">--</div>
                    <div class="prevention-status" id="flexibility-status">--</div>
                </div>
                
                <div class="prevention-card recovery">
                    <h3><i class="fas fa-bed"></i> Recovery</h3>
                    <div class="prevention-value" id="recovery-score">--</div>
                    <div class="prevention-status" id="recovery-status">--</div>
                </div>
            </div>

            <div class="chart-container">
                <h3 class="chart-title"><i class="fas fa-chart-bar"></i> Prevention Strategy Scores</h3>
                <div class="chart-bars">
                    <div class="chart-bar warmup-bar" id="warmup-bar" style="height: 0px;">
                        <div class="chart-value" id="warmup-bar-value">0</div>
                        <div class="chart-label">Warm-up</div>
                    </div>
                    <div class="chart-bar strength-bar" id="strength-bar" style="height: 0px;">
                        <div class="chart-value" id="strength-bar-value">0</div>
                        <div class="chart-label">Strength</div>
                    </div>
                    <div class="chart-bar flexibility-bar" id="flexibility-bar" style="height: 0px;">
                        <div class="chart-value" id="flexibility-bar-value">0</div>
                        <div class="chart-label">Flexibility</div>
                    </div>
                    <div class="chart-bar recovery-bar" id="recovery-bar" style="height: 0px;">
                        <div class="chart-value" id="recovery-bar-value">0</div>
                        <div class="chart-label">Recovery</div>
                    </div>
                </div>
            </div>

            <div class="prevention-plan">
                <h3><i class="fas fa-tasks"></i> Your Prevention Plan</h3>
                <div id="prevention-plan-content">
                    <p>Complete the risk assessment to generate your personalized prevention plan.</p>
                </div>
            </div>

            <div id="risk-indicator" class="risk-indicator" style="display: none;">
                <i class="fas fa-exclamation-triangle risk-icon"></i>
                <div class="risk-text" id="risk-text">Your injury risk assessment will be calculated based on your inputs</div>
            </div>

            <div class="recommendations">
                <h3><i class="fas fa-lightbulb"></i> General Prevention Tips</h3>
                <ul class="recommendation-list" id="recommendations-list">
                    <li>Always include a proper warm-up before intense activity</li>
                    <li>Gradually increase training intensity and volume</li>
                    <li>Maintain good form and technique during exercises</li>
                    <li>Listen to your body and rest when needed</li>
                </ul>
            </div>

            <div class="data-actions">
                <button id="save-btn"><i class="fas fa-save"></i> Save Current Plan</button>
                <button id="clear-btn" class="clear-btn"><i class="fas fa-trash-alt"></i> Clear All Data</button>
            </div>

            <div class="health-tip">
                <h3><i class="fas fa-lightbulb"></i> Safety Tip</h3>
                <p>Injury prevention is more effective than treatment. A comprehensive approach including proper warm-up, strength training, flexibility work, and adequate recovery can significantly reduce your risk of injury. Remember that consistency in prevention strategies is key to long-term athletic success and health.</p>
            </div>
        </div>

        <div class="tab-content" id="history-tab">
            <h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50;"><i class="fas fa-history"></i> Prevention History</h2>
            <div class="history-list" id="history-list">
                <div class="no-history">No history available. Save your prevention plans to see them here.</div>
            </div>
            <div class="button-group" style="margin-top: 20px;">
                <button id="export-history" class="export-btn"><i class="fas fa-file-export"></i> Export History</button>
                <button id="clear-history" class="clear-btn"><i class="fas fa-trash-alt"></i> Clear History</button>
            </div>
        </div>

        <div class="tab-content" id="progress-tab">
            <h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50;"><i class="fas fa-chart-line"></i> Prevention Progress</h2>
            <div class="progress-tracker">
                <h3 class="progress-title"><i class="fas fa-tasks"></i> Your Prevention Improvement</h3>
                <div class="progress-charts" id="progress-charts">
                    <div class="no-history">No progress data available. Save your prevention plans to track improvement.</div>
                </div>
            </div>
        </div>

        <div class="tab-content" id="resources-tab">
            <h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50;"><i class="fas fa-book"></i> Prevention Resources</h2>
            
            <div class="interpretation">
                <h3><i class="fas fa-info-circle"></i> Common Injury Prevention Strategies</h3>
                <p><strong>Warm-up:</strong> 10-15 minutes of light cardio and dynamic stretching</p>
                <p><strong>Strength Training:</strong> Focus on muscle imbalances and weak areas</p>
                <p><strong>Flexibility:</strong> Regular stretching and mobility work</p>
                <p><strong>Recovery:</strong> Adequate sleep, hydration, and rest days</p>
                <p><strong>Technique:</strong> Proper form reduces stress on joints and muscles</p>
            </div>
            
            <div class="health-tip">
                <h3><i class="fas fa-heartbeat"></i> Warning Signs to Watch For</h3>
                <ul>
                    <li>Persistent pain that worsens with activity</li>
                    <li>Swelling or inflammation in joints or muscles</li>
                    <li>Reduced range of motion or stiffness</li>
                    <li>Chronic fatigue or decreased performance</li>
                    <li>Sudden weakness or instability</li>
                </ul>
            </div>
            
            <div class="recommendations">
                <h3><i class="fas fa-running"></i> Sport-Specific Prevention</h3>
                <ul class="recommendation-list">
                    <li><strong>Runners:</strong> Focus on hip strength, ankle mobility, and gradual mileage increases</li>
                    <li><strong>Weightlifters:</strong> Emphasize proper technique and avoid ego lifting</li>
                    <li><strong>Team Sports:</strong> Include agility and proprioception training</li>
                    <li><strong>Swimmers:</strong> Maintain shoulder health and core stability</li>
                    <li><strong>Cyclists:</strong> Address hip flexor tightness and neck strain</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // DOM Elements
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const sportSelect = document.getElementById('sport');
        const experienceSelect = document.getElementById('experience');
        const frequencyInput = document.getElementById('frequency');
        const intensitySelect = document.getElementById('intensity');
        const assessBtn = document.getElementById('assess-btn');
        const resetBtn = document.getElementById('reset-btn');
        const exportBtn = document.getElementById('export-btn');
        const warmupScore = document.getElementById('warmup-score');
        const strengthScore = document.getElementById('strength-score');
        const flexibilityScore = document.getElementById('flexibility-score');
        const recoveryScore = document.getElementById('recovery-score');
        const warmupStatus = document.getElementById('warmup-status');
        const strengthStatus = document.getElementById('strength-status');
        const flexibilityStatus = document.getElementById('flexibility-status');
        const recoveryStatus = document.getElementById('recovery-status');
        const saveBtn = document.getElementById('save-btn');
        const clearBtn = document.getElementById('clear-btn');
        const exportHistoryBtn = document.getElementById('export-history');
        const clearHistoryBtn = document.getElementById('clear-history');
        const historyList = document.getElementById('history-list');
        const riskIndicator = document.getElementById('risk-indicator');
        const riskText = document.getElementById('risk-text');
        const recommendationsList = document.getElementById('recommendations-list');
        const notification = document.getElementById('notification');
        const progressCharts = document.getElementById('progress-charts');
        const preventionPlanContent = document.getElementById('prevention-plan-content');
        const riskOptions = document.querySelectorAll('.risk-option');

        // Chart bars
        const warmupBar = document.getElementById('warmup-bar');
        const strengthBar = document.getElementById('strength-bar');
        const flexibilityBar = document.getElementById('flexibility-bar');
        const recoveryBar = document.getElementById('recovery-bar');
        const warmupBarValue = document.getElementById('warmup-bar-value');
        const strengthBarValue = document.getElementById('strength-bar-value');
        const flexibilityBarValue = document.getElementById('flexibility-bar-value');
        const recoveryBarValue = document.getElementById('recovery-bar-value');

        // Risk assessment data
        let riskScores = {
            previousInjuries: 0,
            warmupFrequency: 0,
            stretchFrequency: 0,
            sleepQuality: 0,
            nutritionQuality: 0
        };

        // Risk option selection
        riskOptions.forEach(option => {
            option.addEventListener('click', () => {
                const question = option.parentElement.parentElement;
                const value = parseInt(option.getAttribute('data-value'));
                
                // Remove selected class from siblings
                question.querySelectorAll('.risk-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Add selected class to clicked option
                option.classList.add('selected');
                
                // Update risk score based on question
                const questionText = question.querySelector('label').textContent;
                if (questionText.includes('previous injuries')) {
                    riskScores.previousInjuries = value;
                } else if (questionText.includes('warm up')) {
                    riskScores.warmupFrequency = value;
                } else if (questionText.includes('stretch')) {
                    riskScores.stretchFrequency = value;
                } else if (questionText.includes('sleep')) {
                    riskScores.sleepQuality = value;
                } else if (questionText.includes('nutrition')) {
                    riskScores.nutritionQuality = value;
                }
            });
        });

        // Tab switching
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.getAttribute('data-tab');
                
                // Update active tab
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Show active content
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === `${tabName}-tab`) {
                        content.classList.add('active');
                        if (tabName === 'history') {
                            loadHistory();
                        } else if (tabName === 'progress') {
                            loadProgressData();
                        }
                    }
                });
            });
        });

        // Load saved data on page load
        window.addEventListener('DOMContentLoaded', () => {
            loadSavedData();
            updateChartBars(0, 0, 0, 0);
        });

        // Assess risk and create plan
        assessBtn.addEventListener('click', () => {
            const sport = sportSelect.value;
            const experience = experienceSelect.value;
            const frequency = parseInt(frequencyInput.value) || 5;
            const intensity = intensitySelect.value;

            if (!sport) {
                showNotification('Please select a sport/activity', 'error');
                return;
            }

            // Calculate total risk score
            const totalRisk = Object.values(riskScores).reduce((sum, score) => sum + score, 0);
            
            // Calculate prevention scores based on sport and experience
            let warmupLevel, strengthLevel, flexibilityLevel, recoveryLevel;
            
            switch(sport) {
                case 'running':
                    warmupLevel = 8;
                    strengthLevel = 7;
                    flexibilityLevel = 9;
                    recoveryLevel = 6;
                    break;
                case 'weightlifting':
                    warmupLevel = 7;
                    strengthLevel = 9;
                    flexibilityLevel = 6;
                    recoveryLevel = 8;
                    break;
                case 'basketball':
                case 'soccer':
                    warmupLevel = 9;
                    strengthLevel = 8;
                    flexibilityLevel = 7;
                    recoveryLevel = 7;
                    break;
                case 'swimming':
                    warmupLevel = 6;
                    strengthLevel = 7;
                    flexibilityLevel = 8;
                    recoveryLevel = 7;
                    break;
                case 'cycling':
                    warmupLevel = 6;
                    strengthLevel = 7;
                    flexibilityLevel = 6;
                    recoveryLevel = 8;
                    break;
                default:
                    warmupLevel = 7;
                    strengthLevel = 7;
                    flexibilityLevel = 7;
                    recoveryLevel = 7;
            }

            // Adjust based on experience
            switch(experience) {
                case 'beginner':
                    warmupLevel += 2;
                    strengthLevel -= 1;
                    flexibilityLevel += 1;
                    recoveryLevel += 2;
                    break;
                case 'advanced':
                case 'expert':
                    strengthLevel += 1;
                    flexibilityLevel -= 1;
                    break;
            }

            // Adjust based on intensity
            switch(intensity) {
                case 'high':
                case 'very-high':
                    warmupLevel += 1;
                    recoveryLevel += 2;
                    break;
                case 'low':
                    warmupLevel -= 1;
                    recoveryLevel -= 1;
                    break;
            }

            // Adjust based on frequency
            if (frequency > 6) {
                recoveryLevel += 2;
            } else if (frequency < 3) {
                recoveryLevel -= 1;
            }

            // Apply risk adjustments
            if (totalRisk > 10) {
                warmupLevel += 2;
                recoveryLevel += 2;
            } else if (totalRisk > 5) {
                warmupLevel += 1;
                recoveryLevel += 1;
            }

            // Ensure scores are within 1-10 range
            warmupLevel = Math.max(1, Math.min(10, warmupLevel));
            strengthLevel = Math.max(1, Math.min(10, strengthLevel));
            flexibilityLevel = Math.max(1, Math.min(10, flexibilityLevel));
            recoveryLevel = Math.max(1, Math.min(10, recoveryLevel));

            // Update results
            warmupScore.textContent = warmupLevel;
            strengthScore.textContent = strengthLevel;
            flexibilityScore.textContent = flexibilityLevel;
            recoveryScore.textContent = recoveryLevel;

            // Determine statuses
            updateStatuses(warmupLevel, strengthLevel, flexibilityLevel, recoveryLevel);
            
            // Update chart
            updateChartBars(warmupLevel, strengthLevel, flexibilityLevel, recoveryLevel);
            
            // Calculate risk
            calculateRisk(totalRisk, warmupLevel, strengthLevel, flexibilityLevel, recoveryLevel);
            
            // Generate prevention plan
            generatePreventionPlan(sport, experience, warmupLevel, strengthLevel, flexibilityLevel, recoveryLevel);
            
            // Generate recommendations
            generateRecommendations(totalRisk, sport, experience);
            
            showNotification('Injury prevention plan generated successfully!', 'success');
        });

        // Reset form
        resetBtn.addEventListener('click', () => {
            sportSelect.value = '';
            experienceSelect.value = 'beginner';
            frequencyInput.value = 5;
            intensitySelect.value = 'moderate';
            riskScores = {
                previousInjuries: 0,
                warmupFrequency: 0,
                stretchFrequency: 0,
                sleepQuality: 0,
                nutritionQuality: 0
            };
            document.querySelectorAll('.risk-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            warmupScore.textContent = '--';
            strengthScore.textContent = '--';
            flexibilityScore.textContent = '--';
            recoveryScore.textContent = '--';
            warmupStatus.textContent = '--';
            strengthStatus.textContent = '--';
            flexibilityStatus.textContent = '--';
            recoveryStatus.textContent = '--';
            warmupStatus.className = 'prevention-status';
            strengthStatus.className = 'prevention-status';
            flexibilityStatus.className = 'prevention-status';
            recoveryStatus.className = 'prevention-status';
            updateChartBars(0, 0, 0, 0);
            riskIndicator.style.display = 'none';
            preventionPlanContent.innerHTML = '<p>Complete the risk assessment to generate your personalized prevention plan.</p>';
            recommendationsList.innerHTML = `
                <li>Always include a proper warm-up before intense activity</li>
                <li>Gradually increase training intensity and volume</li>
                <li>Maintain good form and technique during exercises</li>
                <li>Listen to your body and rest when needed</li>
            `;
            showNotification('Form reset successfully!', 'info');
        });

        // Save data to localStorage
        saveBtn.addEventListener('click', () => {
            const sport = sportSelect.value;
            const experience = experienceSelect.value;
            const frequency = parseInt(frequencyInput.value) || 5;
            const intensity = intensitySelect.value;
            const warmupLevel = parseInt(warmupScore.textContent) || 0;
            const strengthLevel = parseInt(strengthScore.textContent) || 0;
            const flexibilityLevel = parseInt(flexibilityScore.textContent) || 0;
            const recoveryLevel = parseInt(recoveryScore.textContent) || 0;

            if (warmupLevel === 0 && strengthLevel === 0 && flexibilityLevel === 0 && recoveryLevel === 0) {
                showNotification('Please generate a prevention plan first', 'error');
                return;
            }

            const data = {
                sport: sport,
                experience: experience,
                frequency: frequency,
                intensity: intensity,
                warmupLevel: warmupLevel,
                strengthLevel: strengthLevel,
                flexibilityLevel: flexibilityLevel,
                recoveryLevel: recoveryLevel,
                riskScores: riskScores,
                timestamp: new Date().toLocaleString()
            };
            
            // Get existing history
            let history = JSON.parse(localStorage.getItem('preventionHistory')) || [];
            history.push(data);
            
            // Keep only last 50 entries
            if (history.length > 50) {
                history = history.slice(-50);
            }
            
            localStorage.setItem('preventionHistory', JSON.stringify(history));
            showNotification('Prevention plan saved successfully!', 'success');
        });

        // Clear all data from localStorage
        clearBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to clear all saved data? This cannot be undone.')) {
                localStorage.removeItem('preventionData');
                localStorage.removeItem('preventionHistory');
                showNotification('All data cleared successfully!', 'info');
            }
        });

        // Export current results
        exportBtn.addEventListener('click', () => {
            const warmupLevel = parseInt(warmupScore.textContent) || 0;
            const strengthLevel = parseInt(strengthScore.textContent) || 0;
            const flexibilityLevel = parseInt(flexibilityScore.textContent) || 0;
            const recoveryLevel = parseInt(recoveryScore.textContent) || 0;

            if (warmupLevel === 0 && strengthLevel === 0 && flexibilityLevel === 0 && recoveryLevel === 0) {
                showNotification('Please generate a prevention plan first', 'error');
                return;
            }

            const csvContent = `Injury Prevention Plan\nDate: ${new Date().toLocaleString()}\nWarm-up: ${warmupLevel}\nStrength: ${strengthLevel}\nFlexibility: ${flexibilityLevel}\nRecovery: ${recoveryLevel}`;
            
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.setAttribute('hidden', '');
            a.setAttribute('href', url);
            a.setAttribute('download', `injury_prevention_${new Date().toISOString().slice(0,10)}.txt`);
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showNotification('Plan exported successfully!', 'success');
        });

        // Export history
        exportHistoryBtn.addEventListener('click', () => {
            const history = JSON.parse(localStorage.getItem('preventionHistory')) || [];
            
            if (history.length === 0) {
                showNotification('No history to export', 'error');
                return;
            }
            
            let csvContent = 'Date,Sport,Experience,Warm-up,Strength,Flexibility,Recovery\n';
            history.forEach(entry => {
                csvContent += `"${entry.timestamp}","${entry.sport || ''}","${entry.experience || ''}",${entry.warmupLevel},${entry.strengthLevel},${entry.flexibilityLevel},${entry.recoveryLevel}\n`;
            });
            
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.setAttribute('hidden', '');
            a.setAttribute('href', url);
            a.setAttribute('download', `prevention_history_${new Date().toISOString().slice(0,10)}.csv`);
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showNotification('History exported successfully!', 'success');
        });

        // Clear history
        clearHistoryBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to clear all history? This cannot be undone.')) {
                localStorage.removeItem('preventionHistory');
                loadHistory();
                showNotification('History cleared successfully!', 'info');
            }
        });

        // Load saved data from localStorage
        function loadSavedData() {
            const savedData = localStorage.getItem('preventionData');
            if (savedData) {
                const data = JSON.parse(savedData);
                sportSelect.value = data.sport || '';
                experienceSelect.value = data.experience || 'beginner';
                frequencyInput.value = data.frequency || 5;
                intensitySelect.value = data.intensity || 'moderate';
            }
        }

        // Update status indicators
        function updateStatuses(warmup, strength, flexibility, recovery) {
            setStatus(warmupStatus, warmup);
            setStatus(strengthStatus, strength);
            setStatus(flexibilityStatus, flexibility);
            setStatus(recoveryStatus, recovery);
        }

        function setStatus(element, value) {
            if (value === 0 || isNaN(value)) {
                element.textContent = '--';
                element.className = 'prevention-status';
                return;
            }

            let status, statusClass;
            
            if (value <= 3) {
                status = 'Low';
                statusClass = 'low';
            } else if (value <= 6) {
                status = 'Moderate';
                statusClass = 'moderate';
            } else if (value <= 8) {
                status = 'High';
                statusClass = 'high';
            } else {
                status = 'Critical';
                statusClass = 'critical';
            }
            
            element.textContent = status;
            element.className = 'prevention-status ' + statusClass;
        }

        // Update chart bars with animation
        function updateChartBars(warmup, strength, flexibility, recovery) {
            // Normalize values for chart display (max 10 for visualization)
            const maxValue = 10;
            const warmupHeight = Math.min(100, (warmup / maxValue) * 100);
            const strengthHeight = Math.min(100, (strength / maxValue) * 100);
            const flexibilityHeight = Math.min(100, (flexibility / maxValue) * 100);
            const recoveryHeight = Math.min(100, (recovery / maxValue) * 100);
            
            warmupBar.style.height = `${warmupHeight}%`;
            strengthBar.style.height = `${strengthHeight}%`;
            flexibilityBar.style.height = `${flexibilityHeight}%`;
            recoveryBar.style.height = `${recoveryHeight}%`;
            
            warmupBarValue.textContent = warmup;
            strengthBarValue.textContent = strength;
            flexibilityBarValue.textContent = flexibility;
            recoveryBarValue.textContent = recovery;
        }

        // Calculate injury risk
        function calculateRisk(totalRisk, warmup, strength, flexibility, recovery) {
            let riskLevel = '';
            let riskMessage = '';
            let backgroundColor = '#fff3cd';
            let iconColor = '#856404';
            let textColor = '#856404';
            
            const averageScore = (warmup + strength + flexibility + recovery) / 4;
            
            if (averageScore >= 8 && totalRisk <= 5) {
                riskLevel = 'Low Injury Risk';
                riskMessage = 'Excellent prevention strategies. Continue current practices.';
            } else if (averageScore >= 6 && totalRisk <= 8) {
                riskLevel = 'Moderate Injury Risk';
                riskMessage = 'Good prevention plan. Minor improvements recommended.';
            } else if (averageScore >= 4 && totalRisk <= 12) {
                riskLevel = 'High Injury Risk';
                riskMessage = 'Significant risk factors identified. Implement recommended strategies.';
                backgroundColor = '#f8d7da';
                iconColor = '#721c24';
                textColor = '#721c24';
            } else {
                riskLevel = 'Critical Injury Risk';
                riskMessage = 'High risk of injury. Immediate attention to prevention strategies required.';
                backgroundColor = '#e74c3c';
                iconColor = 'white';
                textColor = 'white';
            }
            
            riskText.innerHTML = `<strong>${riskLevel}:</strong> ${riskMessage}`;
            riskIndicator.style.display = 'flex';
            riskIndicator.style.backgroundColor = backgroundColor;
            document.querySelector('.risk-icon').style.color = iconColor;
            riskText.style.color = textColor;
        }

        // Generate prevention plan
        function generatePreventionPlan(sport, experience, warmup, strength, flexibility, recovery) {
            let planHTML = '<div>';
            
            // Warm-up plan
            planHTML += `<div class="plan-item">
                <span class="priority-indicator ${warmup < 5 ? 'high-priority' : warmup < 7 ? 'medium-priority' : 'low-priority'}"></span>
                <input type="checkbox" id="warmup-plan">
                <label for="warmup-plan">Perform 10-15 minute dynamic warm-up before training</label>
            </div>`;
            
            // Strength plan
            planHTML += `<div class="plan-item">
                <span class="priority-indicator ${strength < 5 ? 'high-priority' : strength < 7 ? 'medium-priority' : 'low-priority'}"></span>
                <input type="checkbox" id="strength-plan">
                <label for="strength-plan">Include 2-3 strength sessions per week focusing on weak areas</label>
            </div>`;
            
            // Flexibility plan
            planHTML += `<div class="plan-item">
                <span class="priority-indicator ${flexibility < 5 ? 'high-priority' : flexibility < 7 ? 'medium-priority' : 'low-priority'}"></span>
                <input type="checkbox" id="flexibility-plan">
                <label for="flexibility-plan">Stretch for 10-15 minutes after each training session</label>
            </div>`;
            
            // Recovery plan
            planHTML += `<div class="plan-item">
                <span class="priority-indicator ${recovery < 5 ? 'high-priority' : recovery < 7 ? 'medium-priority' : 'low-priority'}"></span>
                <input type="checkbox" id="recovery-plan">
                <label for="recovery-plan">Ensure 7-9 hours of quality sleep nightly</label>
            </div>`;
            
            // Sport-specific recommendations
            if (sport === 'running') {
                planHTML += `<div class="plan-item">
                    <span class="priority-indicator high-priority"></span>
                    <input type="checkbox" id="running-plan">
                    <label for="running-plan">Include hip strengthening and calf mobility work</label>
                </div>`;
            } else if (sport === 'weightlifting') {
                planHTML += `<div class="plan-item">
                    <span class="priority-indicator high-priority"></span>
                    <input type="checkbox" id="lifting-plan">
                    <label for="lifting-plan">Focus on proper form over heavy weights</label>
                </div>`;
            }
            
            planHTML += '</div>';
            preventionPlanContent.innerHTML = planHTML;
            
            // Add event listeners to checkboxes
            document.querySelectorAll('#prevention-plan-content input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const parent = this.parentElement;
                    if (this.checked) {
                        parent.classList.add('completed');
                    } else {
                        parent.classList.remove('completed');
                    }
                });
            });
        }

        // Generate personalized recommendations
        function generateRecommendations(totalRisk, sport, experience) {
            let recommendations = [];
            
            if (totalRisk > 10) {
                recommendations.push('Prioritize recovery and reduce training volume temporarily');
                recommendations.push('Consider consulting with a sports medicine professional');
                recommendations.push('Focus on addressing previous injury sites with targeted exercises');
            } else if (totalRisk > 5) {
                recommendations.push('Implement consistent warm-up and cool-down routines');
                recommendations.push('Improve sleep quality and nutrition for better recovery');
                recommendations.push('Address any muscle imbalances with corrective exercises');
            } else {
                recommendations.push('Maintain current prevention strategies for continued success');
                recommendations.push('Periodically reassess your prevention plan');
            }
            
            // Sport-specific recommendations
            switch(sport) {
                case 'running':
                    recommendations.push('Include regular foam rolling for calves and IT bands');
                    break;
                case 'weightlifting':
                    recommendations.push('Focus on controlled eccentric (lowering) phases');
                    break;
                case 'basketball':
                case 'soccer':
                    recommendations.push('Include agility and balance training');
                    break;
            }
            
            // Experience-based recommendations
            if (experience === 'beginner') {
                recommendations.push('Gradually increase training intensity and volume');
                recommendations.push('Focus on learning proper technique before adding load');
            }
            
            recommendationsList.innerHTML = recommendations.map(rec => `<li>${rec}</li>`).join('');
        }

        // Load history into tab
        function loadHistory() {
            const history = JSON.parse(localStorage.getItem('preventionHistory')) || [];
            
            if (history.length === 0) {
                historyList.innerHTML = '<div class="no-history">No history available. Save your prevention plans to see them here.</div>';
                return;
            }
            
            let historyHTML = '';
            history.slice().reverse().forEach((entry, index) => {
                const originalIndex = history.length - 1 - index;
                historyHTML += `
                    <div class="history-item">
                        <div class="history-item-header">
                            <span>${entry.timestamp}</span>
                            <button class="delete-history" data-index="${originalIndex}" style="background: #e74c3c; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 12px;">Delete</button>
                        </div>
                        <div class="history-item-values">
                            <div class="history-value">
                                <div class="history-value-label">Warm-up</div>
                                <div class="history-value-data">${entry.warmupLevel}</div>
                            </div>
                            <div class="history-value">
                                <div class="history-value-label">Strength</div>
                                <div class="history-value-data">${entry.strengthLevel}</div>
                            </div>
                            <div class="history-value">
                                <div class="history-value-label">Flexibility</div>
                                <div class="history-value-data">${entry.flexibilityLevel}</div>
                            </div>
                            <div class="history-value">
                                <div class="history-value-label">Recovery</div>
                                <div class="history-value-data">${entry.recoveryLevel}</div>
                            </div>
                        </div>
                        <div style="margin-top: 10px; font-size: 12px; color: #666;">
                            Sport: ${entry.sport || 'N/A'} | Experience: ${entry.experience || 'N/A'}
                        </div>
                    </div>
                `;
            });
            
            historyList.innerHTML = historyHTML;
            
            // Add event listeners to delete buttons
            document.querySelectorAll('.delete-history').forEach(button => {
                button.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    deleteHistoryEntry(index);
                });
            });
        }

        // Delete a history entry
        function deleteHistoryEntry(index) {
            let history = JSON.parse(localStorage.getItem('preventionHistory')) || [];
            history.splice(index, 1);
            localStorage.setItem('preventionHistory', JSON.stringify(history));
            loadHistory();
            showNotification('History entry deleted!', 'info');
        }

        // Load progress data
        function loadProgressData() {
            const history = JSON.parse(localStorage.getItem('preventionHistory')) || [];
            
            if (history.length === 0) {
                progressCharts.innerHTML = '<div class="no-history">No progress data available. Save your prevention plans to track improvement.</div>';
                return;
            }
            
            // Calculate averages
            const avgWarmup = history.reduce((sum, entry) => sum + entry.warmupLevel, 0) / history.length;
            const avgStrength = history.reduce((sum, entry) => sum + entry.strengthLevel, 0) / history.length;
            const avgFlexibility = history.reduce((sum, entry) => sum + entry.flexibilityLevel, 0) / history.length;
            const avgRecovery = history.reduce((sum, entry) => sum + entry.recoveryLevel, 0) / history.length;
            
            // Create progress charts
            let chartsHTML = `
                <div class="progress-chart">
                    <h4>Warm-up Strategy Improvement</h4>
                    <div class="progress-line">
                        <div class="progress-fill" style="width: ${Math.min(100, (avgWarmup / 10) * 100)}%"></div>
                        <div class="progress-target" style="left: ${(8 / 10) * 100}%"></div>
                    </div>
                    <div class="progress-info">
                        <span>Average: ${avgWarmup.toFixed(1)}</span>
                        <span>Target: 8+</span>
                    </div>
                </div>
                
                <div class="progress-chart">
                    <h4>Strength Training Focus</h4>
                    <div class="progress-line">
                        <div class="progress-fill" style="width: ${Math.min(100, (avgStrength / 10) * 100)}%"></div>
                        <div class="progress-target" style="left: ${(7 / 10) * 100}%"></div>
                    </div>
                    <div class="progress-info">
                        <span>Average: ${avgStrength.toFixed(1)}</span>
                        <span>Target: 7+</span>
                    </div>
                </div>
                
                <div class="progress-chart">
                    <h4>Flexibility Maintenance</h4>
                    <div class="progress-line">
                        <div class="progress-fill" style="width: ${Math.min(100, (avgFlexibility / 10) * 100)}%"></div>
                        <div class="progress-target" style="left: ${(7 / 10) * 100}%"></div>
                    </div>
                    <div class="progress-info">
                        <span>Average: ${avgFlexibility.toFixed(1)}</span>
                        <span>Target: 7+</span>
                    </div>
                </div>
                
                <div class="progress-chart">
                    <h4>Recovery Quality</h4>
                    <div class="progress-line">
                        <div class="progress-fill" style="width: ${Math.min(100, (avgRecovery / 10) * 100)}%"></div>
                        <div class="progress-target" style="left: ${(7 / 10) * 100}%"></div>
                    </div>
                    <div class="progress-info">
                        <span>Average: ${avgRecovery.toFixed(1)}</span>
                        <span>Target: 7+</span>
                    </div>
                </div>
            `;
            
            progressCharts.innerHTML = chartsHTML;
        }

        // Show notification
        function showNotification(message, type) {
            notification.textContent = message;
            notification.className = 'notification ' + type;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>