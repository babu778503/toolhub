<!DOCTYPE html>
<!-- Category: Travel -->
<!-- SEO Keywords: public transit fare calculator, bus fare estimator, subway fare calculator, metro fare estimator, public transportation cost calculator, transit ticket price calculator, urban transit fare estimator, public transport expense calculator, city transit fare calculator, mass transit cost estimator -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Public Transit Fare Calculator - Estimate public transportation costs for your urban travel. Calculate bus, subway, and metro fares based on zones, distance, and ticket types for better budgeting.">
    <meta name="keywords" content="public transit fare calculator, bus fare estimator, subway fare calculator, metro fare estimator, public transportation cost calculator, transit ticket price calculator, urban transit fare estimator, public transport expense calculator, city transit fare calculator, mass transit cost estimator">
    <meta name="author" content="Public Transit Fare Calculator">
    <title>Public Transit Fare Calculator - Estimate Urban Transportation Costs</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Desktop Styles */
        @media (min-width: 769px) {
            header {
                background: rgba(255, 255, 255, 0.95);
                border-radius: 12px;
                padding: 25px;
                margin-bottom: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
                text-align: center;
                position: relative;
                overflow: hidden;
            }

            header::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 5px;
                background: linear-gradient(90deg, #3498db, #1e3c72, #2980b9);
            }

            h1 {
                color: #1e3c72;
                font-size: 2.8rem;
                margin-bottom: 10px;
                position: relative;
                display: inline-block;
            }

            h1::after {
                content: "";
                position: absolute;
                bottom: -10px;
                left: 25%;
                right: 25%;
                height: 3px;
                background: #3498db;
                border-radius: 3px;
            }

            .calculator-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
                gap: 30px;
                margin-bottom: 30px;
            }

            .input-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            }

            .input-section h2 {
                color: #1e3c72;
                margin-bottom: 25px;
                padding-bottom: 15px;
                border-bottom: 2px solid #e0e0e0;
                font-size: 1.8rem;
            }

            .form-group {
                margin-bottom: 20px;
            }

            .form-group label {
                display: block;
                margin-bottom: 8px;
                font-weight: 600;
                color: #1e3c72;
                font-size: 1.1rem;
            }

            .form-group input,
            .form-group select {
                width: 100%;
                padding: 14px;
                border: 2px solid #ddd;
                border-radius: 8px;
                font-size: 1.1rem;
                transition: border-color 0.3s ease;
            }

            .form-group input:focus,
            .form-group select:focus {
                border-color: #3498db;
                outline: none;
                box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
            }

            .btn-calculate {
                background: #1e3c72;
                color: white;
                border: none;
                padding: 15px 30px;
                font-size: 1.2rem;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                width: 100%;
                margin-top: 10px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            }

            .btn-calculate:hover {
                background: #152a54;
                transform: translateY(-3px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            }

            .result-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            }

            .result-section h2 {
                color: #1e3c72;
                margin-bottom: 25px;
                padding-bottom: 15px;
                border-bottom: 2px solid #e0e0e0;
                font-size: 1.8rem;
            }

            .fare-display {
                font-size: 3.5rem;
                font-weight: 700;
                color: #1e3c72;
                text-align: center;
                margin: 20px 0;
            }

            .fare-details {
                background: #e3f2fd;
                padding: 20px;
                border-radius: 10px;
                margin: 20px 0;
            }

            .detail-item {
                display: flex;
                justify-content: space-between;
                padding: 10px 0;
                border-bottom: 1px solid #ccc;
            }

            .detail-item:last-child {
                border-bottom: none;
                font-weight: bold;
                font-size: 1.2rem;
            }

            .detail-name {
                color: #1e3c72;
            }

            .detail-amount {
                font-weight: 600;
            }

            .total-amount {
                color: #1e3c72;
            }

            .savings-tip {
                background: #fff8e1;
                padding: 15px;
                border-radius: 8px;
                margin-top: 20px;
                border-left: 4px solid #ffc107;
            }

            .pass-comparison {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 25px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
                margin-top: 20px;
            }

            .pass-comparison h3 {
                color: #1e3c72;
                margin-bottom: 20px;
                font-size: 1.5rem;
            }

            .pass-options {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }

            .pass-card {
                background: #e3f2fd;
                border-radius: 8px;
                padding: 15px;
                text-align: center;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
                transition: transform 0.3s ease;
            }

            .pass-card:hover {
                transform: translateY(-5px);
            }

            .pass-name {
                font-weight: 600;
                color: #1e3c72;
                margin-bottom: 10px;
            }

            .pass-price {
                font-size: 1.3rem;
                font-weight: bold;
                color: #1e3c72;
            }

            .pass-savings {
                font-size: 0.9rem;
                color: #2e7d32;
                margin-top: 5px;
            }

            .controls {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                text-align: center;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
                margin-bottom: 30px;
            }

            .controls h3 {
                color: #1e3c72;
                margin-bottom: 20px;
                font-size: 1.5rem;
            }

            .btn-group {
                display: flex;
                justify-content: center;
                gap: 20px;
            }

            .btn {
                background: #1e3c72;
                color: white;
                border: none;
                padding: 14px 28px;
                font-size: 1.1rem;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                display: flex;
                align-items: center;
                gap: 10px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            }

            .btn:hover {
                background: #152a54;
                transform: translateY(-3px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            }

            .btn:active {
                transform: translateY(-1px);
            }

            .btn-clear {
                background: #dc3545;
            }

            .btn-clear:hover {
                background: #c82333;
            }

            .btn-save {
                background: #28a745;
            }

            .btn-save:hover {
                background: #218838;
            }

            .btn-compare {
                background: #ffc107;
                color: #212529;
            }

            .btn-compare:hover {
                background: #e0a800;
            }

            .history-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 30px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
                margin-top: 30px;
            }

            .history-section h2 {
                color: #1e3c72;
                margin-bottom: 20px;
                font-size: 1.8rem;
            }

            .history-list {
                max-height: 300px;
                overflow-y: auto;
            }

            .history-item {
                padding: 15px;
                border-bottom: 1px solid #eee;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .history-item:last-child {
                border-bottom: none;
            }

            .history-transit {
                font-weight: 600;
            }

            .history-fare {
                color: #1e3c72;
                font-weight: 600;
                font-size: 1.2rem;
            }

            .history-details {
                font-size: 0.9rem;
                color: #666;
                margin-top: 5px;
            }

            .stats-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin: 20px 0;
            }

            .stat-card {
                background: #e3f2fd;
                border-radius: 10px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            }

            .stat-value {
                font-size: 2rem;
                font-weight: bold;
                color: #1e3c72;
            }

            .stat-label {
                font-size: 1rem;
                color: #666;
                margin-top: 5px;
            }

            .tip-container {
                background: #e3f2fd;
                border-radius: 10px;
                padding: 20px;
                margin: 20px 0;
            }

            .tip-container h3 {
                color: #1e3c72;
                margin-bottom: 15px;
            }

            .tips {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 15px;
            }

            .tip {
                background: white;
                padding: 15px;
                border-radius: 8px;
                border-left: 4px solid #3498db;
            }

            .route-planner {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 12px;
                padding: 25px;
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
                margin-top: 20px;
            }

            .route-planner h3 {
                color: #1e3c72;
                margin-bottom: 20px;
                font-size: 1.5rem;
            }

            .route-display {
                background: #e3f2fd;
                padding: 20px;
                border-radius: 10px;
                margin-top: 15px;
            }

            .route-step {
                padding: 10px 0;
                border-bottom: 1px solid #ccc;
            }

            .route-step:last-child {
                border-bottom: none;
            }

            .route-icon {
                display: inline-block;
                width: 30px;
                height: 30px;
                background: #1e3c72;
                color: white;
                border-radius: 50%;
                text-align: center;
                line-height: 30px;
                margin-right: 10px;
            }
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            header {
                height: 50px;
                background: rgba(255, 255, 255, 0.95);
                border-radius: 8px;
                margin-bottom: 15px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
                display: flex;
                align-items: center;
                justify-content: center;
                position: relative;
            }

            h1 {
                color: #1e3c72;
                font-size: 1.4rem;
                text-align: center;
                padding: 0 10px;
            }

            .calculator-container {
                display: grid;
                grid-template-columns: 1fr;
                gap: 20px;
                margin-bottom: 20px;
            }

            .input-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            }

            .input-section h2 {
                color: #1e3c72;
                margin-bottom: 20px;
                padding-bottom: 10px;
                border-bottom: 1px solid #e0e0e0;
                font-size: 1.3rem;
            }

            .form-group {
                margin-bottom: 15px;
            }

            .form-group label {
                display: block;
                margin-bottom: 6px;
                font-weight: 600;
                color: #1e3c72;
                font-size: 1rem;
            }

            .form-group input,
            .form-group select {
                width: 100%;
                padding: 12px;
                border: 2px solid #ddd;
                border-radius: 6px;
                font-size: 1rem;
            }

            .btn-calculate {
                background: #1e3c72;
                color: white;
                border: none;
                padding: 14px 20px;
                font-size: 1.1rem;
                border-radius: 6px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                width: 100%;
                margin-top: 10px;
                box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
            }

            .btn-calculate:hover {
                background: #152a54;
                transform: translateY(-2px);
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            }

            .result-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            }

            .result-section h2 {
                color: #1e3c72;
                margin-bottom: 20px;
                padding-bottom: 10px;
                border-bottom: 1px solid #e0e0e0;
                font-size: 1.3rem;
            }

            .fare-display {
                font-size: 2.2rem;
                font-weight: 700;
                color: #1e3c72;
                text-align: center;
                margin: 15px 0;
            }

            .fare-details {
                background: #e3f2fd;
                padding: 15px;
                border-radius: 8px;
                margin: 15px 0;
            }

            .detail-item {
                display: flex;
                justify-content: space-between;
                padding: 8px 0;
                border-bottom: 1px solid #ccc;
                font-size: 0.9rem;
            }

            .detail-item:last-child {
                border-bottom: none;
                font-weight: bold;
                font-size: 1.1rem;
            }

            .detail-name {
                color: #1e3c72;
            }

            .detail-amount {
                font-weight: 600;
            }

            .total-amount {
                color: #1e3c72;
            }

            .savings-tip {
                background: #fff8e1;
                padding: 12px;
                border-radius: 6px;
                margin-top: 15px;
                border-left: 3px solid #ffc107;
                font-size: 0.9rem;
            }

            .pass-comparison {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                margin-top: 20px;
            }

            .pass-comparison h3 {
                color: #1e3c72;
                margin-bottom: 15px;
                font-size: 1.2rem;
            }

            .pass-options {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
                gap: 12px;
            }

            .pass-card {
                background: #e3f2fd;
                border-radius: 6px;
                padding: 12px;
                text-align: center;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }

            .pass-name {
                font-weight: 600;
                color: #1e3c72;
                margin-bottom: 8px;
                font-size: 0.9rem;
            }

            .pass-price {
                font-size: 1.1rem;
                font-weight: bold;
                color: #1e3c72;
            }

            .pass-savings {
                font-size: 0.8rem;
                color: #2e7d32;
                margin-top: 3px;
            }

            .controls {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                margin-bottom: 20px;
            }

            .controls h3 {
                color: #1e3c72;
                margin-bottom: 15px;
                font-size: 1.3rem;
            }

            .btn-group {
                display: grid;
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .btn {
                background: #1e3c72;
                color: white;
                border: none;
                padding: 12px 20px;
                font-size: 1rem;
                border-radius: 6px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-weight: 600;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
                width: 100%;
            }

            .btn:hover {
                background: #152a54;
                transform: translateY(-1px);
                box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
            }

            .btn-clear {
                background: #dc3545;
            }

            .btn-clear:hover {
                background: #c82333;
            }

            .btn-save {
                background: #28a745;
            }

            .btn-save:hover {
                background: #218838;
            }

            .btn-compare {
                background: #ffc107;
                color: #212529;
            }

            .btn-compare:hover {
                background: #e0a800;
            }

            .history-section {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                margin-top: 20px;
            }

            .history-section h2 {
                color: #1e3c72;
                margin-bottom: 15px;
                font-size: 1.3rem;
            }

            .history-list {
                max-height: 200px;
                overflow-y: auto;
            }

            .history-item {
                padding: 12px;
                border-bottom: 1px solid #eee;
                display: flex;
                justify-content: space-between;
                align-items: center;
                font-size: 0.9rem;
            }

            .history-item:last-child {
                border-bottom: none;
            }

            .history-transit {
                font-weight: 600;
            }

            .history-fare {
                color: #1e3c72;
                font-weight: 600;
                font-size: 1.1rem;
            }

            .history-details {
                font-size: 0.8rem;
                color: #666;
                margin-top: 3px;
            }

            .stats-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
                gap: 15px;
                margin: 15px 0;
            }

            .stat-card {
                background: #e3f2fd;
                border-radius: 8px;
                padding: 15px;
                text-align: center;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }

            .stat-value {
                font-size: 1.5rem;
                font-weight: bold;
                color: #1e3c72;
            }

            .stat-label {
                font-size: 0.9rem;
                color: #666;
                margin-top: 3px;
            }

            .tip-container {
                background: #e3f2fd;
                border-radius: 8px;
                padding: 15px;
                margin: 15px 0;
            }

            .tip-container h3 {
                color: #1e3c72;
                margin-bottom: 12px;
                font-size: 1.1rem;
            }

            .tips {
                display: grid;
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .tip {
                background: white;
                padding: 12px;
                border-radius: 6px;
                border-left: 3px solid #3498db;
            }

            .tip h4 {
                font-size: 1rem;
                margin-bottom: 5px;
            }

            .tip p {
                font-size: 0.9rem;
            }

            .route-planner {
                background: rgba(255, 255, 255, 0.97);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                margin-top: 20px;
            }

            .route-planner h3 {
                color: #1e3c72;
                margin-bottom: 15px;
                font-size: 1.2rem;
            }

            .route-display {
                background: #e3f2fd;
                padding: 15px;
                border-radius: 8px;
                margin-top: 12px;
            }

            .route-step {
                padding: 8px 0;
                border-bottom: 1px solid #ccc;
                font-size: 0.9rem;
            }

            .route-step:last-child {
                border-bottom: none;
            }

            .route-icon {
                display: inline-block;
                width: 25px;
                height: 25px;
                background: #1e3c72;
                color: white;
                border-radius: 50%;
                text-align: center;
                line-height: 25px;
                margin-right: 8px;
                font-size: 0.8rem;
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-subway"></i> Public Transit Fare Calculator</h1>
        </header>

        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-value" id="total-calculations">0</div>
                <div class="stat-label">Calculations</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="avg-fare">0</div>
                <div class="stat-label">Avg Fare</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="highest-fare">0</div>
                <div class="stat-label">Highest Fare</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="lowest-fare">0</div>
                <div class="stat-label">Lowest Fare</div>
            </div>
        </div>

        <div class="tip-container">
            <h3><i class="fas fa-lightbulb"></i> Transit Savings Tips</h3>
            <div class="tips">
                <div class="tip">
                    <h4>Use Monthly Passes</h4>
                    <p>Monthly passes can save up to 40% compared to individual tickets for regular commuters.</p>
                </div>
                <div class="tip">
                    <h4>Off-Peak Discounts</h4>
                    <p>Travel during off-peak hours to take advantage of reduced fare rates.</p>
                </div>
                <div class="tip">
                    <h4>Transfer Benefits</h4>
                    <p>Take advantage of free or discounted transfers between different transit modes.</p>
                </div>
            </div>
        </div>

        <div class="calculator-container">
            <div class="input-section">
                <h2><i class="fas fa-calculator"></i> Transit Details</h2>
                <div class="form-group">
                    <label for="transit-system">Transit System:</label>
                    <select id="transit-system">
                        <option value="subway">Subway/Metro</option>
                        <option value="bus">Bus</option>
                        <option value="tram">Tram/Light Rail</option>
                        <option value="commuter">Commuter Rail</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="city">City:</label>
                    <input type="text" id="city" placeholder="e.g., New York, London, Tokyo" list="popular-cities">
                </div>
                <div class="form-group">
                    <label for="zones">Number of Zones:</label>
                    <input type="number" id="zones" min="1" max="10" value="1" placeholder="Number of zones crossed">
                </div>
                <div class="form-group">
                    <label for="distance">Distance (miles/km):</label>
                    <input type="number" id="distance" min="0" step="0.1" value="5" placeholder="Travel distance">
                </div>
                <div class="form-group">
                    <label for="ticket-type">Ticket Type:</label>
                    <select id="ticket-type">
                        <option value="single">Single Journey</option>
                        <option value="return">Return Ticket</option>
                        <option value="day">Day Pass</option>
                        <option value="week">Weekly Pass</option>
                        <option value="month" selected>Monthly Pass</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="passenger-type">Passenger Type:</label>
                    <select id="passenger-type">
                        <option value="adult">Adult</option>
                        <option value="senior">Senior (65+)</option>
                        <option value="student">Student</option>
                        <option value="child">Child (5-15)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="peak-time">Travel Time:</label>
                    <select id="peak-time">
                        <option value="offpeak">Off-Peak Hours</option>
                        <option value="peak" selected>Peak Hours</option>
                        <option value="evening">Evening/Weekend</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transfers">Number of Transfers:</label>
                    <input type="number" id="transfers" min="0" max="5" value="0" placeholder="Number of transfers">
                </div>
                <div class="form-group">
                    <label for="frequency">Weekly Trips:</label>
                    <input type="number" id="frequency" min="1" max="100" value="10" placeholder="Trips per week">
                </div>
                <button class="btn-calculate" id="calculate-btn">
                    <i class="fas fa-calculator"></i> Calculate Fare
                </button>
            </div>

            <div class="result-section">
                <h2><i class="fas fa-chart-bar"></i> Fare Estimate</h2>
                <div class="fare-display" id="total-fare">0.00</div>
                <div class="fare-details">
                    <div class="detail-item">
                        <span class="detail-name">Base Fare:</span>
                        <span class="detail-amount" id="base-fare">0.00</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-name">Zone Surcharge:</span>
                        <span class="detail-amount" id="zone-surcharge">0.00</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-name">Distance Fee:</span>
                        <span class="detail-amount" id="distance-fee">0.00</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-name">Passenger Discount:</span>
                        <span class="detail-amount" id="passenger-discount">0.00</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-name">Peak Time Surcharge:</span>
                        <span class="detail-amount" id="peak-surcharge">0.00</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-name">Transfer Discount:</span>
                        <span class="detail-amount" id="transfer-discount">0.00</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-name">Total Fare:</span>
                        <span class="total-amount" id="final-fare">0.00</span>
                    </div>
                </div>
                <div class="savings-tip" id="savings-tip">
                    <strong>Savings Tip:</strong> Monthly passes offer the best value for regular commuters.
                </div>
            </div>
        </div>

        <div class="pass-comparison">
            <h3><i class="fas fa-ticket-alt"></i> Pass Comparison</h3>
            <div class="pass-options" id="pass-comparison">
                <div class="pass-card">
                    <div class="pass-name">Single Ticket</div>
                    <div class="pass-price" id="single-price">$0.00</div>
                    <div class="pass-savings">Per trip</div>
                </div>
                <div class="pass-card">
                    <div class="pass-name">Day Pass</div>
                    <div class="pass-price" id="day-price">$0.00</div>
                    <div class="pass-savings" id="day-savings">Save $0.00</div>
                </div>
                <div class="pass-card">
                    <div class="pass-name">Weekly Pass</div>
                    <div class="pass-price" id="week-price">$0.00</div>
                    <div class="pass-savings" id="week-savings">Save $0.00</div>
                </div>
                <div class="pass-card">
                    <div class="pass-name">Monthly Pass</div>
                    <div class="pass-price" id="month-price">$0.00</div>
                    <div class="pass-savings" id="month-savings">Save $0.00</div>
                </div>
            </div>
        </div>

        <div class="route-planner">
            <h3><i class="fas fa-route"></i> Route Planner</h3>
            <div class="form-group">
                <label for="start-location">Start Location:</label>
                <input type="text" id="start-location" placeholder="Enter starting point">
            </div>
            <div class="form-group">
                <label for="end-location">Destination:</label>
                <input type="text" id="end-location" placeholder="Enter destination">
            </div>
            <button class="btn" id="plan-route-btn" style="background: #28a745; width: 100%; margin-top: 10px;">
                <i class="fas fa-map-marked-alt"></i> Plan Route
            </button>
            <div class="route-display" id="route-display">
                <p>Enter start and end locations to plan your route</p>
            </div>
        </div>

        <div class="controls">
            <h3><i class="fas fa-tools"></i> Transit Tools</h3>
            <div class="btn-group">
                <button class="btn btn-save" id="save-btn">
                    <i class="fas fa-save"></i> Save Estimate
                </button>
                <button class="btn btn-compare" id="compare-btn">
                    <i class="fas fa-balance-scale"></i> Compare Passes
                </button>
                <button class="btn" id="reset-btn">
                    <i class="fas fa-redo"></i> Reset Form
                </button>
                <button class="btn btn-clear" id="clear-btn">
                    <i class="fas fa-trash-alt"></i> Clear All Data
                </button>
            </div>
        </div>

        <div class="history-section">
            <h2><i class="fas fa-history"></i> Fare History</h2>
            <div class="history-list" id="history-list">
                <div class="history-item">
                    <span>No fare estimates calculated yet</span>
                </div>
            </div>
        </div>
    </div>

    <datalist id="popular-cities">
        <option value="New York">
        <option value="London">
        <option value="Tokyo">
        <option value="Paris">
        <option value="Berlin">
        <option value="Sydney">
        <option value="Toronto">
        <option value="San Francisco">
        <option value="Chicago">
        <option value="Washington DC">
    </datalist>

    <script>
        // DOM elements
        const transitSystem = document.getElementById('transit-system');
        const city = document.getElementById('city');
        const zones = document.getElementById('zones');
        const distance = document.getElementById('distance');
        const ticketType = document.getElementById('ticket-type');
        const passengerType = document.getElementById('passenger-type');
        const peakTime = document.getElementById('peak-time');
        const transfers = document.getElementById('transfers');
        const frequency = document.getElementById('frequency');
        const calculateBtn = document.getElementById('calculate-btn');
        const saveBtn = document.getElementById('save-btn');
        const resetBtn = document.getElementById('reset-btn');
        const clearBtn = document.getElementById('clear-btn');
        const compareBtn = document.getElementById('compare-btn');
        const planRouteBtn = document.getElementById('plan-route-btn');
        const historyList = document.getElementById('history-list');
        const startLocation = document.getElementById('start-location');
        const endLocation = document.getElementById('end-location');
        const routeDisplay = document.getElementById('route-display');
        
        // Result elements
        const totalFare = document.getElementById('total-fare');
        const baseFare = document.getElementById('base-fare');
        const zoneSurcharge = document.getElementById('zone-surcharge');
        const distanceFee = document.getElementById('distance-fee');
        const passengerDiscount = document.getElementById('passenger-discount');
        const peakSurcharge = document.getElementById('peak-surcharge');
        const transferDiscount = document.getElementById('transfer-discount');
        const finalFare = document.getElementById('final-fare');
        
        // Pass comparison elements
        const singlePrice = document.getElementById('single-price');
        const dayPrice = document.getElementById('day-price');
        const weekPrice = document.getElementById('week-price');
        const monthPrice = document.getElementById('month-price');
        const daySavings = document.getElementById('day-savings');
        const weekSavings = document.getElementById('week-savings');
        const monthSavings = document.getElementById('month-savings');
        
        // Stats elements
        const totalCalculations = document.getElementById('total-calculations');
        const avgFare = document.getElementById('avg-fare');
        const highestFare = document.getElementById('highest-fare');
        const lowestFare = document.getElementById('lowest-fare');

        // Base fares by transit system
        const baseFares = {
            'subway': 2.75,
            'bus': 2.50,
            'tram': 2.25,
            'commuter': 4.50
        };

        // Zone surcharges
        const zoneSurcharges = {
            1: 0,
            2: 1.50,
            3: 3.00,
            4: 4.50,
            5: 6.00
        };

        // Passenger discounts
        const passengerDiscounts = {
            'adult': 0,
            'senior': 0.50,
            'student': 0.50,
            'child': 0.75
        };

        // Peak time surcharges
        const peakSurcharges = {
            'offpeak': 0,
            'peak': 0.50,
            'evening': 0.25
        };

        // Pass prices (multipliers based on single fare)
        const passMultipliers = {
            'single': 1,
            'return': 1.8,
            'day': 6,
            'week': 30,
            'month': 100
        };

        // Calculate transit fare
        function calculateTransitFare() {
            // Get input values
            const system = transitSystem.value;
            const cityName = city.value.trim() || 'Unknown City';
            const numZones = parseInt(zones.value) || 1;
            const dist = parseFloat(distance.value) || 0;
            const ticket = ticketType.value;
            const passenger = passengerType.value;
            const peak = peakTime.value;
            const numTransfers = parseInt(transfers.value) || 0;
            const weeklyTrips = parseInt(frequency.value) || 1;
            
            // Calculate costs
            const base = baseFares[system] || 2.50;
            const zoneSurchargeCost = zoneSurcharges[Math.min(numZones, 5)] || 0;
            const distanceCost = dist * 0.25; // $0.25 per mile
            const passengerDisc = passengerDiscounts[passenger] || 0;
            const peakSurchargeCost = peakSurcharges[peak] || 0;
            const transferDisc = numTransfers * 0.50; // $0.50 discount per transfer
            
            // Apply passenger discount to base fare
            const discountedBase = base * (1 - passengerDisc);
            
            // Calculate subtotal
            const subtotal = discountedBase + zoneSurchargeCost + distanceCost + peakSurchargeCost - transferDisc;
            
            // Apply ticket type multiplier
            const total = subtotal * (passMultipliers[ticket] || 1);
            
            // Update display
            baseFare.textContent = discountedBase.toFixed(2);
            zoneSurcharge.textContent = zoneSurchargeCost.toFixed(2);
            distanceFee.textContent = distanceCost.toFixed(2);
            passengerDiscount.textContent = (base * passengerDisc).toFixed(2);
            peakSurcharge.textContent = peakSurchargeCost.toFixed(2);
            transferDiscount.textContent = transferDisc.toFixed(2);
            finalFare.textContent = total.toFixed(2);
            totalFare.textContent = total.toFixed(2);
            
            // Update savings tip based on ticket type
            updateSavingsTip(ticket);
            
            // Save to history
            const transitData = {
                system: system,
                city: cityName,
                ticketType: ticket,
                passengerType: passenger,
                total: total,
                weeklyTrips: weeklyTrips,
                timestamp: new Date().toLocaleString()
            };
            
            saveTransitEstimate(transitData);
            updateHistoryDisplay();
            updateStats();
        }

        // Compare passes
        function comparePasses() {
            const system = transitSystem.value;
            const base = baseFares[system] || 2.50;
            const weeklyTrips = parseInt(frequency.value) || 10;
            
            // Calculate single fare
            const single = base * passMultipliers['single'];
            singlePrice.textContent = `$${single.toFixed(2)}`;
            
            // Calculate day pass value
            const dayValue = base * passMultipliers['day'];
            dayPrice.textContent = `$${dayValue.toFixed(2)}`;
            const daySavingsValue = (single * 6) - dayValue;
            daySavings.textContent = daySavingsValue > 0 ? `Save $${daySavingsValue.toFixed(2)}` : 'Not cost-effective';
            
            // Calculate weekly pass value
            const weekValue = base * passMultipliers['week'];
            weekPrice.textContent = `$${weekValue.toFixed(2)}`;
            const weekSavingsValue = (single * weeklyTrips) - weekValue;
            weekSavings.textContent = weekSavingsValue > 0 ? `Save $${weekSavingsValue.toFixed(2)}` : 'Not cost-effective';
            
            // Calculate monthly pass value
            const monthValue = base * passMultipliers['month'];
            monthPrice.textContent = `$${monthValue.toFixed(2)}`;
            const monthSavingsValue = (single * weeklyTrips * 4) - monthValue;
            monthSavings.textContent = monthSavingsValue > 0 ? `Save $${monthSavingsValue.toFixed(2)}` : 'Not cost-effective';
        }

        // Plan route
        function planRoute() {
            const start = startLocation.value.trim();
            const end = endLocation.value.trim();
            
            if (!start || !end) {
                routeDisplay.innerHTML = '<p>Please enter both start and end locations</p>';
                return;
            }
            
            // Simulate route planning
            const system = transitSystem.value;
            const routes = {
                'subway': [
                    {icon: 'M', text: `Take Metro Line 1 from ${start} Station`},
                    {icon: 'T', text: 'Transfer at Central Station to Line 3'},
                    {icon: 'S', text: `Arrive at ${end} Station`}
                ],
                'bus': [
                    {icon: 'B', text: `Board Bus #25 at ${start} Stop`},
                    {icon: 'T', text: 'Transfer at Main Street to Bus #42'},
                    {icon: 'S', text: `Arrive at ${end} Stop`}
                ],
                'tram': [
                    {icon: 'T', text: `Board Tram Line A at ${start} Terminal`},
                    {icon: 'T', text: 'Transfer at Plaza Station to Line B'},
                    {icon: 'S', text: `Arrive at ${end} Terminal`}
                ],
                'commuter': [
                    {icon: 'C', text: `Board Commuter Rail at ${start} Station`},
                    {icon: 'T', text: 'Transfer at Downtown Station to Local Line'},
                    {icon: 'S', text: `Arrive at ${end} Station`}
                ]
            };
            
            const routeSteps = routes[system] || routes['subway'];
            let routeHTML = '<h4 style="margin-bottom: 10px;">Suggested Route:</h4>';
            
            routeSteps.forEach(step => {
                routeHTML += `
                    <div class="route-step">
                        <span class="route-icon">${step.icon}</span>
                        ${step.text}
                    </div>
                `;
            });
            
            routeDisplay.innerHTML = routeHTML;
        }

        // Update savings tip based on ticket type
        function updateSavingsTip(ticketType) {
            const tips = {
                'single': 'Consider a day pass if you plan multiple trips today.',
                'return': 'Day passes often offer better value than return tickets.',
                'day': 'Weekly passes provide savings for regular commuters.',
                'week': 'Monthly passes offer the best value for frequent travelers.',
                'month': 'You\'re getting the best value with your monthly pass!'
            };
            
            const tip = tips[ticketType] || 'Monthly passes offer the best value for regular commuters.';
            document.getElementById('savings-tip').innerHTML = `<strong>Savings Tip:</strong> ${tip}`;
        }

        // Save transit estimate to localStorage
        function saveTransitEstimate(data) {
            let history = JSON.parse(localStorage.getItem('transitHistory') || '[]');
            history.unshift(data);
            if (history.length > 20) history.pop(); // Keep only last 20
            localStorage.setItem('transitHistory', JSON.stringify(history));
        }

        // Update history display
        function updateHistoryDisplay() {
            const history = JSON.parse(localStorage.getItem('transitHistory') || '[]');
            
            if (history.length === 0) {
                historyList.innerHTML = '<div class="history-item"><span>No fare estimates calculated yet</span></div>';
                return;
            }

            historyList.innerHTML = history.map(item => `
                <div class="history-item">
                    <div>
                        <div class="history-transit">${item.system.toUpperCase()} - ${item.city}</div>
                        <div class="history-details">${item.timestamp}</div>
                        <div class="history-details">${item.ticketType} | ${item.passengerType} | ${item.weeklyTrips} trips/week</div>
                    </div>
                    <div class="history-fare">${item.total.toFixed(2)}</div>
                </div>
            `).join('');
        }

        // Update statistics
        function updateStats() {
            const history = JSON.parse(localStorage.getItem('transitHistory') || '[]');
            
            if (history.length === 0) {
                totalCalculations.textContent = '0';
                avgFare.textContent = '0.00';
                highestFare.textContent = '0.00';
                lowestFare.textContent = '0.00';
                return;
            }

            totalCalculations.textContent = history.length;
            
            const totalAmounts = history.reduce((sum, item) => sum + item.total, 0);
            const avg = totalAmounts / history.length;
            const highest = Math.max(...history.map(item => item.total));
            const lowest = Math.min(...history.map(item => item.total));
            
            avgFare.textContent = avg.toFixed(2);
            highestFare.textContent = highest.toFixed(2);
            lowestFare.textContent = lowest.toFixed(2);
        }

        // Reset form
        function resetForm() {
            transitSystem.value = 'subway';
            city.value = '';
            zones.value = '1';
            distance.value = '5';
            ticketType.value = 'month';
            passengerType.value = 'adult';
            peakTime.value = 'peak';
            transfers.value = '0';
            frequency.value = '10';
            startLocation.value = '';
            endLocation.value = '';
            
            // Reset results
            baseFare.textContent = '0.00';
            zoneSurcharge.textContent = '0.00';
            distanceFee.textContent = '0.00';
            passengerDiscount.textContent = '0.00';
            peakSurcharge.textContent = '0.00';
            transferDiscount.textContent = '0.00';
            finalFare.textContent = '0.00';
            totalFare.textContent = '0.00';
            document.getElementById('savings-tip').innerHTML = '<strong>Savings Tip:</strong> Monthly passes offer the best value for regular commuters.';
            
            // Reset pass comparison
            singlePrice.textContent = '$0.00';
            dayPrice.textContent = '$0.00';
            weekPrice.textContent = '$0.00';
            monthPrice.textContent = '$0.00';
            daySavings.textContent = 'Save $0.00';
            weekSavings.textContent = 'Save $0.00';
            monthSavings.textContent = 'Save $0.00';
            
            // Reset route display
            routeDisplay.innerHTML = '<p>Enter start and end locations to plan your route</p>';
        }

        // Clear all data
        function clearAllData() {
            if (confirm('Are you sure you want to clear all transit fare data?')) {
                localStorage.removeItem('transitHistory');
                resetForm();
                updateHistoryDisplay();
                updateStats();
            }
        }

        // Event listeners
        calculateBtn.addEventListener('click', calculateTransitFare);
        compareBtn.addEventListener('click', comparePasses);
        planRouteBtn.addEventListener('click', planRoute);
        saveBtn.addEventListener('click', () => {
            if (parseFloat(totalFare.textContent) > 0) {
                alert('Current estimate saved to history!');
            } else {
                alert('Please calculate a fare estimate first');
            }
        });
        resetBtn.addEventListener('click', resetForm);
        clearBtn.addEventListener('click', clearAllData);

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateHistoryDisplay();
            updateStats();
            comparePasses(); // Initial pass comparison
        });
    </script>
</body>
</html>