<!DOCTYPE html>
<!-- Category: Technology -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Download Time Calculator - Calculate download times for files of any size with different internet speeds. Estimate how long downloads will take and optimize your download schedule. Perfect for large file transfers and bandwidth planning.">
    <meta name="keywords" content="download time calculator, download speed calculator, file download time, internet speed calculator, download estimator, bandwidth calculator, transfer time calculator, download planner, file transfer time, network speed tool">
    <title>Download Time Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 0;
        }
        
        /* Desktop Styles */
        @media (min-width: 768px) {
            header {
                height: 80px;
                background: rgba(0, 0, 0, 0.2);
                backdrop-filter: blur(10px);
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
                position: sticky;
                top: 0;
                z-index: 100;
            }
            
            h1 {
                color: white;
                font-size: 2.5rem;
                text-align: center;
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            }
            
            .container {
                max-width: 1000px;
                margin: 30px auto;
                padding: 30px;
                background: rgba(255, 255, 255, 0.95);
                border-radius: 20px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            }
            
            .calculator-section {
                background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
                border-radius: 15px;
                padding: 30px;
                margin: 25px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                position: relative;
                overflow: hidden;
            }
            
            .calculator-section::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 5px;
                background: linear-gradient(to right, #667eea, #764ba2);
            }
            
            .section-title {
                text-align: center;
                color: #1a237e;
                margin-bottom: 25px;
                font-size: 1.8rem;
            }
            
            .calculator-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 25px;
            }
            
            .input-group {
                margin-bottom: 20px;
            }
            
            .input-label {
                display: block;
                margin-bottom: 8px;
                font-weight: 600;
                color: #1a237e;
                font-size: 1.1rem;
            }
            
            .input-container {
                display: flex;
                gap: 15px;
            }
            
            .value-input {
                flex: 1;
                padding: 15px;
                border: 2px solid #bbdefb;
                border-radius: 10px;
                font-size: 1.1rem;
                transition: all 0.3s ease;
            }
            
            .value-input:focus {
                border-color: #64b5f6;
                outline: none;
                box-shadow: 0 0 0 3px rgba(100, 181, 246, 0.2);
            }
            
            .unit-select {
                padding: 15px;
                border: 2px solid #bbdefb;
                border-radius: 10px;
                font-size: 1.1rem;
                background: white;
                cursor: pointer;
                transition: all 0.3s ease;
                min-width: 120px;
            }
            
            .unit-select:focus {
                border-color: #64b5f6;
                outline: none;
                box-shadow: 0 0 0 3px rgba(100, 181, 246, 0.2);
            }
            
            .calculate-btn {
                padding: 15px 30px;
                background: linear-gradient(to right, #667eea, #764ba2);
                color: white;
                border: none;
                border-radius: 50px;
                font-size: 1.2rem;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                gap: 12px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
                margin: 25px auto 0;
                width: fit-content;
            }
            
            .calculate-btn:hover {
                transform: translateY(-3px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            }
            
            .results-section {
                background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
                border-radius: 15px;
                padding: 25px;
                margin: 25px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                position: relative;
                overflow: hidden;
            }
            
            .results-section::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 5px;
                background: linear-gradient(to right, #ff9a9e, #fad0c4);
            }
            
            .results-title {
                text-align: center;
                color: #d84315;
                margin-bottom: 20px;
                font-size: 1.5rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
            }
            
            .time-display {
                font-size: 2.5rem;
                font-weight: 700;
                color: #bf360c;
                text-align: center;
                margin: 20px 0;
                text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            }
            
            .time-breakdown {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 20px;
                margin: 25px 0;
            }
            
            .breakdown-item {
                background: rgba(255, 255, 255, 0.8);
                border-radius: 15px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            }
            
            .breakdown-label {
                font-size: 1.1rem;
                color: #e64a19;
                font-weight: 600;
                margin-bottom: 10px;
            }
            
            .breakdown-value {
                font-size: 1.5rem;
                font-weight: 700;
                color: #d84315;
            }
            
            .comparison-section {
                background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
                border-radius: 15px;
                padding: 25px;
                margin: 25px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .comparison-title {
                text-align: center;
                color: #1b5e20;
                margin-bottom: 20px;
                font-size: 1.5rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
            }
            
            .speed-comparison {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin-top: 20px;
            }
            
            .speed-card {
                background: white;
                border-radius: 15px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
                transition: all 0.3s ease;
            }
            
            .speed-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.12);
            }
            
            .speed-name {
                font-size: 1.2rem;
                font-weight: 700;
                color: #2e7d32;
                margin-bottom: 15px;
            }
            
            .speed-time {
                font-size: 1.3rem;
                font-weight: 700;
                color: #1b5e20;
            }
            
            .history-section {
                background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
                border-radius: 15px;
                padding: 25px;
                margin: 25px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .history-title {
                text-align: center;
                color: #4a148c;
                margin-bottom: 20px;
                font-size: 1.5rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
            }
            
            .history-list {
                max-height: 300px;
                overflow-y: auto;
                padding: 10px;
                background: rgba(255, 255, 255, 0.8);
                border-radius: 10px;
            }
            
            .history-item {
                padding: 15px;
                border-bottom: 1px solid #e0e0e0;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            
            .history-item:last-child {
                border-bottom: none;
            }
            
            .history-details {
                flex: 1;
            }
            
            .history-file {
                font-weight: 600;
                color: #6a1b9a;
            }
            
            .history-speed {
                font-size: 0.9rem;
                color: #7b1fa2;
            }
            
            .history-time {
                font-weight: 700;
                color: #4a148c;
                font-size: 1.1rem;
            }
            
            .history-timestamp {
                font-size: 0.8rem;
                color: #7b1fa2;
                margin-top: 5px;
            }
            
            .controls {
                display: flex;
                justify-content: center;
                gap: 20px;
                margin: 30px 0;
                flex-wrap: wrap;
            }
            
            .btn {
                padding: 15px 30px;
                border: none;
                border-radius: 30px;
                cursor: pointer;
                font-weight: 600;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                gap: 8px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
                font-size: 1.1rem;
            }
            
            .btn-secondary {
                background: #f0f0f0;
                color: #333;
            }
            
            .btn-success {
                background: linear-gradient(to right, #00b09b, #96c93d);
                color: white;
            }
            
            .btn-danger {
                background: linear-gradient(to right, #ff416c, #ff4b2b);
                color: white;
            }
            
            .btn-info {
                background: linear-gradient(to right, #2196f3, #21cbf3);
                color: white;
            }
            
            .btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            }
            
            .notification {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                border-radius: 10px;
                background: #4CAF50;
                color: white;
                font-weight: 600;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
                transform: translateX(200%);
                transition: transform 0.3s ease;
                z-index: 1000;
            }
            
            .notification.show {
                transform: translateX(0);
            }
        }
        
        /* Mobile Styles */
        @media (max-width: 767px) {
            header {
                height: 50px;
                background: rgba(0, 0, 0, 0.2);
                backdrop-filter: blur(10px);
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
                position: sticky;
                top: 0;
                z-index: 100;
            }
            
            h1 {
                color: white;
                font-size: 1.4rem;
                text-align: center;
                text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            }
            
            .container {
                margin: 15px;
                padding: 20px;
                background: rgba(255, 255, 255, 0.95);
                border-radius: 15px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .calculator-section {
                background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
                border-radius: 15px;
                padding: 20px;
                margin: 20px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                position: relative;
                overflow: hidden;
            }
            
            .calculator-section::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 4px;
                background: linear-gradient(to right, #667eea, #764ba2);
            }
            
            .section-title {
                text-align: center;
                color: #1a237e;
                margin-bottom: 20px;
                font-size: 1.4rem;
            }
            
            .calculator-grid {
                display: grid;
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .input-group {
                margin-bottom: 15px;
            }
            
            .input-label {
                display: block;
                margin-bottom: 6px;
                font-weight: 600;
                color: #1a237e;
                font-size: 1rem;
            }
            
            .input-container {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }
            
            .value-input {
                width: 100%;
                padding: 12px;
                border: 2px solid #bbdefb;
                border-radius: 10px;
                font-size: 1rem;
                transition: all 0.3s ease;
            }
            
            .value-input:focus {
                border-color: #64b5f6;
                outline: none;
                box-shadow: 0 0 0 3px rgba(100, 181, 246, 0.2);
            }
            
            .unit-select {
                padding: 12px;
                border: 2px solid #bbdefb;
                border-radius: 10px;
                font-size: 1rem;
                background: white;
                cursor: pointer;
                transition: all 0.3s ease;
                width: 100%;
            }
            
            .unit-select:focus {
                border-color: #64b5f6;
                outline: none;
                box-shadow: 0 0 0 3px rgba(100, 181, 246, 0.2);
            }
            
            .calculate-btn {
                padding: 12px 25px;
                background: linear-gradient(to right, #667eea, #764ba2);
                color: white;
                border: none;
                border-radius: 50px;
                font-size: 1.1rem;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                gap: 10px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
                margin: 20px auto 0;
                width: 100%;
                justify-content: center;
            }
            
            .calculate-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            }
            
            .results-section {
                background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
                border-radius: 15px;
                padding: 20px;
                margin: 20px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                position: relative;
                overflow: hidden;
            }
            
            .results-section::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 4px;
                background: linear-gradient(to right, #ff9a9e, #fad0c4);
            }
            
            .results-title {
                text-align: center;
                color: #d84315;
                margin-bottom: 15px;
                font-size: 1.3rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
            }
            
            .time-display {
                font-size: 2rem;
                font-weight: 700;
                color: #bf360c;
                text-align: center;
                margin: 15px 0;
                text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            }
            
            .time-breakdown {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 15px;
                margin: 20px 0;
            }
            
            .breakdown-item {
                background: rgba(255, 255, 255, 0.8);
                border-radius: 15px;
                padding: 15px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            }
            
            .breakdown-label {
                font-size: 0.9rem;
                color: #e64a19;
                font-weight: 600;
                margin-bottom: 8px;
            }
            
            .breakdown-value {
                font-size: 1.2rem;
                font-weight: 700;
                color: #d84315;
            }
            
            .comparison-section {
                background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
                border-radius: 15px;
                padding: 20px;
                margin: 20px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .comparison-title {
                text-align: center;
                color: #1b5e20;
                margin-bottom: 15px;
                font-size: 1.3rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
            }
            
            .speed-comparison {
                display: grid;
                grid-template-columns: 1fr;
                gap: 15px;
                margin-top: 15px;
            }
            
            .speed-card {
                background: white;
                border-radius: 15px;
                padding: 15px;
                text-align: center;
                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
                transition: all 0.3s ease;
            }
            
            .speed-card:hover {
                transform: translateY(-3px);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.12);
            }
            
            .speed-name {
                font-size: 1.1rem;
                font-weight: 700;
                color: #2e7d32;
                margin-bottom: 12px;
            }
            
            .speed-time {
                font-size: 1.2rem;
                font-weight: 700;
                color: #1b5e20;
            }
            
            .history-section {
                background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
                border-radius: 15px;
                padding: 20px;
                margin: 20px 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }
            
            .history-title {
                text-align: center;
                color: #4a148c;
                margin-bottom: 15px;
                font-size: 1.3rem;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
            }
            
            .history-list {
                max-height: 250px;
                overflow-y: auto;
                padding: 8px;
                background: rgba(255, 255, 255, 0.8);
                border-radius: 10px;
            }
            
            .history-item {
                padding: 12px;
                border-bottom: 1px solid #e0e0e0;
                display: flex;
                flex-direction: column;
                gap: 5px;
            }
            
            .history-item:last-child {
                border-bottom: none;
            }
            
            .history-details {
                flex: 1;
            }
            
            .history-file {
                font-weight: 600;
                color: #6a1b9a;
                font-size: 0.9rem;
            }
            
            .history-speed {
                font-size: 0.8rem;
                color: #7b1fa2;
            }
            
            .history-time {
                font-weight: 700;
                color: #4a148c;
                font-size: 1rem;
            }
            
            .history-timestamp {
                font-size: 0.7rem;
                color: #7b1fa2;
            }
            
            .controls {
                display: flex;
                flex-direction: column;
                gap: 15px;
                margin: 25px 0;
            }
            
            .btn {
                padding: 12px;
                border: none;
                border-radius: 30px;
                cursor: pointer;
                font-weight: 600;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
                font-size: 1rem;
                width: 100%;
            }
            
            .btn-secondary {
                background: #f0f0f0;
                color: #333;
            }
            
            .btn-success {
                background: linear-gradient(to right, #00b09b, #96c93d);
                color: white;
            }
            
            .btn-danger {
                background: linear-gradient(to right, #ff416c, #ff4b2b);
                color: white;
            }
            
            .btn-info {
                background: linear-gradient(to right, #2196f3, #21cbf3);
                color: white;
            }
            
            .btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            }
            
            .notification {
                position: fixed;
                top: 10px;
                left: 10px;
                right: 10px;
                padding: 12px 20px;
                border-radius: 10px;
                background: #4CAF50;
                color: white;
                font-weight: 600;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
                transform: translateY(-100%);
                transition: transform 0.3s ease;
                z-index: 1000;
                text-align: center;
            }
            
            .notification.show {
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-download"></i> Download Time Calculator</h1>
    </header>
    
    <div class="container">
        <!-- Calculator Section -->
        <div class="calculator-section">
            <h2 class="section-title">Calculate Download Time</h2>
            <div class="calculator-grid">
                <div>
                    <div class="input-group">
                        <label class="input-label" for="fileSize">File Size *</label>
                        <div class="input-container">
                            <input type="number" class="value-input" id="fileSize" placeholder="Enter file size..." min="0" step="any">
                            <select class="unit-select" id="fileSizeUnit">
                                <option value="B">Bytes (B)</option>
                                <option value="KB">Kilobytes (KB)</option>
                                <option value="MB">Megabytes (MB)</option>
                                <option value="GB">Gigabytes (GB)</option>
                                <option value="TB">Terabytes (TB)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label" for="fileName">File Name (Optional)</label>
                        <input type="text" class="value-input" id="fileName" placeholder="e.g., Movie.mp4, Software.zip">
                    </div>
                </div>
                
                <div>
                    <div class="input-group">
                        <label class="input-label" for="downloadSpeed">Download Speed *</label>
                        <div class="input-container">
                            <input type="number" class="value-input" id="downloadSpeed" placeholder="Enter download speed..." min="0" step="any">
                            <select class="unit-select" id="speedUnit">
                                <option value="Kbps">Kbps</option>
                                <option value="Mbps">Mbps</option>
                                <option value="Gbps">Gbps</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label" for="connectionType">Connection Type</label>
                        <select class="unit-select" id="connectionType">
                            <option value="broadband">Broadband</option>
                            <option value="fiber">Fiber Optic</option>
                            <option value="dsl">DSL</option>
                            <option value="cable">Cable</option>
                            <option value="mobile">Mobile Data</option>
                            <option value="satellite">Satellite</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <button class="calculate-btn" id="calculateBtn">
                <i class="fas fa-calculator"></i> Calculate Time
            </button>
        </div>
        
        <!-- Results Section -->
        <div class="results-section">
            <h3 class="results-title"><i class="fas fa-clock"></i> Estimated Download Time</h3>
            <div class="time-display" id="timeDisplay">0 seconds</div>
            
            <div class="time-breakdown">
                <div class="breakdown-item">
                    <div class="breakdown-label">Days</div>
                    <div class="breakdown-value" id="daysValue">0</div>
                </div>
                <div class="breakdown-item">
                    <div class="breakdown-label">Hours</div>
                    <div class="breakdown-value" id="hoursValue">0</div>
                </div>
                <div class="breakdown-item">
                    <div class="breakdown-label">Minutes</div>
                    <div class="breakdown-value" id="minutesValue">0</div>
                </div>
                <div class="breakdown-item">
                    <div class="breakdown-label">Seconds</div>
                    <div class="breakdown-value" id="secondsValue">0</div>
                </div>
            </div>
        </div>
        
        <!-- Comparison Section -->
        <div class="comparison-section">
            <h3 class="comparison-title"><i class="fas fa-bolt"></i> Speed Comparison</h3>
            <div class="speed-comparison" id="speedComparison">
                <div style="text-align: center; padding: 30px; color: #666; grid-column: 1 / -1;">
                    <i class="fas fa-bolt" style="font-size: 2rem; margin-bottom: 15px;"></i>
                    <div>Calculate download time to see speed comparisons</div>
                </div>
            </div>
        </div>
        
        <!-- History Section -->
        <div class="history-section">
            <h3 class="history-title"><i class="fas fa-history"></i> Calculation History</h3>
            <div class="history-list" id="historyList">
                <div style="text-align: center; padding: 30px; color: #666;">
                    <i class="fas fa-history" style="font-size: 2rem; margin-bottom: 15px;"></i>
                    <div>No calculation history yet</div>
                </div>
            </div>
        </div>
        
        <!-- Controls -->
        <div class="controls">
            <button class="btn btn-success" id="copyBtn">
                <i class="fas fa-copy"></i> Copy Result
            </button>
            <button class="btn btn-info" id="shareBtn">
                <i class="fas fa-share-alt"></i> Share Calculation
            </button>
            <button class="btn btn-secondary" id="clearHistoryBtn">
                <i class="fas fa-eraser"></i> Clear History
            </button>
            <button class="btn btn-danger" id="clearAllDataBtn">
                <i class="fas fa-trash"></i> Clear All Data
            </button>
        </div>
    </div>
    
    <div class="notification" id="notification">Calculation completed successfully!</div>

    <script>
        // DOM Elements
        const fileSizeInput = document.getElementById('fileSize');
        const fileSizeUnitSelect = document.getElementById('fileSizeUnit');
        const fileNameInput = document.getElementById('fileName');
        const downloadSpeedInput = document.getElementById('downloadSpeed');
        const speedUnitSelect = document.getElementById('speedUnit');
        const connectionTypeSelect = document.getElementById('connectionType');
        const calculateBtn = document.getElementById('calculateBtn');
        const timeDisplayEl = document.getElementById('timeDisplay');
        const daysValueEl = document.getElementById('daysValue');
        const hoursValueEl = document.getElementById('hoursValue');
        const minutesValueEl = document.getElementById('minutesValue');
        const secondsValueEl = document.getElementById('secondsValue');
        const speedComparisonEl = document.getElementById('speedComparison');
        const historyListEl = document.getElementById('historyList');
        const copyBtn = document.getElementById('copyBtn');
        const shareBtn = document.getElementById('shareBtn');
        const clearHistoryBtn = document.getElementById('clearHistoryBtn');
        const clearAllDataBtn = document.getElementById('clearAllDataBtn');
        const notificationEl = document.getElementById('notification');
        
        // State
        let calculationHistory = [];
        
        // Unit conversion factors
        const fileSizeFactors = {
            'B': 1,
            'KB': 1024,
            'MB': 1024 * 1024,
            'GB': 1024 * 1024 * 1024,
            'TB': 1024 * 1024 * 1024 * 1024
        };
        
        const speedFactors = {
            'Kbps': 1000 / 8,
            'Mbps': 1000 * 1000 / 8,
            'Gbps': 1000 * 1000 * 1000 / 8
        };
        
        // Connection type speeds (Mbps)
        const connectionSpeeds = {
            'broadband': 25,
            'fiber': 100,
            'dsl': 10,
            'cable': 50,
            'mobile': 15,
            'satellite': 5
        };
        
        // Show notification
        function showNotification(message) {
            notificationEl.textContent = message;
            notificationEl.classList.add('show');
            setTimeout(() => {
                notificationEl.classList.remove('show');
            }, 3000);
        }
        
        // Load data from localStorage
        function loadData() {
            const savedHistory = localStorage.getItem('downloadTimeCalculatorHistory');
            calculationHistory = savedHistory ? JSON.parse(savedHistory) : [];
            renderHistory();
        }
        
        // Save data to localStorage
        function saveData() {
            localStorage.setItem('downloadTimeCalculatorHistory', JSON.stringify(calculationHistory));
        }
        
        // Calculate download time
        function calculateDownloadTime() {
            const fileSize = parseFloat(fileSizeInput.value);
            const fileSizeUnit = fileSizeUnitSelect.value;
            const downloadSpeed = parseFloat(downloadSpeedInput.value);
            const speedUnit = speedUnitSelect.value;
            
            if (isNaN(fileSize) || fileSize <= 0) {
                showNotification("Please enter a valid file size!");
                return;
            }
            
            if (isNaN(downloadSpeed) || downloadSpeed <= 0) {
                showNotification("Please enter a valid download speed!");
                return;
            }
            
            // Convert file size to bytes
            const fileSizeInBytes = fileSize * fileSizeFactors[fileSizeUnit];
            
            // Convert download speed to bytes per second
            const downloadSpeedBps = downloadSpeed * speedFactors[speedUnit];
            
            // Calculate time in seconds
            const timeInSeconds = fileSizeInBytes / downloadSpeedBps;
            
            // Format time
            formatAndDisplayTime(timeInSeconds);
            
            // Add to history
            addToHistory(fileSize, fileSizeUnit, downloadSpeed, speedUnit, timeInSeconds);
            
            // Show speed comparison
            showSpeedComparison(fileSizeInBytes);
            
            showNotification("Download time calculated!");
        }
        
        // Format and display time
        function formatAndDisplayTime(seconds) {
            if (seconds < 0) {
                timeDisplayEl.textContent = "Invalid time";
                return;
            }
            
            if (seconds === 0) {
                timeDisplayEl.textContent = "Instantly";
                daysValueEl.textContent = "0";
                hoursValueEl.textContent = "0";
                minutesValueEl.textContent = "0";
                secondsValueEl.textContent = "0";
                return;
            }
            
            // Calculate time components
            const days = Math.floor(seconds / (24 * 3600));
            const hours = Math.floor((seconds % (24 * 3600)) / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = Math.floor(seconds % 60);
            
            // Display breakdown
            daysValueEl.textContent = days;
            hoursValueEl.textContent = hours;
            minutesValueEl.textContent = minutes;
            secondsValueEl.textContent = secs;
            
            // Display formatted time
            let timeString = "";
            if (days > 0) {
                timeString += `${days} day${days > 1 ? 's' : ''} `;
            }
            if (hours > 0) {
                timeString += `${hours} hour${hours > 1 ? 's' : ''} `;
            }
            if (minutes > 0) {
                timeString += `${minutes} minute${minutes > 1 ? 's' : ''} `;
            }
            if (secs > 0 || timeString === "") {
                timeString += `${secs} second${secs !== 1 ? 's' : ''}`;
            }
            
            timeDisplayEl.textContent = timeString.trim();
        }
        
        // Add to history
        function addToHistory(fileSize, fileSizeUnit, downloadSpeed, speedUnit, timeInSeconds) {
            const historyItem = {
                id: Date.now(),
                fileName: fileNameInput.value.trim() || `File (${fileSize} ${fileSizeUnit})`,
                fileSize: fileSize,
                fileSizeUnit: fileSizeUnit,
                downloadSpeed: downloadSpeed,
                speedUnit: speedUnit,
                connectionType: connectionTypeSelect.value,
                timeInSeconds: timeInSeconds,
                timestamp: new Date().toISOString()
            };
            
            calculationHistory.unshift(historyItem);
            
            // Keep only last 50 items
            if (calculationHistory.length > 50) {
                calculationHistory = calculationHistory.slice(0, 50);
            }
            
            renderHistory();
            saveData();
        }
        
        // Show speed comparison
        function showSpeedComparison(fileSizeInBytes) {
            speedComparisonEl.innerHTML = '';
            
            Object.entries(connectionSpeeds).forEach(([type, speed]) => {
                const speedBps = speed * 1000 * 1000 / 8; // Convert Mbps to bytes per second
                const timeInSeconds = fileSizeInBytes / speedBps;
                
                const speedCard = document.createElement('div');
                speedCard.className = 'speed-card';
                
                let typeName = '';
                switch (type) {
                    case 'broadband': typeName = 'Broadband'; break;
                    case 'fiber': typeName = 'Fiber Optic'; break;
                    case 'dsl': typeName = 'DSL'; break;
                    case 'cable': typeName = 'Cable'; break;
                    case 'mobile': typeName = 'Mobile Data'; break;
                    case 'satellite': typeName = 'Satellite'; break;
                    default: typeName = type;
                }
                
                let timeString = '';
                if (timeInSeconds < 1) {
                    timeString = 'Instantly';
                } else if (timeInSeconds < 60) {
                    timeString = `${Math.round(timeInSeconds)} sec`;
                } else if (timeInSeconds < 3600) {
                    timeString = `${Math.round(timeInSeconds / 60)} min`;
                } else if (timeInSeconds < 86400) {
                    timeString = `${Math.round(timeInSeconds / 3600)} hrs`;
                } else {
                    timeString = `${Math.round(timeInSeconds / 86400)} days`;
                }
                
                speedCard.innerHTML = `
                    <div class="speed-name">${typeName}</div>
                    <div class="speed-time">${timeString}</div>
                    <div style="font-size: 0.9rem; color: #558b2f; margin-top: 10px;">${speed} Mbps</div>
                `;
                
                speedComparisonEl.appendChild(speedCard);
            });
        }
        
        // Render history
        function renderHistory() {
            if (calculationHistory.length === 0) {
                historyListEl.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: #666;">
                        <i class="fas fa-history" style="font-size: 2rem; margin-bottom: 15px;"></i>
                        <div>No calculation history yet</div>
                    </div>
                `;
                return;
            }
            
            historyListEl.innerHTML = '';
            calculationHistory.slice(0, 20).forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                const timestamp = new Date(item.timestamp).toLocaleString();
                
                historyItem.innerHTML = `
                    <div class="history-details">
                        <div class="history-file">${item.fileName}</div>
                        <div class="history-speed">${item.fileSize} ${item.fileSizeUnit} at ${item.downloadSpeed} ${item.speedUnit}</div>
                        <div class="history-timestamp">${timestamp}</div>
                    </div>
                    <div class="history-time">${formatTimeString(item.timeInSeconds)}</div>
                `;
                
                historyListEl.appendChild(historyItem);
            });
        }
        
        // Format time string for history
        function formatTimeString(seconds) {
            if (seconds < 1) return "Instantly";
            if (seconds < 60) return `${Math.round(seconds)}s`;
            if (seconds < 3600) return `${Math.round(seconds / 60)}m`;
            if (seconds < 86400) return `${Math.round(seconds / 3600)}h`;
            return `${Math.round(seconds / 86400)}d`;
        }
        
        // Copy result to clipboard
        function copyResult() {
            const result = timeDisplayEl.textContent;
            if (result === "0 seconds" || result.includes("Invalid")) {
                showNotification("No result to copy!");
                return;
            }
            
            navigator.clipboard.writeText(result).then(() => {
                showNotification("Result copied to clipboard!");
            }).catch(() => {
                showNotification("Failed to copy result");
            });
        }
        
        // Share calculation
        function shareCalculation() {
            const fileSize = fileSizeInput.value;
            const fileSizeUnit = fileSizeUnitSelect.value;
            const downloadSpeed = downloadSpeedInput.value;
            const speedUnit = speedUnitSelect.value;
            const result = timeDisplayEl.textContent;
            
            if (result === "0 seconds" || result.includes("Invalid")) {
                showNotification("No calculation to share!");
                return;
            }
            
            const shareText = `Download Time Calculator\n\nFile: ${fileSize} ${fileSizeUnit}\nSpeed: ${downloadSpeed} ${speedUnit}\nEstimated Time: ${result}\n\nCalculated with Download Time Calculator`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Download Time Calculation',
                    text: shareText
                }).catch(() => {
                    copyToClipboardFallback(shareText);
                });
            } else {
                copyToClipboardFallback(shareText);
            }
        }
        
        // Copy to clipboard fallback
        function copyToClipboardFallback(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            showNotification("Calculation details copied to clipboard!");
        }
        
        // Clear history
        function clearHistory() {
            if (calculationHistory.length === 0) {
                showNotification("No history to clear!");
                return;
            }
            
            if (confirm(`Are you sure you want to clear ${calculationHistory.length} calculation history items?`)) {
                calculationHistory = [];
                renderHistory();
                saveData();
                showNotification("Calculation history cleared");
            }
        }
        
        // Clear all data
        function clearAllData() {
            if (confirm('Are you sure you want to clear ALL data including history?')) {
                calculationHistory = [];
                fileSizeInput.value = '';
                fileNameInput.value = '';
                downloadSpeedInput.value = '';
                fileSizeUnitSelect.value = 'MB';
                speedUnitSelect.value = 'Mbps';
                connectionTypeSelect.value = 'broadband';
                timeDisplayEl.textContent = '0 seconds';
                daysValueEl.textContent = '0';
                hoursValueEl.textContent = '0';
                minutesValueEl.textContent = '0';
                secondsValueEl.textContent = '0';
                speedComparisonEl.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: #666; grid-column: 1 / -1;">
                        <i class="fas fa-bolt" style="font-size: 2rem; margin-bottom: 15px;"></i>
                        <div>Calculate download time to see speed comparisons</div>
                    </div>
                `;
                localStorage.removeItem('downloadTimeCalculatorHistory');
                showNotification("All data cleared");
            }
        }
        
        // Event Listeners
        calculateBtn.addEventListener('click', calculateDownloadTime);
        copyBtn.addEventListener('click', copyResult);
        shareBtn.addEventListener('click', shareCalculation);
        clearHistoryBtn.addEventListener('click', clearHistory);
        clearAllDataBtn.addEventListener('click', clearAllData);
        
        // Calculate on Enter key
        fileSizeInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                calculateDownloadTime();
            }
        });
        
        downloadSpeedInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                calculateDownloadTime();
            }
        });
        
        // Auto-calculate when changing connection type
        connectionTypeSelect.addEventListener('change', () => {
            const selectedSpeed = connectionSpeeds[connectionTypeSelect.value];
            downloadSpeedInput.value = selectedSpeed;
            speedUnitSelect.value = 'Mbps';
            
            if (fileSizeInput.value && downloadSpeedInput.value) {
                calculateDownloadTime();
            }
        });
        
        // Initialize
        loadData();
    </script>
</body>
</html>